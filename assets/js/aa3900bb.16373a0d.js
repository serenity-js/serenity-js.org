"use strict";(self.webpackChunkserenity_js_org=self.webpackChunkserenity_js_org||[]).push([[8021],{28453:(e,t,i)=>{i.d(t,{R:()=>a,x:()=>o});var n=i(96540);const s={},r=n.createContext(s);function a(e){const t=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function o(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),n.createElement(r.Provider,{value:t},e.children)}},52201:e=>{e.exports=JSON.parse('{"permalink":"/blog/better-playwright-test-fixtures","editUrl":"https://github.com/serenity-js/serenity-js.org/tree/main/src/blog/2025-12-04-better-playwright-test-fixtures/index.mdx","source":"@site/src/blog/2025-12-04-better-playwright-test-fixtures/index.mdx","title":"Serenity/JS 3.37: Better Playwright Test Fixtures","description":"Serenity/JS 3.37 introduces a focused set of improvements to the Playwright Test integration, delivered in PR #3096.","date":"2025-12-04T00:00:00.000Z","tags":[{"inline":true,"label":"core","permalink":"/blog/tags/core"},{"inline":true,"label":"playwright","permalink":"/blog/tags/playwright"},{"inline":true,"label":"playwright-test","permalink":"/blog/tags/playwright-test"},{"inline":true,"label":"web","permalink":"/blog/tags/web"},{"inline":true,"label":"open-source","permalink":"/blog/tags/open-source"}],"readingTime":3.04,"hasTruncateMarker":true,"authors":[{"name":"Jan Molak","url":"https://github.com/jan-molak","imageURL":"https://github.com/jan-molak.png","key":"jan-molak","page":null}],"frontMatter":{"slug":"better-playwright-test-fixtures","title":"Serenity/JS 3.37: Better Playwright Test Fixtures","authors":["jan-molak"],"tags":["core","playwright","playwright-test","web","open-source"]},"unlisted":false,"nextItem":{"title":"Serenity/JS 3.32: Worker-scope actors and better reporting for Playwright Test","permalink":"/blog/playwright-reporting-and-worker-scope-actors"}}')},63459:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>a,metadata:()=>n,toc:()=>c});var n=i(52201),s=i(74848),r=i(28453);const a={slug:"better-playwright-test-fixtures",title:"Serenity/JS 3.37: Better Playwright Test Fixtures",authors:["jan-molak"],tags:["core","playwright","playwright-test","web","open-source"]},o=void 0,l={authorsImageUrls:[void 0]},c=[{value:"A more versatile <code>useBase</code>",id:"a-more-versatile-usebase",level:2},{value:"Using Serenity/JS with a component test runner",id:"using-serenityjs-with-a-component-test-runner",level:3},{value:"Clear and flexible actor configuration",id:"clear-and-flexible-actor-configuration",level:2},{value:"Using extra abilities in a test scenario",id:"using-extra-abilities-in-a-test-scenario",level:3},{value:"Using extra abilities in a customised test API",id:"using-extra-abilities-in-a-customised-test-api",level:3},{value:"Improved ergonomics for multi-dimensional testing",id:"improved-ergonomics-for-multi-dimensional-testing",level:2},{value:"Combining component and visual testing",id:"combining-component-and-visual-testing",level:3}];function p(e){const t={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.a,{href:"https://github.com/serenity-js/serenity-js/releases/tag/v3.37.0",children:(0,s.jsx)(t.strong,{children:"Serenity/JS 3.37"})})," introduces a focused set of improvements to the ",(0,s.jsx)(t.a,{href:"/handbook/test-runners/playwright-test/",children:"Playwright Test integration"}),", delivered in ",(0,s.jsx)(t.a,{href:"https://github.com/serenity-js/serenity-js/pull/3096",children:"PR #3096"}),".\nThis update strengthens the flexibility of Playwright Test fixtures while keeping the Serenity/JS API clean, expressive, and easy to maintain."]}),"\n",(0,s.jsx)(t.p,{children:"Let's explore what's new!"}),"\n","\n",(0,s.jsxs)(t.h2,{id:"a-more-versatile-usebase",children:["A more versatile ",(0,s.jsx)(t.code,{children:"useBase"})]}),"\n",(0,s.jsxs)(t.p,{children:["This release extends the capabilities of ",(0,s.jsx)(t.a,{href:"/api/playwright-test/function/useBase/",children:(0,s.jsx)(t.code,{children:"useBase"})}),", allowing it to wrap any Playwright Test base \u2014 including custom or experimental runners \u2014 into a Serenity/JS-ready test API.\nYou can now combine multiple base fixtures within the same suite, create hybrid test APIs, or plug in specialised runners such as component-test frameworks."]}),"\n",(0,s.jsxs)(t.p,{children:["This provides a unified way to use diverse fixtures without rewriting configuration or losing access to ",(0,s.jsx)(t.a,{href:"/api/playwright-test/interface/SerenityFixtures/",children:(0,s.jsx)(t.code,{children:"SerenityFixtures"})}),".\nIt's especially useful when tests span multiple layers\u2014UI components, browser workflows, and supporting infrastructure."]}),"\n",(0,s.jsx)(t.h3,{id:"using-serenityjs-with-a-component-test-runner",children:"Using Serenity/JS with a component test runner"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-ts",metastring:'title="EmailInput.spec.tsx"',children:"import { test as componentTest } from '@playwright/experimental-ct-react'\nimport { Enter, CssClasses } from '@serenity-js/web'\nimport { Ensure, not, contain } from '@serenity-js/assertions'\nimport { useBase } from '@serenity-js/playwright-test'\n\nimport EmailInput from './EmailInput.js'\n\ninterface MyFixtures {\n    emailAddress: string;\n}\n\nconst { describe, it, test, beforeEach, afterEach } = useBase(componentTest)\n    .useFixtures<MyFixtures>({\n        emailAddress: async ({ actor }, use) => {\n          await use(`${ actor.name }@example.org`);\n        }\n    })\n\ndescribe('EmailInput', () => {\n\n    it('accepts a valid email address', async ({\n        mount,\n        emailAddress,\n        actor\n    }) => {\n\n        const component = PageElement.from(await mount(<EmailInput />))\n\n        await actor.attemptsTo(\n            Enter.theValue(emailAddress).into(component),\n            Ensure.that(CssClasses.of(component), not(contain('error'))),\n        )\n    })\n})\n"})}),"\n",(0,s.jsx)(t.p,{children:"Explore more examples in Serenity/JS Project Template repositories:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/serenity-js/serenity-js-playwright-ct-react-template",children:"Serenity/JS Playwright Component Testing with React"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://github.com/serenity-js/serenity-js-playwright-ct-web-components-template",children:"Serenity/JS Playwright Component Testing with Web Components"})}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"clear-and-flexible-actor-configuration",children:"Clear and flexible actor configuration"}),"\n",(0,s.jsxs)(t.p,{children:["The new ",(0,s.jsx)(t.a,{href:"/api/playwright-test/interface/SerenityFixtures/#extraAbilities",children:(0,s.jsx)(t.code,{children:"extraAbilities"})})," fixture lets you extend what\nyour actors can do \u2014 globally or per scenario \u2014 without overriding the entire ",(0,s.jsx)(t.a,{href:"/api/playwright-test/interface/SerenityFixtures/#actors",children:(0,s.jsx)(t.code,{children:"cast of actors"})}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"using-extra-abilities-in-a-test-scenario",children:"Using extra abilities in a test scenario"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",metastring:'title="my_feature.spec.tsts"',children:"import { type Ability } from '@serenity-js/core'\nimport { describe, it, test } from '@serenity-js/playwright-test'\nimport { MyAbility } from './MyAbility.js'\n\ndescribe(`My feature`, () => {\n\n    test.use({\n        extraAbilities: [ new MyAbility() ]\n    })\n\n    it(`...`, async({ actor }) => {\n      // ...\n    })\n})\n"})}),"\n",(0,s.jsx)(t.h3,{id:"using-extra-abilities-in-a-customised-test-api",children:"Using extra abilities in a customised test API"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",metastring:'title="test-api.ts"',children:"import { useFixtures } from '@serenity-js/playwright-test'\n\nimport { MyAbility } from './MyAbility.js'\n\nexport const {\n    describe,\n    it,\n    test,\n    beforeAll,\n    beforeEach,\n    afterEach,\n    afterAll,\n    expect,\n} = useFixtures({\n    extraAbilities: [ new MyAbility() ]\n})\n"})}),"\n",(0,s.jsxs)(t.p,{children:["Explore more examples in the ",(0,s.jsxs)(t.a,{href:"/api/playwright-test/interface/SerenityFixtures/#extraAbilities",children:[(0,s.jsx)(t.code,{children:"extraAbilities"})," API docs"]})]}),"\n",(0,s.jsx)(t.h2,{id:"improved-ergonomics-for-multi-dimensional-testing",children:"Improved ergonomics for multi-dimensional testing"}),"\n",(0,s.jsx)(t.p,{children:"Many modern test suites evaluate applications across multiple dimensions\u2014functional behaviour, accessibility, visual integrity, and more.\nPlaywright Test-based tools and frameworks expose these capabilities as a combination of fixtures and base tests."}),"\n",(0,s.jsx)(t.p,{children:"Serenity/JS 3.37 simplifies this setup by making it easier to combine several base tests and present them through a single, consistent Serenity/JS API."}),"\n",(0,s.jsx)(t.h3,{id:"combining-component-and-visual-testing",children:"Combining component and visual testing"}),"\n",(0,s.jsxs)(t.p,{children:["The example below merges the ",(0,s.jsx)(t.a,{href:"https://github.com/sand4rt/playwright-ct-web",children:(0,s.jsx)(t.code,{children:"@sand4rt/experimental-ct-web"})}),"\ncomponent-test runner with the ",(0,s.jsx)(t.a,{href:"https://www.npmjs.com/package/@applitools/eyes-playwright",children:"Applitools Playwright Fixtures"}),"."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",metastring:'title="test-api.ts"',children:"import { useBase } from '@serenity-js/playwright-test'\nimport { test as componentTest } from '@sand4rt/experimental-ct-web'\nimport { test as applitoolsTest } from '@applitools/eyes-playwright'\n\nexport const {\n    describe,\n    it,\n    test,\n    beforeAll,\n    beforeEach,\n    afterEach,\n    afterAll,\n    expect,\n} = useBase(componentTest, applitoolsTest).useFixtures({\n    extraAbilities: async ({ eyes, /* other dependencies */ }, use) => {\n        await use([\n            // Add abilities\n        ])\n    }\n})\n"})}),"\n",(0,s.jsxs)(t.p,{children:["If you're using Serenity/JS with Playwright Test - ",(0,s.jsx)(t.a,{href:"/releases/updating-serenity-js/",children:"update your test suite"})," and take this latest version for a spin!\nIf you're new to the framework, check out our ",(0,s.jsx)(t.a,{href:"/handbook/tutorials/your-first-web-scenario/",children:"official tutorial"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:["If you're using Serenity/JS with Playwright Test, now is a great time to ",(0,s.jsx)(t.a,{href:"/releases/updating-serenity-js/",children:"upgrade your test suite"}),"\nand take this latest version for a spin!\nIf you're getting started, our ",(0,s.jsx)(t.a,{href:"/handbook/tutorials/your-first-web-scenario/",children:"official tutorial"})," is the best place to begin."]}),"\n",(0,s.jsx)(t.p,{children:"Enjoy Serenity! \ud83c\udf89"})]})}function h(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}}}]);