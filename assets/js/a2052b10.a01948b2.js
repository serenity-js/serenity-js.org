"use strict";(self.webpackChunkserenity_js_org=self.webpackChunkserenity_js_org||[]).push([[8368],{30698:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>h,contentTitle:()=>d,default:()=>j,frontMatter:()=>l,metadata:()=>i,toc:()=>u});const i=JSON.parse('{"id":"test-runners/webdriverio","title":"WebdriverIO","description":"WebdriverIO is a versatile framework for automating tests of modern web and mobile applications.","source":"@site/src/docs/handbook/test-runners/webdriverio.mdx","sourceDirName":"test-runners","slug":"/test-runners/webdriverio","permalink":"/handbook/test-runners/webdriverio","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-js/serenity-js.org/tree/main/src/docs/handbook/test-runners/webdriverio.mdx","tags":[],"version":"current","lastUpdatedAt":1735767981000,"sidebarPosition":6,"frontMatter":{"sidebar_position":6,"title":"WebdriverIO"},"sidebar":"docs","previous":{"title":"Protractor","permalink":"/handbook/test-runners/protractor"},"next":{"title":"Reporting","permalink":"/handbook/reporting/"}}');var t=r(74848),s=r(28453),o=r(49489),a=r(7227),c=r(55095);const l={sidebar_position:6,title:"WebdriverIO"},d="WebdriverIO",h={},u=[{value:"Setting up a Serenity/JS project",id:"setting-up-a-serenityjs-project",level:2},{value:"Using the WebdriverIO CLI wizard",id:"using-the-webdriverio-cli-wizard",level:3},{value:"Using Serenity/JS Project Templates",id:"using-serenityjs-project-templates",level:3},{value:"Adding Serenity/JS to an existing project",id:"adding-serenityjs-to-an-existing-project",level:3},{value:"Compatibility",id:"compatibility",level:4},{value:"Installing Serenity/JS core and reporting modules",id:"installing-serenityjs-core-and-reporting-modules",level:4},{value:"Installing Serenity/JS test runner adapter",id:"installing-serenityjs-test-runner-adapter",level:4},{value:"Serenity/JS with Cucumber",id:"serenityjs-with-cucumber",level:5},{value:"Serenity/JS with Jasmine",id:"serenityjs-with-jasmine",level:5},{value:"Serenity/JS with Mocha",id:"serenityjs-with-mocha",level:5},{value:"Configuring Serenity/JS",id:"configuring-serenityjs",level:2},{value:"Configuring Cucumber",id:"configuring-cucumber",level:3},{value:"Configuring Jasmine",id:"configuring-jasmine",level:3},{value:"Configuring Mocha",id:"configuring-mocha",level:3},{value:"Configuring WebdriverIO",id:"configuring-webdriverio",level:3},{value:"Writing test scenarios",id:"writing-test-scenarios",level:2},{value:"Using Serenity/JS actors",id:"using-serenityjs-actors",level:3},{value:"Customising Serenity/JS actors",id:"customising-serenityjs-actors",level:3},{value:"Running tests and generating reports",id:"running-tests-and-generating-reports",level:2},{value:"Using NPM scripts",id:"using-npm-scripts",level:3},{value:"Upgrading to WebdriverIO 9",id:"upgrading-to-webdriverio-9",level:2},{value:"Updating dependencies",id:"updating-dependencies",level:3},{value:"Updating TypeScript configuration",id:"updating-typescript-configuration",level:3},{value:"Updating WebdriverIO configuration",id:"updating-webdriverio-configuration",level:3},{value:"Installing updated modules",id:"installing-updated-modules",level:3},{value:"Next steps",id:"next-steps",level:2}];function p(e){const n={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",img:"img",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"webdriverio",children:"WebdriverIO"})}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://webdriver.io/",children:"WebdriverIO"})," is a versatile framework for automating tests of modern web and mobile applications.\nWebdriverIO leverages the power of the ",(0,t.jsx)(n.a,{href:"https://www.w3.org/TR/webdriver/",children:"WebDriver"})," and ",(0,t.jsx)(n.a,{href:"https://www.w3.org/TR/webdriver-bidi/",children:"WebDriver-BiDi"})," protocols, developed and supported\nby all major browser vendors and thus guarantees a true cross-browser testing experience."]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://serenity-js.org",children:"Serenity/JS"})," revolutionises automated testing by enabling your team to write ",(0,t.jsx)(n.strong,{children:"expressive"}),", ",(0,t.jsx)(n.strong,{children:"maintainable tests"})," that align\nwith ",(0,t.jsx)(n.strong,{children:"your unique domain"}),". Seamlessly integrating with ",(0,t.jsx)(n.a,{href:"https://webdriver.io",children:"WebdriverIO"})," and test runners like\n",(0,t.jsx)(n.a,{href:"/handbook/test-runners/mocha/",children:(0,t.jsx)(n.strong,{children:"Mocha"})}),",\n",(0,t.jsx)(n.a,{href:"/handbook/test-runners/cucumber/",children:(0,t.jsx)(n.strong,{children:"Cucumber"})}),",\nand ",(0,t.jsx)(n.a,{href:"/handbook/test-runners/jasmine/",children:(0,t.jsx)(n.strong,{children:"Jasmine"})}),",\nSerenity/JS also offers ",(0,t.jsx)(n.strong,{children:"advanced reporting"})," that provides clear insights into test results,\nhelping both technical teams and business stakeholders understand the quality of the system under test."]}),"\n",(0,t.jsx)(n.p,{children:"Serenity/JS enhances WebdriverIO test suites by offering:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/handbook/reporting/",children:"Enhanced Reporting"})," - Gain detailed execution insights with visually rich reports and living documentation."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/handbook/design/screenplay-pattern/",children:"Reusable Code"}),": Leverage the Screenplay Pattern for portable, maintainable tests that streamline collaboration."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/api/",children:"Integration Libraries"})," - Test APIs, manage local Node.js servers, and verify complex workflows effortlessly with ready-to-use libraries."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.img,{alt:"Serenity BDD Report Example",src:r(29867).A+"",width:"1600",height:"738"})}),"\n",(0,t.jsx)(n.p,{children:(0,t.jsx)(n.strong,{children:"In this guide, you will learn:"})}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"How to set up a new Serenity/JS + WebdriverIO project"}),"\n",(0,t.jsxs)(n.li,{children:["How to configure ",(0,t.jsx)(n.a,{href:"/handbook/reporting/",children:"Serenity/JS reporting services"}),", including the ",(0,t.jsx)(n.a,{href:"/handbook/reporting/serenity-bdd-reporter",children:"Serenity BDD reporter"}),", even if your test scenarios don't follow the Screenplay Pattern yet"]}),"\n",(0,t.jsxs)(n.li,{children:["How to implement WebdriverIO test scenarios using reusable ",(0,t.jsx)(n.a,{href:"/handbook/design/screenplay-pattern",children:"Serenity/JS Screenplay Pattern"})," APIs and the ",(0,t.jsx)(n.a,{href:"/api/webdriverio",children:"Serenity/JS WebdriverIO module"})]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"setting-up-a-serenityjs-project",children:"Setting up a Serenity/JS project"}),"\n",(0,t.jsxs)(n.p,{children:["The easiest way to create a new Serenity/JS and WebdriverIO project is to use the WebdriverIO CLI wizard or clone one of the ",(0,t.jsx)(n.a,{href:"/handbook/getting-started/project-templates/#webdriverio",children:"Serenity/JS + WebdriverIO project templates"}),"\nfor your preferred test runner."]}),"\n",(0,t.jsx)(n.p,{children:"You can also add Serenity/JS to an existing WebdriverIO project by installing the required Serenity/JS modules and configuring the WebdriverIO test runner to use Serenity/JS framework and reporting services."}),"\n",(0,t.jsx)(n.p,{children:"In this section, I'll walk you through each of these options."}),"\n",(0,t.jsx)(n.h3,{id:"using-the-webdriverio-cli-wizard",children:"Using the WebdriverIO CLI wizard"}),"\n",(0,t.jsx)(n.p,{children:"To use the WebdriverIO CLI wizard to create a new project, run the following command in your computer terminal:"}),"\n",(0,t.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,t.jsx)(a.A,{value:"npm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm init wdio ./my-project\n"})})}),(0,t.jsx)(a.A,{value:"yarn",label:"Yarn",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"yarn create wdio ./my-project\n"})})}),(0,t.jsx)(a.A,{value:"pnpm",label:"pnpm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"pnpm create wdio ./my-project\n"})})})]}),"\n",(0,t.jsx)(n.p,{children:"To create a Serenity/JS project, select the following options:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["Type of testing: ",(0,t.jsx)(n.strong,{children:"E2E Testing"})]}),"\n",(0,t.jsxs)(n.li,{children:["Automation backend: ",(0,t.jsx)(n.strong,{children:"any"})," - Serenity/JS supports both local and remote WebdriverIO test runners; select ",(0,t.jsx)(n.strong,{children:"local"})," to keep it simple"]}),"\n",(0,t.jsxs)(n.li,{children:["Environment: ",(0,t.jsx)(n.strong,{children:"web"})]}),"\n",(0,t.jsxs)(n.li,{children:["Browser: ",(0,t.jsx)(n.strong,{children:"any"})," - Serenity/JS supports all browsers supported by WebdriverIO; selecting ",(0,t.jsx)(n.strong,{children:"Chrome"})," is a good starting point"]}),"\n",(0,t.jsxs)(n.li,{children:["Framework: ",(0,t.jsx)(n.strong,{children:"Jasmine with Serenity/JS"}),", ",(0,t.jsx)(n.strong,{children:"Mocha with Serenity/JS"}),", or ",(0,t.jsx)(n.strong,{children:"Cucumber with Serenity/JS"})]}),"\n",(0,t.jsxs)(n.li,{children:["Compiler: ",(0,t.jsx)(n.strong,{children:"any"})," - Serenity/JS supports both TypeScript and JavaScript; we recommend ",(0,t.jsx)(n.strong,{children:"TypeScript"})," for better tooling support"]}),"\n",(0,t.jsxs)(n.li,{children:["Generate test files: ",(0,t.jsx)(n.strong,{children:"yes"}),", if you'd like Serenity/JS to give you a starting point for your test scenarios"]}),"\n",(0,t.jsxs)(n.li,{children:["Test file location: ",(0,t.jsx)(n.strong,{children:"accept the defaults"})," unless you'd like to store your code in a different directory"]}),"\n",(0,t.jsxs)(n.li,{children:["Test reporter: ",(0,t.jsx)(n.strong,{children:"any"}),", Serenity/JS configures the project to use ",(0,t.jsx)(n.a,{href:"/handbook/reporting/",children:"Serenity/JS reporting services"}),", and you can add native WebdriverIO reporters too if needed"]}),"\n",(0,t.jsxs)(n.li,{children:["Plugins/add-ons/services: ",(0,t.jsx)(n.strong,{children:"none"}),"; Serenity/JS doesn't require any additional plugins to work with WebdriverIO"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"For a step-by-step demonstration of creating a new project using the WebdriverIO CLI wizard, check out the below video:"}),"\n",(0,t.jsxs)("figure",{children:[(0,t.jsx)("iframe",{width:"100%",height:"494",src:"https://www.youtube.com/embed/8mMY6Of4nCw?si=iMT8jiH3xA9lWl0v",title:"YouTube video player",frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share; fullscreen",allowfullscreen:!0}),(0,t.jsx)("figcaption",{children:"Generating a new Serenity/JS project using the WebdriverIO configuration wizard"})]}),"\n",(0,t.jsx)(n.h3,{id:"using-serenityjs-project-templates",children:"Using Serenity/JS Project Templates"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/handbook/getting-started/project-templates/",children:"Serenity/JS Project Templates"})," combine the most popular configurations of Serenity/JS modules, integration, and test tools, and include a handful of test scenarios to help you get started.\nAll the official Serenity/JS Project Templates are available on GitHub, complete with ",(0,t.jsx)(n.strong,{children:"GitHub Actions"})," configuration, ",(0,t.jsx)(n.strong,{children:"VisualStudio Code"})," settings, and configured to publish test reports to ",(0,t.jsx)(n.strong,{children:"GitHub Pages"}),"."]}),"\n",(0,t.jsx)(n.p,{children:"You can use them as a reference implementation or as a starting point for your project."}),"\n",(0,t.jsxs)(n.p,{children:['To create a new project from a Serenity/JS Project Template, click on the "Generate new project" link on the ',(0,t.jsx)(n.a,{href:"/handbook/getting-started/project-templates/",children:"Serenity/JS Project Templates"}),' page, or click on the "Use this template" button on the template\'s GitHub repository page.']}),"\n",(0,t.jsx)(n.p,{children:"Learn more:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/handbook/getting-started/project-templates/#webdriverio",children:"Serenity/JS Project Templates for WebdriverIO"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.github.com/en/repositories/creating-and-managing-repositories/creating-a-repository-from-a-template",children:"Creating a repository from a GitHub template"})}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"adding-serenityjs-to-an-existing-project",children:"Adding Serenity/JS to an existing project"}),"\n",(0,t.jsxs)(n.p,{children:["To add Serenity/JS to an existing WebdriverIO project, you'll need to install the required Serenity/JS modules and ",(0,t.jsx)(n.a,{href:"#configuring-serenityjs",children:"configure the WebdriverIO test runner"})," to use Serenity/JS framework and reporting services."]}),"\n",(0,t.jsx)(n.h4,{id:"compatibility",children:"Compatibility"}),"\n",(0,t.jsx)(n.p,{children:"Serenity/JS is compatible with:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:"WebdriverIO 8 and 9"}),"\n",(0,t.jsxs)(n.li,{children:["Recent ",(0,t.jsx)(n.a,{href:"https://nodejs.org/en/about/previous-releases",children:"maintenance and active LTS versions"})," of Node.js ",(0,t.jsx)(c.A,{})]}),"\n",(0,t.jsx)(n.li,{children:"Latest major versions of Jasmine and Mocha"}),"\n",(0,t.jsx)(n.li,{children:"All major versions of Cucumber"}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["If your existing project dependencies are older than the above, you'll need to update them first to ensure compatibility.\nFor more information on compatibility with external tools, consult the ",(0,t.jsx)(n.a,{href:"/releases/",children:"Serenity/JS compatibility matrix"}),"."]}),"\n",(0,t.jsx)(n.h4,{id:"installing-serenityjs-core-and-reporting-modules",children:"Installing Serenity/JS core and reporting modules"}),"\n",(0,t.jsx)(n.p,{children:"To integrate Serenity/JS with WebdriverIO, you'll need the following Serenity/JS modules:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/assertions",children:(0,t.jsx)(n.code,{children:"@serenity-js/assertions"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/console-reporter",children:(0,t.jsx)(n.code,{children:"@serenity-js/console-reporter"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/core",children:(0,t.jsx)(n.code,{children:"@serenity-js/core"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/rest",children:(0,t.jsx)(n.code,{children:"@serenity-js/rest"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/serenity-bdd",children:(0,t.jsx)(n.code,{children:"@serenity-js/serenity-bdd"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/web",children:(0,t.jsx)(n.code,{children:"@serenity-js/web"})})}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"/api/webdriverio",children:(0,t.jsx)(n.code,{children:"@serenity-js/webdriverio"})})," for WebdriverIO 9 or ",(0,t.jsx)(n.a,{href:"/api/webdriverio-8",children:(0,t.jsx)(n.code,{children:"@serenity-js/webdriverio-8"})})," if you're using WebdriverIO 8"]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"To install the above modules, run the following command in your terminal:"}),"\n",(0,t.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,t.jsx)(a.A,{value:"npm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm install --save-dev @serenity-js/assertions \\\n    @serenity-js/console-reporter \\\n    @serenity-js/core @serenity-js/rest \\\n    @serenity-js/serenity-bdd \\\n    @serenity-js/web \\\n    @serenity-js/webdriverio\n"})})}),(0,t.jsx)(a.A,{value:"yarn",label:"Yarn",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"yarn add --dev @serenity-js/assertions \\\n    @serenity-js/console-reporter \\\n    @serenity-js/core @serenity-js/rest \\\n    @serenity-js/serenity-bdd \\\n    @serenity-js/web \\\n    @serenity-js/webdriverio\n"})})}),(0,t.jsx)(a.A,{value:"pnpm",label:"pnpm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"pnpm add --save-dev @serenity-js/assertions \\\n    @serenity-js/console-reporter \\\n    @serenity-js/core @serenity-js/rest \\\n    @serenity-js/serenity-bdd \\\n    @serenity-js/web \\\n    @serenity-js/webdriverio\n"})})})]}),"\n",(0,t.jsx)(n.h4,{id:"installing-serenityjs-test-runner-adapter",children:"Installing Serenity/JS test runner adapter"}),"\n",(0,t.jsxs)(n.p,{children:["WebdriverIO offers a ",(0,t.jsx)(n.a,{href:"https://webdriver.io/docs/runner#local-runner",children:"local runner"})," that\nuses Jasmine, Mocha, or Cucumber test runners to run your test scenarios.\nDepending on the test runner you use, you'll need the appropriate ",(0,t.jsx)(n.a,{href:"/handbook/test-runners/",children:"Serenity/JS test runner adapter"}),"."]}),"\n",(0,t.jsx)(n.h5,{id:"serenityjs-with-cucumber",children:"Serenity/JS with Cucumber"}),"\n",(0,t.jsxs)(n.p,{children:["To use Serenity/JS and WebdriverIO with Cucumber.js, install the ",(0,t.jsx)(n.a,{href:"/api/cucumber",children:(0,t.jsx)(n.code,{children:"@serenity-js/cucumber"})})," adapter module:"]}),"\n",(0,t.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,t.jsx)(a.A,{value:"npm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm install --save-dev @serenity-js/cucumber\n"})})}),(0,t.jsx)(a.A,{value:"yarn",label:"Yarn",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"yarn add --dev @serenity-js/cucumber\n"})})}),(0,t.jsx)(a.A,{value:"pnpm",label:"pnpm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"pnpm add --save-dev @serenity-js/cucumber\n"})})})]}),"\n",(0,t.jsxs)(n.p,{children:["Please note that Serenity/JS WebdriverIO / Cucumber integration supports both ",(0,t.jsx)(n.a,{href:"/handbook/reporting/",children:"Serenity/JS reporting services"})," and native ",(0,t.jsx)(n.a,{href:"https://github.com/cucumber/cucumber-js/blob/main/docs/formatters.md",children:"Cucumber.js reporters"}),"."]}),"\n",(0,t.jsx)(n.h5,{id:"serenityjs-with-jasmine",children:"Serenity/JS with Jasmine"}),"\n",(0,t.jsxs)(n.p,{children:["To use Serenity/JS and WebdriverIO with Jasmine, install the ",(0,t.jsx)(n.a,{href:"/api/jasmine",children:(0,t.jsx)(n.code,{children:"@serenity-js/jasmine"})})," adapter module:"]}),"\n",(0,t.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,t.jsx)(a.A,{value:"npm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm install --save-dev @serenity-js/jasmine\n"})})}),(0,t.jsx)(a.A,{value:"yarn",label:"Yarn",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"yarn add --dev @serenity-js/jasmine\n"})})}),(0,t.jsx)(a.A,{value:"pnpm",label:"pnpm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"pnpm add --save-dev @serenity-js/jasmine\n"})})})]}),"\n",(0,t.jsx)(n.h5,{id:"serenityjs-with-mocha",children:"Serenity/JS with Mocha"}),"\n",(0,t.jsxs)(n.p,{children:["To use Serenity/JS and WebdriverIO with Mocha, install the ",(0,t.jsx)(n.a,{href:"/api/mocha",children:(0,t.jsx)(n.code,{children:"@serenity-js/mocha"})})," adapter module:"]}),"\n",(0,t.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,t.jsx)(a.A,{value:"npm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm install --save-dev @serenity-js/mocha\n"})})}),(0,t.jsx)(a.A,{value:"yarn",label:"Yarn",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"yarn add --dev @serenity-js/mocha\n"})})}),(0,t.jsx)(a.A,{value:"pnpm",label:"pnpm",children:(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"pnpm add --save-dev @serenity-js/mocha\n"})})})]}),"\n",(0,t.jsx)(n.h2,{id:"configuring-serenityjs",children:"Configuring Serenity/JS"}),"\n",(0,t.jsxs)(n.p,{children:["Serenity/JS uses the standard ",(0,t.jsxs)(n.a,{href:"https://webdriver.io/docs/configurationfile",children:["WebdriverIO ",(0,t.jsx)(n.code,{children:"wdio.conf.ts"})," configuration file"]}),", with an additional property called ",(0,t.jsx)(n.code,{children:"serenity"})," for\nspecifying Serenity/JS configuration."]}),"\n",(0,t.jsxs)(n.p,{children:["To integrate WebdriverIO with Serenity/JS, ensure that your ",(0,t.jsx)(n.code,{children:"wdio.conf.ts"})," file:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["sets the ",(0,t.jsx)(n.a,{href:"https://webdriver.io/docs/frameworks/",children:(0,t.jsx)(n.code,{children:"framework"})})," option to ",(0,t.jsx)(n.code,{children:"@serenity-js/webdriverio"})," (or ",(0,t.jsx)(n.code,{children:"@serenity-js/webdriverio-8"})," for WebdriverIO 8),"]}),"\n",(0,t.jsxs)(n.li,{children:["configures ",(0,t.jsx)(n.a,{href:"/handbook/reporting/",children:"Serenity/JS reporting services"})," under the ",(0,t.jsx)(n.code,{children:"serenity.crew"})," option,"]}),"\n",(0,t.jsxs)(n.li,{children:["optionally, sets the ",(0,t.jsx)(n.a,{href:"/api/webdriverio/interface/WithSerenityConfig/#Properties",children:(0,t.jsx)(n.code,{children:"serenity.runner"})})," option to ",(0,t.jsx)(n.code,{children:"mocha"}),", ",(0,t.jsx)(n.code,{children:"jasmine"}),", or ",(0,t.jsx)(n.code,{children:"cucumber"})," to match your preferred test runner."]}),"\n"]}),"\n",(0,t.jsx)(n.p,{children:"Note that both the WebdriverIO CLI wizard and Serenity/JS Project Templates come pre-configured with Serenity/JS and WebdriverIO integration, so unless you want to customise the defaults, you won't need to change anything."}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="wdio.conf.ts"',children:"import { WebdriverIOConfig } from '@serenity-js/webdriverio'\n\nexport const config: WebdriverIOConfig = {\n    // Serenity/JS configuration\n    framework: '@serenity-js/webdriverio',\n    serenity: {\n        runner: 'mocha', // or 'jasmine' or 'cucumber'\n        crew: [\n            '@serenity-js/console-reporter',\n            '@serenity-js/serenity-bdd',\n            [ '@serenity-js/core:ArtifactArchiver', { outputDirectory: 'target/site/serenity' } ],\n        ],\n    },\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If you'd like to use one of the new ",(0,t.jsx)(n.a,{href:"https://webdriver.io/docs/multiremote/#extending-typescript-types",children:"WebdriverIO 9 configuration types"}),", combine it with the ",(0,t.jsx)(n.a,{href:"/api/webdriverio/interface/WithSerenityConfig/",children:(0,t.jsx)(n.code,{children:"WithSerenityConfig"})})," interface\ninstead of using the default ",(0,t.jsx)(n.a,{href:"/api/webdriverio/#WebdriverIOConfig",children:(0,t.jsx)(n.code,{children:"WebdriverIOConfig"})}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="wdio.conf.ts"',children:"import { WithSerenityConfig } from '@serenity-js/webdriverio'\n\nexport const config: WebdriverIO.Config & WithSerenityConfig = {\n    // ... Serenity/JS configuration\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"configuring-cucumber",children:"Configuring Cucumber"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/api/cucumber-adapter/interface/CucumberConfig/",children:"Supported Cucumber configuration options"})," can be set using the ",(0,t.jsx)(n.code,{children:"serenity.cucumberOpts"})," property in the ",(0,t.jsx)(n.code,{children:"wdio.conf.ts"})," file."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="wdio.conf.ts"',children:"import { WebdriverIOConfig } from '@serenity-js/webdriverio'\n\nexport const config: WebdriverIOConfig = {\n    // ... Serenity/JS configuration\n\n    // Cucumber configuration\n    specs: [\n        './features/**/*.feature'\n    ],\n\n    cucumberOpts: {\n        require: [\n            './features/support/*.ts',\n            './features/step-definitions/*.ts'\n        ],\n        // <string> (name) specify the profile to use\n        profile: '',\n        // <boolean> fail if there are any undefined or pending steps\n        strict: false,\n        // <string[] | string> (expression) only execute the features or scenarios with tags matching the expression\n        tags: [],\n        // <number> timeout for step definitions\n        timeout: 60_000,\n    },\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["For more information on configuring Cucumber, consult the ",(0,t.jsx)(n.a,{href:"https://github.com/cucumber/cucumber-js/blob/main/docs/configuration.md",children:"Cucumber.js documentation"})," and review the ",(0,t.jsx)(n.a,{href:"https://github.com/serenity-js/serenity-js-cucumber-webdriverio-template",children:"Serenity/JS, Cucumber, and WebdriverIO project template"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"configuring-jasmine",children:"Configuring Jasmine"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/api/jasmine-adapter/interface/JasmineConfig/",children:"Supported Jasmine configuration options"})," can be set using the ",(0,t.jsx)(n.code,{children:"serenity.jasmineOpts"})," property in the ",(0,t.jsx)(n.code,{children:"wdio.conf.ts"})," file."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="wdio.conf.ts"',children:"import { WebdriverIOConfig } from '@serenity-js/webdriverio'\n\nexport const config: WebdriverIOConfig = {\n    // ... Serenity/JS configuration\n\n    // Jasmine configuration\n    specs: [\n        './test/specs/**/*.spec.ts'\n    ],\n\n    jasmineOpts: {\n        defaultTimeoutInterval: 60000,\n        specDir: 'test/specs',\n    },\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["For more information on configuring Jasmine, consult the ",(0,t.jsx)(n.a,{href:"https://jasmine.github.io/setup/nodejs.html",children:"Jasmine documentation"})," and review the ",(0,t.jsx)(n.a,{href:"https://github.com/serenity-js/serenity-js-jasmine-webdriverio-template/",children:"Serenity/JS, Jasmine, and WebdriverIO project template"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"configuring-mocha",children:"Configuring Mocha"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/api/mocha-adapter/interface/MochaConfig/",children:"Supported Mocha configuration options"})," can be set using the ",(0,t.jsx)(n.code,{children:"serenity.mochaOpts"})," property in the ",(0,t.jsx)(n.code,{children:"wdio.conf.ts"})," file."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="wdio.conf.ts"',children:"import { WebdriverIOConfig } from '@serenity-js/webdriverio'\n\nexport const config: WebdriverIOConfig = {\n    // ... Serenity/JS configuration\n\n    // Mocha configuration\n    specs: [\n        './test/specs/**/*.spec.ts'\n    ],\n\n    mochaOpts: {\n        ui: 'bdd',\n        timeout: 60000,\n        reporterOptions: {\n            specDirectory: 'test/specs'\n        },\n    },\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["For more information on configuring Mocha, consult ",(0,t.jsx)(n.a,{href:"https://github.com/mochajs/mocha/blob/main/example/config/",children:"Mocha configuration examples"})," on GitHub and review the ",(0,t.jsx)(n.a,{href:"https://github.com/serenity-js/serenity-js-mocha-webdriverio-template/",children:"Serenity/JS, Mocha, and WebdriverIO project template"}),"."]}),"\n",(0,t.jsx)(n.h3,{id:"configuring-webdriverio",children:"Configuring WebdriverIO"}),"\n",(0,t.jsxs)(n.p,{children:["Other WebdriverIO-specific configuration options, such as ",(0,t.jsx)(n.code,{children:"reporters"}),", can be set in the ",(0,t.jsx)(n.code,{children:"wdio.conf.ts"})," file as per the ",(0,t.jsx)(n.a,{href:"https://webdriver.io/docs/configurationfile",children:"WebdriverIO configuration documentation"}),"."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="wdio.conf.ts"',children:"import { WebdriverIOConfig } from '@serenity-js/webdriverio'\n\nexport const config: WebdriverIOConfig = {\n    // ... Serenity/JS configuration\n\n    // ... Test runner configuration\n\n    // WebdriverIO configuration\n    reporters: [\n        'spec',\n    ],\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"writing-test-scenarios",children:"Writing test scenarios"}),"\n",(0,t.jsxs)(n.p,{children:["Serenity/JS enables you to leverage the ",(0,t.jsx)(n.a,{href:"/handbook/design/screenplay-pattern/",children:"Screenplay Pattern"})," to write expressive, maintainable test scenarios that align with your unique domain."]}),"\n",(0,t.jsx)(n.h3,{id:"using-serenityjs-actors",children:"Using Serenity/JS actors"}),"\n",(0,t.jsxs)(n.p,{children:["A test scenario following the Screenplay Pattern models workflows of one or multiple ",(0,t.jsx)(n.a,{href:"/api/core/class/Actor/",children:"actors"})," representing people and external systems interacting with the system under test."]}),"\n",(0,t.jsxs)(n.p,{children:["When you ",(0,t.jsxs)(n.a,{href:"#configuring-serenityjs",children:["register ",(0,t.jsx)(n.code,{children:"@serenity-js/webdriverio"})]})," as your WebdriverIO ",(0,t.jsx)(n.code,{children:"framework"}),", Serenity/JS automatically configures a default ",(0,t.jsx)(n.a,{href:"/api/core/class/Cast/",children:"cast"})," of actors where every actor can use the WebdriverIO-managed browser,\nstore and retrieve ",(0,t.jsx)(n.a,{href:"/api/core/function/notes/",children:"notes"}),", and make HTTP requests."]}),"\n",(0,t.jsx)(n.p,{children:"To do so, Serenity/JS equips your actors with abilities to:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/webdriverio/class/BrowseTheWebWithWebdriverIO/",children:(0,t.jsx)(n.code,{children:"BrowseTheWebWithWebdriverIO.using(browser)"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/core/class/TakeNotes/",children:(0,t.jsx)(n.code,{children:"TakeNotes.usingAnEmptyNotepad()"})})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/rest/class/CallAnApi/",children:(0,t.jsx)(n.code,{children:"CallAnApi.at(config.baseUrl)"})})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["To refer to an actor in your test scenarios, use the ",(0,t.jsx)(n.a,{href:"/api/core/function/actorCalled/",children:(0,t.jsx)(n.code,{children:"actorCalled"})})," or ",(0,t.jsx)(n.a,{href:"/api/core/function/actorInTheSpotlight/",children:(0,t.jsx)(n.code,{children:"actorInTheSpotlight"})})," functions\nand they'll automatically use the configured cast of actors to create or retrieve the actor you need."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="test/specs/example.spec.ts"',children:"import { actorCalled } from '@serenity-js/core'\nimport { Navigate, Page } from '@serenity-js/web'\nimport { Ensure, includes } from '@serenity-js/assertions'\n\ndescribe('Example', () => {\n\n    it('can have test scenarios that follow the Screenplay Pattern', async () => {\n        await actorCalled('Alice').attemptsTo(\n            Navigate.to(`https://webdriver.io`),\n            Ensure.that(\n                Page.current().title(),\n                includes(`Next-gen browser and mobile automation test framework for Node.js`)\n            ),\n        )\n    })\n\n    it('can have non-Screenplay scenarios too', async () => {\n        await browser.url('https://webdriver.io')\n        await expect(browser)\n            .toHaveTitle('WebdriverIO \xb7 Next-gen browser and mobile automation test framework for Node.js | WebdriverIO')\n    })\n})\n"})}),"\n",(0,t.jsx)(n.p,{children:"With Serenity/JS, you can also mix Screenplay and non-Screenplay scenarios in the same test suite and even in the same spec file.\nThis enables you to introduce test scenarios that follow the Screenplay Pattern even to an existing test suite\nthat doesn't use the Screenplay Pattern yet."}),"\n",(0,t.jsx)(n.p,{children:"To learn more about the Screenplay Pattern and using Serenity/JS actors, check out:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/handbook/design/screenplay-pattern/",children:"The Screenplay Pattern"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/handbook/web-testing/",children:"Web testing with Serenity/JS"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/handbook/test-runners/cucumber#referring-to-actors-in-test-scenarios",children:"Using Serenity/JS actors with Cucumber"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/handbook/test-runners/jasmine#referring-to-actors-in-test-scenarios",children:"Using Serenity/JS actors with Jasmine"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/handbook/test-runners/mocha#referring-to-actors-in-test-scenarios",children:"Using Serenity/JS actors with Mocha"})}),"\n",(0,t.jsxs)(n.li,{children:["Our book, ",(0,t.jsx)(n.a,{href:"https://www.manning.com/books/bdd-in-action-second-edition",children:'"BDD in Action, Second Edition"'})]}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"customising-serenityjs-actors",children:"Customising Serenity/JS actors"}),"\n",(0,t.jsxs)(n.p,{children:["If you need to replace the default ",(0,t.jsx)(n.a,{href:"/api/core/class/Cast",children:"cast of actors"}),", you can do so\nby providing a custom implementation via ",(0,t.jsx)(n.a,{href:"/api/webdriverio/#WebdriverIOConfig",children:(0,t.jsx)(n.code,{children:"serenity.actors"})}),"\nconfiguration option in your ",(0,t.jsx)(n.code,{children:"wdio.conf.ts"}),"."]}),"\n",(0,t.jsxs)(n.p,{children:["For example, you might want to introduce an actor called ",(0,t.jsx)(n.code,{children:"Adam"}),", the test data admin, who can make HTTP requests to the admin API,\nbut doesn't need to use the browsers. Conversely, you might want your other actors to use the browser but not the admin API."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="test/serenity/MyActors.ts"',children:"import { Actor, Cast, TakeNotes } from '@serenity-js/core'\nimport { CallAnApi } from '@serenity-js/rest'\nimport { BrowseTheWebWithWebdriverIO } from '@serenity-js/webdriverio'\n\nexport class MyActors implements Cast {\n\n    // Inject custom parameters via constructor\n    constructor(private readonly adminApiUrl: string) {\n    }\n\n    prepare(actor: Actor): Actor {\n        // You can assign abilities based on actor name, env variables, and so on\n        switch (actor.name) {\n            case 'Adam':\n                return actor.whoCan(\n                    CallAnApi.at(this.adminApiUrl)\n                )\n\n            default:\n                return actor.whoCan(\n                    BrowseTheWebWithWebdriverIO.using(global.browser as WebdriverIO.Browser),\n                    TakeNotes.usingAnEmptyNotepad(),\n                )\n        }\n    }\n}\n"})}),"\n",(0,t.jsx)(n.admonition,{title:"No browser in the configuration file",type:"info",children:(0,t.jsxs)(n.p,{children:["WebdriverIO doesn't allow you to use the ",(0,t.jsx)(n.code,{children:"browser"})," global variable in ",(0,t.jsx)(n.code,{children:"wdio.conf.ts"}),".\nThat's why you need to create a custom implementation of ",(0,t.jsx)(n.a,{href:"/api/core/class/Cast",children:(0,t.jsx)(n.code,{children:"Cast"})}),"\nand only refer to ",(0,t.jsx)(n.code,{children:"browser"})," in ",(0,t.jsx)(n.a,{href:"/api/core/class/Cast#prepare",children:(0,t.jsx)(n.code,{children:"Cast.prepare"})})," method."]})}),"\n",(0,t.jsxs)(n.p,{children:["Next, modify your WebdriverIO configuration file to provide your custom ",(0,t.jsx)(n.code,{children:"MyActors"})," implementation:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",metastring:'title="wdio.conf.ts"',children:"import { WebdriverIOConfig } from '@serenity-js/webdriverio'\n// highlight-next-line\nimport { MyActors } from './test/serenity/MyActors'\n\nexport const config: WebdriverIOConfig = {\n    framework: '@serenity-js/webdriverio',\n    serenity: {\n        // highlight-next-line\n        actors: new MyActors('https://admin-api.example.org'),\n        crew: [\n            '@serenity-js/console-reporter',\n            '@serenity-js/serenity-bdd',\n            [ '@serenity-js/core:ArtifactArchiver', { outputDirectory: 'target/site/serenity' } ],\n        ],\n    },\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"running-tests-and-generating-reports",children:"Running tests and generating reports"}),"\n",(0,t.jsxs)(n.p,{children:["Projects created using the ",(0,t.jsx)(n.a,{href:"#using-the-webdriverio-cli-wizard",children:"WebdriverIO CLI wizard"})," or ",(0,t.jsx)(n.a,{href:"#using-serenityjs-project-templates",children:"Serenity/JS Project Templates"})," come pre-configured with the necessary NPM scripts to run your tests and generate Serenity/JS reports."]}),"\n",(0,t.jsx)(n.p,{children:"To run your tests and generate Serenity/JS reports, execute the following command in your terminal:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npm run serenity\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Your test results will be available in the ",(0,t.jsx)(n.code,{children:"target/site/serenity"})," directory.\nTo view them, open the ",(0,t.jsx)(n.code,{children:"index.html"})," file in your preferred web browser."]}),"\n",(0,t.jsx)(n.h3,{id:"using-npm-scripts",children:"Using NPM scripts"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"/handbook/reporting/serenity-bdd-reporter/",children:"Serenity BDD reports and living documentation"})," are generated by ",(0,t.jsx)(n.a,{href:"https://github.com/serenity-bdd/serenity-core/tree/main/serenity-cli",children:"Serenity BDD CLI"}),",\na Java program provided by the ",(0,t.jsx)(n.a,{href:"/api/serenity-bdd/",children:(0,t.jsx)(n.code,{children:"@serenity-js/serenity-bdd"})})," module."]}),"\n",(0,t.jsx)(n.p,{children:"To produce Serenity BDD reports, your test suite must:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["produce intermediate Serenity BDD ",(0,t.jsx)(n.code,{children:".json"})," reports, by registering ",(0,t.jsx)(n.a,{href:"/api/serenity-bdd/class/SerenityBDDReporter/",children:(0,t.jsx)(n.code,{children:"SerenityBDDReporter"})})," as per the ",(0,t.jsx)(n.a,{href:"#configuring-serenityjs",children:"configuration instructions"})]}),"\n",(0,t.jsxs)(n.li,{children:["invoke the Serenity BDD CLI when you want to produce the report, by calling ",(0,t.jsx)(n.code,{children:"serenity-bdd run"})]}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["The pattern used by all the ",(0,t.jsx)(n.a,{href:"/handbook/getting-started/project-templates/",children:"Serenity/JS Project Templates"})," relies\non using NPM scripts and the following Node modules:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/npm-failsafe",children:(0,t.jsx)(n.code,{children:"npm-failsafe"})})," to run the reporting process even if the test suite itself has failed (which is precisely when you need test reports the most...)."]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/rimraf",children:(0,t.jsx)(n.code,{children:"rimraf"})})," as a convenience method to remove any test reports left over from the previous run"]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "scripts": {\n    "serenity": "failsafe serenity:clean wdio serenity:report",\n    "serenity:clean": "rimraf target",\n    "wdio": "wdio wdio.conf.ts",\n    "serenity:report": "serenity-bdd run"\n  }\n}\n'})}),"\n",(0,t.jsxs)(n.p,{children:["To learn more about the ",(0,t.jsx)(n.code,{children:"SerenityBDDReporter"}),", please consult:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["installation instructions in ",(0,t.jsxs)(n.a,{href:"/api/serenity-bdd/",children:[(0,t.jsx)(n.code,{children:"@serenity-js/serenity-bdd"})," documentation"]}),","]}),"\n",(0,t.jsxs)(n.li,{children:["configuration examples in ",(0,t.jsxs)(n.a,{href:"/api/serenity-bdd/class/SerenityBDDReporter/",children:[(0,t.jsx)(n.code,{children:"SerenityBDDReporter"})," API docs"]}),","]}),"\n",(0,t.jsxs)(n.li,{children:[(0,t.jsx)(n.a,{href:"https://github.com/serenity-js/serenity-js/tree/main/examples",children:"Serenity/JS examples on GitHub"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.h2,{id:"upgrading-to-webdriverio-9",children:"Upgrading to WebdriverIO 9"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://webdriver.io/blog/2024/08/15/webdriverio-v9-release",children:"WebdriverIO 9"})," deprecated or removed several configuration options common in WebdriverIO 8 projects."]}),"\n",(0,t.jsx)(n.p,{children:"To upgrade your WebdriverIO 8-based Serenity/JS project:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["update the ",(0,t.jsx)(n.code,{children:"@serenity-js/*"}),", ",(0,t.jsx)(n.code,{children:"webdriverio"})," and any ",(0,t.jsx)(n.code,{children:"@wdio/*"})," modules to the latest version,"]}),"\n",(0,t.jsxs)(n.li,{children:["update your ",(0,t.jsx)(n.code,{children:"tsconfig.json"})," to target ",(0,t.jsx)(n.code,{children:"es2022"}),","]}),"\n",(0,t.jsx)(n.li,{children:"replace the deprecated configuration properties with the new ones,"}),"\n",(0,t.jsx)(n.li,{children:"install the updated modules."}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"updating-dependencies",children:"Updating dependencies"}),"\n",(0,t.jsxs)(n.p,{children:["To update your dependencies, use a tool like ",(0,t.jsx)(n.a,{href:"https://www.npmjs.com/package/npm-check-updates",children:(0,t.jsx)(n.code,{children:"npm-check-updates"})}),".\nThe command below will modify your ",(0,t.jsx)(n.code,{children:"package.json"})," to update all ",(0,t.jsx)(n.code,{children:"@serenity-js/*"}),", ",(0,t.jsx)(n.code,{children:"webdriverio"}),", and ",(0,t.jsx)(n.code,{children:"@wdio/*"})," modules to the latest version.\nThe command won't install the modules themselves (we'll do this last):"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-sh",children:"npx -y npm-check-updates '/@serenity-js|webdriverio|@wdio/' -u\n"})}),"\n",(0,t.jsxs)(n.p,{children:["Please also note that ",(0,t.jsxs)(n.a,{href:"https://webdriver.io/blog/2024/08/15/webdriverio-v9-release#removal-of-devtools-and-wdiodevtools-service-packages",children:["WebdriverIO 9 no longer provides the ",(0,t.jsx)(n.code,{children:"devtools"})," and ",(0,t.jsx)(n.code,{children:"@wdio/devtools-service"})]})," modules as they're no longer required.\nIf you had them in your ",(0,t.jsx)(n.code,{children:"package.json"}),", you should remove them."]}),"\n",(0,t.jsx)(n.h3,{id:"updating-typescript-configuration",children:"Updating TypeScript configuration"}),"\n",(0,t.jsxs)(n.p,{children:["Update ",(0,t.jsx)(n.code,{children:"compilerOptions"})," configuration in your ",(0,t.jsx)(n.code,{children:"tsconfig.json"})," to target ",(0,t.jsx)(n.code,{children:"es2022"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-diff",metastring:'title="tsconfig.json"',children:'{\n  "compilerOptions": {\n-   "target": "es2021",\n-   "lib": ["es2021", "dom"],\n+   "target": "es2022",\n+   "lib": ["es2022", "dom"],\n    "module": "CommonJS",\n    "moduleResolution": "node",\n    "types": [\n      "node",\n      "@wdio/globals/types"\n    ],\n  }\n}\n'})}),"\n",(0,t.jsx)(n.h3,{id:"updating-webdriverio-configuration",children:"Updating WebdriverIO configuration"}),"\n",(0,t.jsxs)(n.p,{children:["Modify your ",(0,t.jsx)(n.code,{children:"wdio.conf.ts"})," to:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["remove the deprecated ",(0,t.jsx)(n.code,{children:"automationProtocol"})," option,"]}),"\n",(0,t.jsxs)(n.li,{children:["replace the ",(0,t.jsxs)(n.a,{href:"https://github.com/webdriverio/webdriverio/pull/12752",children:["removed ",(0,t.jsx)(n.code,{children:"autoCompileOpts"})]})," with ",(0,t.jsx)(n.code,{children:"tsConfigPath"}),"."]}),"\n"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-diff",metastring:'title="wdio.conf.ts"',children:"import { WebdriverIOConfig } from '@serenity-js/webdriverio'\n\nexport const config: WebdriverIOConfig {\n\n-  automationProtocol: 'devtools',\n\n-  autoCompileOpts: { ... }\n+  tsConfigPath: './tsconfig.json',\n}\n"})}),"\n",(0,t.jsxs)(n.p,{children:["If you'd like to use one of the new ",(0,t.jsx)(n.a,{href:"https://webdriver.io/docs/multiremote/#extending-typescript-types",children:"WebdriverIO 9 configuration types"}),", combine it with the ",(0,t.jsx)(n.a,{href:"/api/webdriverio/interface/WithSerenityConfig/",children:(0,t.jsx)(n.code,{children:"WithSerenityConfig"})})," interface:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-ts",metastring:'title="wdio.conf.ts"',children:"import { WithSerenityConfig } from '@serenity-js/webdriverio'\n\nexport const config: WebdriverIO.Config & WithSerenityConfig = {\n    // ...\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"installing-updated-modules",children:"Installing updated modules"}),"\n",(0,t.jsx)(n.p,{children:"Finally, install the updated modules:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-npm2yarn",children:"npm install\n"})}),"\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n","\n",(0,t.jsx)(n.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,t.jsx)(n.p,{children:"Well done, your WebdriverIO test suite is now integrated with Serenity/JS! \ud83c\udf89\ud83c\udf89\ud83c\udf89"}),"\n",(0,t.jsx)(n.p,{children:"To take things further, check out:"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/handbook/web-testing/",children:"Web testing with Serenity/JS"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/serenity-js/serenity-js/tree/main/examples/",children:"Serenity/JS examples on GitHub"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://github.com/serenity-js?q=webdriverio-template&type=all&language=&sort=",children:"Serenity/JS WebdriverIO project templates"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"/api/web/",children:"Serenity/JS API docs"})}),"\n"]}),"\n",(0,t.jsxs)(n.p,{children:["Remember, new features, tutorials, and demos are coming soon!\nFollow ",(0,t.jsx)(n.a,{href:"https://www.linkedin.com/company/serenity-js",children:"Serenity/JS on LinkedIn"}),",\nsubscribe to ",(0,t.jsx)(n.a,{href:"https://www.youtube.com/@serenity-js",children:"Serenity/JS channel on YouTube"})," and join the ",(0,t.jsx)(n.a,{href:"https://matrix.to/#/#serenity-js:gitter.im",children:"Serenity/JS Community Chat"})," to stay up to date!\nPlease also make sure to star \u2b50\ufe0f ",(0,t.jsx)(n.a,{href:"https://github.com/serenity-js/serenity-js",children:"Serenity/JS on GitHub"})," to help others discover the framework!"]}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.a,{href:"https://www.linkedin.com/company/serenity-js",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/Follow-Serenity%2FJS%20-0077B5?logo=linkedin",alt:"Follow Serenity/JS on LinkedIn"})}),"\n",(0,t.jsx)(n.a,{href:"https://www.youtube.com/@serenity-js",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/Watch-@serenity--js-E62117?logo=youtube",alt:"Watch Serenity/JS on YouTube"})}),"\n",(0,t.jsx)(n.a,{href:"https://matrix.to/#/#serenity-js:gitter.im",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/badge/Chat-Serenity%2FJS%20Community-FBD30B?logo=matrix",alt:"Join Serenity/JS Community Chat"})}),"\n",(0,t.jsx)(n.a,{href:"https://github.com/serenity-js/serenity-js",children:(0,t.jsx)(n.img,{src:"https://img.shields.io/github/stars/serenity-js/serenity-js?label=Serenity%2FJS&logo=github&style=badge",alt:"GitHub stars"})})]})]})}function j(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(p,{...e})}):p(e)}},7227:(e,n,r)=>{r.d(n,{A:()=>o});r(96540);var i=r(34164);const t={tabItem:"tabItem_Ymn6"};var s=r(74848);function o(e){let{children:n,hidden:r,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,i.A)(t.tabItem,o),hidden:r,children:n})}},49489:(e,n,r)=>{r.d(n,{A:()=>w});var i=r(96540),t=r(34164),s=r(24245),o=r(56347),a=r(36494),c=r(62814),l=r(45167),d=r(69900);function h(e){return i.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,i.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:n,children:r}=e;return(0,i.useMemo)((()=>{const e=n??function(e){return h(e).map((e=>{let{props:{value:n,label:r,attributes:i,default:t}}=e;return{value:n,label:r,attributes:i,default:t}}))}(r);return function(e){const n=(0,l.XI)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,r])}function p(e){let{value:n,tabValues:r}=e;return r.some((e=>e.value===n))}function j(e){let{queryString:n=!1,groupId:r}=e;const t=(0,o.W6)(),s=function(e){let{queryString:n=!1,groupId:r}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!r)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return r??null}({queryString:n,groupId:r});return[(0,c.aZ)(s),(0,i.useCallback)((e=>{if(!s)return;const n=new URLSearchParams(t.location.search);n.set(s,e),t.replace({...t.location,search:n.toString()})}),[s,t])]}function g(e){const{defaultValue:n,queryString:r=!1,groupId:t}=e,s=u(e),[o,c]=(0,i.useState)((()=>function(e){let{defaultValue:n,tabValues:r}=e;if(0===r.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!p({value:n,tabValues:r}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${r.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const i=r.find((e=>e.default))??r[0];if(!i)throw new Error("Unexpected error: 0 tabValues");return i.value}({defaultValue:n,tabValues:s}))),[l,h]=j({queryString:r,groupId:t}),[g,m]=function(e){let{groupId:n}=e;const r=function(e){return e?`docusaurus.tab.${e}`:null}(n),[t,s]=(0,d.Dv)(r);return[t,(0,i.useCallback)((e=>{r&&s.set(e)}),[r,s])]}({groupId:t}),x=(()=>{const e=l??g;return p({value:e,tabValues:s})?e:null})();(0,a.A)((()=>{x&&c(x)}),[x]);return{selectedValue:o,selectValue:(0,i.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);c(e),h(e),m(e)}),[h,m,s]),tabValues:s}}var m=r(11062);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=r(74848);function f(e){let{className:n,block:r,selectedValue:i,selectValue:o,tabValues:a}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,s.a_)(),d=e=>{const n=e.currentTarget,r=c.indexOf(n),t=a[r].value;t!==i&&(l(n),o(t))},h=e=>{let n=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const r=c.indexOf(e.currentTarget)+1;n=c[r]??c[0];break}case"ArrowLeft":{const r=c.indexOf(e.currentTarget)-1;n=c[r]??c[c.length-1];break}}n?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,t.A)("tabs",{"tabs--block":r},n),children:a.map((e=>{let{value:n,label:r,attributes:s}=e;return(0,y.jsx)("li",{role:"tab",tabIndex:i===n?0:-1,"aria-selected":i===n,ref:e=>c.push(e),onKeyDown:h,onClick:d,...s,className:(0,t.A)("tabs__item",x.tabItem,s?.className,{"tabs__item--active":i===n}),children:r??n},n)}))})}function b(e){let{lazy:n,children:r,selectedValue:s}=e;const o=(Array.isArray(r)?r:[r]).filter(Boolean);if(n){const e=o.find((e=>e.props.value===s));return e?(0,i.cloneElement)(e,{className:(0,t.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:o.map(((e,n)=>(0,i.cloneElement)(e,{key:n,hidden:e.props.value!==s})))})}function v(e){const n=g(e);return(0,y.jsxs)("div",{className:(0,t.A)("tabs-container",x.tabList),children:[(0,y.jsx)(f,{...n,...e}),(0,y.jsx)(b,{...n,...e})]})}function w(e){const n=(0,m.A)();return(0,y.jsx)(v,{...e,children:h(e.children)},String(n))}},55095:(e,n,r)=>{r.d(n,{A:()=>o});r(96540);var i=r(97639),t=r(74848);function s(e,n){switch(e.length){case 0:return"";case 1:return e[0];case 2:return`${e[0]} ${n} ${e[1]}`;default:const r=e.slice(0,-1),i=e.slice(-1);return r.join(", ")+`, ${n}`.trim()+` ${i}`}}function o(e){let{conjunction:n="and"}=e;const{siteConfig:r}=(0,i.default)(),o=r.customFields.supportedEngines.node.split("||").map((e=>e.replace(/.*?([0-9]+).*?/,"$1").trim()));return(0,t.jsx)("span",{children:s(o,n)})}},29867:(e,n,r)=>{r.d(n,{A:()=>i});const i=r.p+"assets/images/serenity-bdd-reporter-c90e03e1dcfdd70c21fa0acca0cd40b5.png"},28453:(e,n,r)=>{r.d(n,{R:()=>o,x:()=>a});var i=r(96540);const t={},s=i.createContext(t);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);