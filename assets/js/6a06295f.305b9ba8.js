(self.webpackChunkserenity_js_org=self.webpackChunkserenity_js_org||[]).push([[9428],{11470:(e,r,n)=>{"use strict";n.d(r,{A:()=>S});var t=n(96540),s=n(34164),i=n(23104),o=n(56347),a=n(205),c=n(57485),l=n(31682),d=n(70679);function h(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function p(e){const{values:r,children:n}=e;return(0,t.useMemo)((()=>{const e=r??function(e){return h(e).map((e=>{let{props:{value:r,label:n,attributes:t,default:s}}=e;return{value:r,label:n,attributes:t,default:s}}))}(n);return function(e){const r=(0,l.XI)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,n])}function u(e){let{value:r,tabValues:n}=e;return n.some((e=>e.value===r))}function j(e){let{queryString:r=!1,groupId:n}=e;const s=(0,o.W6)(),i=function(e){let{queryString:r=!1,groupId:n}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:r,groupId:n});return[(0,c.aZ)(i),(0,t.useCallback)((e=>{if(!i)return;const r=new URLSearchParams(s.location.search);r.set(i,e),s.replace({...s.location,search:r.toString()})}),[i,s])]}function x(e){const{defaultValue:r,queryString:n=!1,groupId:s}=e,i=p(e),[o,c]=(0,t.useState)((()=>function(e){let{defaultValue:r,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!u({value:r,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:r,tabValues:i}))),[l,h]=j({queryString:n,groupId:s}),[x,g]=function(e){let{groupId:r}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(r),[s,i]=(0,d.Dv)(n);return[s,(0,t.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:s}),m=(()=>{const e=l??x;return u({value:e,tabValues:i})?e:null})();(0,a.A)((()=>{m&&c(m)}),[m]);return{selectedValue:o,selectValue:(0,t.useCallback)((e=>{if(!u({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);c(e),h(e),g(e)}),[h,g,i]),tabValues:i}}var g=n(92303);const m={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var y=n(74848);function f(e){let{className:r,block:n,selectedValue:t,selectValue:o,tabValues:a}=e;const c=[],{blockElementScrollPositionUntilNextRender:l}=(0,i.a_)(),d=e=>{const r=e.currentTarget,n=c.indexOf(r),s=a[n].value;s!==t&&(l(r),o(s))},h=e=>{let r=null;switch(e.key){case"Enter":d(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;r=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;r=c[n]??c[c.length-1];break}}r?.focus()};return(0,y.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,s.A)("tabs",{"tabs--block":n},r),children:a.map((e=>{let{value:r,label:n,attributes:i}=e;return(0,y.jsx)("li",{role:"tab",tabIndex:t===r?0:-1,"aria-selected":t===r,ref:e=>{c.push(e)},onKeyDown:h,onClick:d,...i,className:(0,s.A)("tabs__item",m.tabItem,i?.className,{"tabs__item--active":t===r}),children:n??r},r)}))})}function b(e){let{lazy:r,children:n,selectedValue:i}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(r){const e=o.find((e=>e.props.value===i));return e?(0,t.cloneElement)(e,{className:(0,s.A)("margin-top--md",e.props.className)}):null}return(0,y.jsx)("div",{className:"margin-top--md",children:o.map(((e,r)=>(0,t.cloneElement)(e,{key:r,hidden:e.props.value!==i})))})}function w(e){const r=x(e);return(0,y.jsxs)("div",{className:(0,s.A)("tabs-container",m.tabList),children:[(0,y.jsx)(f,{...r,...e}),(0,y.jsx)(b,{...r,...e})]})}function S(e){const r=(0,g.A)();return(0,y.jsx)(w,{...e,children:h(e.children)},String(r))}},19365:(e,r,n)=>{"use strict";n.d(r,{A:()=>o});n(96540);var t=n(34164);const s={tabItem:"tabItem_Ymn6"};var i=n(74848);function o(e){let{children:r,hidden:n,className:o}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,t.A)(s.tabItem,o),hidden:n,children:r})}},28453:(e,r,n)=>{"use strict";n.d(r,{R:()=>o,x:()=>a});var t=n(96540);const s={},i=t.createContext(s);function o(e){const r=t.useContext(i);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),t.createElement(i.Provider,{value:r},e.children)}},29867:(e,r,n)=>{"use strict";n.d(r,{A:()=>t});const t=n.p+"assets/images/serenity-bdd-reporter-c90e03e1dcfdd70c21fa0acca0cd40b5.png"},33624:(e,r,n)=>{"use strict";n.r(r),n.d(r,{assets:()=>d,contentTitle:()=>l,default:()=>u,frontMatter:()=>c,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"test-runners/protractor","title":"Protractor","description":"Protractor is an end-to-end test framework for Angular and AngularJS applications, based on Selenium 3.","source":"@site/src/docs/handbook/test-runners/protractor.mdx","sourceDirName":"test-runners","slug":"/test-runners/protractor","permalink":"/handbook/test-runners/protractor","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-js/serenity-js.org/tree/main/src/docs/handbook/test-runners/protractor.mdx","tags":[],"version":"current","lastUpdatedAt":1754044890000,"sidebarPosition":5,"frontMatter":{"sidebar_position":5},"sidebar":"docs","previous":{"title":"Playwright Test","permalink":"/handbook/test-runners/playwright-test"},"next":{"title":"WebdriverIO","permalink":"/handbook/test-runners/webdriverio"}}');var s=n(74848),i=n(28453),o=n(11470),a=n(19365);const c={sidebar_position:5},l="Protractor",d={},h=[{value:"Should I use Serenity/JS with my existing Protractor project?",id:"should-i-use-serenityjs-with-my-existing-protractor-project",level:4},{value:"Quick start \ud83d\ude80",id:"quick-start-",level:2},{value:"Installation",id:"installation",level:2},{value:"Installing Serenity/JS",id:"installing-serenityjs",level:3},{value:"Configuration",id:"configuration",level:2},{value:"Integrating Serenity/JS reporting",id:"integrating-serenityjs-reporting",level:3},{value:"Writing tests",id:"writing-tests",level:2},{value:"Using the Screenplay Pattern APIs",id:"using-the-screenplay-pattern-apis",level:3},{value:"Using actors in test scenarios",id:"using-actors-in-test-scenarios",level:3},{value:"Replacing the default actors",id:"replacing-the-default-actors",level:3},{value:"Reporting",id:"reporting",level:2},{value:"Serenity BDD Reports",id:"serenity-bdd-reports",level:3},{value:"Migrating from Protractor to Serenity/JS",id:"migrating-from-protractor-to-serenityjs",level:2},{value:"Locating elements",id:"locating-elements",level:3},{value:"Retrieving information",id:"retrieving-information",level:3},{value:"Performing interactions",id:"performing-interactions",level:3},{value:"Waiting and synchronisation",id:"waiting-and-synchronisation",level:3},{value:"Replacing Protractor with WebdriverIO",id:"replacing-protractor-with-webdriverio",level:3},{value:"Integration architecture",id:"integration-architecture",level:2},{value:"Next steps",id:"next-steps",level:2}];function p(e){const r={a:"a",admonition:"admonition",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",mermaid:"mermaid",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,i.R)(),...e.components},{CurrentNodeVersion:t,Figure:c}=r;return t||j("CurrentNodeVersion",!0),c||j("Figure",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(r.header,{children:(0,s.jsx)(r.h1,{id:"protractor",children:"Protractor"})}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"https://www.protractortest.org/",children:"Protractor"})," is an end-to-end test framework for Angular and AngularJS applications, based on Selenium 3.\nProtractor runs tests against your application running in a real browser, interacting with it as a user would."]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"https://serenity-js.org",children:"Serenity/JS"})," revolutionises automated testing by enabling your team to write ",(0,s.jsx)(r.strong,{children:"expressive"}),", ",(0,s.jsx)(r.strong,{children:"maintainable tests"})," that align\nwith ",(0,s.jsx)(r.strong,{children:"your unique domain"}),". Seamlessly integrating with ",(0,s.jsx)(r.a,{href:"https://www.protractortest.org/",children:"Protractor"})," and test runners like\n",(0,s.jsx)(r.a,{href:"/handbook/test-runners/mocha/",children:(0,s.jsx)(r.strong,{children:"Mocha"})}),",\n",(0,s.jsx)(r.a,{href:"/handbook/test-runners/cucumber/",children:(0,s.jsx)(r.strong,{children:"Cucumber"})}),",\nand ",(0,s.jsx)(r.a,{href:"/handbook/test-runners/jasmine/",children:(0,s.jsx)(r.strong,{children:"Jasmine"})}),",\nSerenity/JS also offers ",(0,s.jsx)(r.strong,{children:"advanced reporting"})," that provides clear insights into test results,\nhelping both technical teams and business stakeholders understand the quality of the system under test."]}),"\n",(0,s.jsxs)(r.p,{children:["Plus, it accommodates both classic Protractor tests and Serenity/JS ",(0,s.jsx)(r.a,{href:"/handbook/design/screenplay-pattern/",children:"Screenplay Pattern scenarios"}),",\nallowing you to migrate to Screenplay gradually,\nand then simply switch to using Serenity/JS with a more modern web integration tool\nlike ",(0,s.jsx)(r.a,{href:"/handbook/test-runners/playwright-test/",children:"Playwright"})," or\n",(0,s.jsx)(r.a,{href:"/handbook/test-runners/webdriverio/",children:"WebdriverIO"}),"."]}),"\n",(0,s.jsxs)(r.admonition,{title:"Protractor is deprecated",type:"warning",children:[(0,s.jsxs)(r.p,{children:["Protractor is now ",(0,s.jsx)(r.a,{href:"https://blog.angular.io/the-state-of-end-to-end-testing-with-angular-d175f751cb9c",children:"officially deprecated"}),"\nand has not received any updates since ",(0,s.jsx)(r.a,{href:"https://github.com/angular/protractor/commits/master",children:"April 2020"}),".\nYou ",(0,s.jsx)(r.strong,{children:"should not"})," rely on Protractor for any new test automation projects, and instead use Serenity/JS with more modern\nand developer-friendly integration tools like ",(0,s.jsx)(r.a,{href:"/handbook/test-runners/webdriverio",children:"WebdriverIO"}),"\nor ",(0,s.jsx)(r.a,{href:"/handbook/test-runners/playwright-test",children:"Playwright Test"}),"."]}),(0,s.jsx)(r.h4,{id:"should-i-use-serenityjs-with-my-existing-protractor-project",children:"Should I use Serenity/JS with my existing Protractor project?"}),(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.strong,{children:"Yes"}),". The most common reason why you ",(0,s.jsx)(r.strong,{children:"should"})," introduce Serenity/JS\nto an ",(0,s.jsx)(r.strong,{children:"existing"})," Protractor project is that it can help you to ",(0,s.jsx)(r.strong,{children:"reliably migrate"})," your codebase\nto a more modern integration tool like ",(0,s.jsx)(r.a,{href:"/api/webdriverio",children:"WebdriverIO"}),"\nor ",(0,s.jsx)(r.a,{href:"/api/playwright",children:"Playwright"}),"."]}),(0,s.jsxs)(r.p,{children:["Using Serenity/JS ",(0,s.jsx)(r.a,{href:"/handbook/design/screenplay-pattern",children:"Screenplay Pattern APIs"}),"\nwill also help you ",(0,s.jsx)(r.strong,{children:"future-proof your codebase"})," and make it ",(0,s.jsx)(r.strong,{children:"agnostic"})," of the underlying integration tools."]})]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"Benefits of integrating Protractor with Serenity/JS:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/handbook/reporting/",children:"Enhanced Reporting"})," - Use Serenity/JS as a drop-in replacement of any built-in Protractor framework to produce in-depth test execution reports and living documentation of your project."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/handbook/design/screenplay-pattern/",children:"Screenplay Pattern APIs"})," - Leverage the Screenplay Pattern for portable, maintainable tests that streamline collaboration."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/core/",children:"Integration Libraries"})," - ",(0,s.jsx)(r.a,{href:"/api/rest",children:"Test RESTful APIs"}),", ",(0,s.jsx)(r.a,{href:"/api/local-server/",children:"manage local Node.js servers"}),", and ",(0,s.jsx)(r.a,{href:"/api/assertions/",children:"verify complex workflows"})," effortlessly with ready-to-use libraries."]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.strong,{children:"In this guide, you will learn how to:"})}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Integrate Serenity/JS"})," with your Protractor test suite."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.strong,{children:"Enable Serenity BDD reports"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Start using the ",(0,s.jsx)(r.strong,{children:"Screenplay Pattern"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Replace Protractor with ",(0,s.jsx)(r.strong,{children:"WebdriverIO"})," while keeping your tests working!"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:(0,s.jsx)(r.img,{alt:"Serenity BDD Report Example",src:n(29867).A+"",width:"1600",height:"738"})}),"\n",(0,s.jsx)(r.h2,{id:"quick-start-",children:"Quick start \ud83d\ude80"}),"\n",(0,s.jsx)(r.p,{children:"To start testing immediately, consider using:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/handbook/project-templates/#protractor",children:(0,s.jsx)(r.strong,{children:"Serenity/JS Project Templates for Protractor"})})," - Pre-configured with essential dependencies."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/handbook/project-templates/#serenityjs-gitpods",children:(0,s.jsx)(r.strong,{children:"Serenity/JS GitPods"})})," - Ready-to-use cloud-based development environments."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js/tree/main/examples",children:(0,s.jsx)(r.strong,{children:"Serenity/JS reference implementations"})})," on GitHub."]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"To see Serenity/JS reporting in action, explore the live reports generated by the Serenity/JS + Protractor Project Templates:"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Framework"}),(0,s.jsx)(r.th,{children:"Project Template"}),(0,s.jsx)(r.th,{children:"Live Report"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Serenity/JS + Cucumber + Protractor"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js-cucumber-protractor-template",children:"Project Template"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://serenity-js.github.io/serenity-js-cucumber-protractor-template/",children:"Live Report"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Serenity/JS + Mocha + Protractor"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js-mocha-protractor-template",children:"Project Template"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://serenity-js.github.io/serenity-js-mocha-protractor-template/",children:"Live Report"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Serenity/JS + Jasmine + Protractor"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js-jasmine-protractor-template",children:"Project Template"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://serenity-js.github.io/serenity-js-jasmine-protractor-template/",children:"Live Report"})})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"installation",children:"Installation"}),"\n",(0,s.jsxs)(r.p,{children:["To use Serenity/JS with Protractor, follow the ",(0,s.jsx)(r.a,{href:"/handbook/installation/",children:"Serenity/JS installation guide"}),"\nto set up your development environment and core runtime dependencies.\nThen, create a new Protractor project or add Serenity/JS integration and reporting modules to an existing project."]}),"\n",(0,s.jsx)(r.h3,{id:"installing-serenityjs",children:"Installing Serenity/JS"}),"\n",(0,s.jsx)(r.p,{children:"To add Serenity/JS to a Protractor project, install the following modules:"}),"\n",(0,s.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,s.jsx)(a.A,{value:"npm",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"npm install --save-dev @serenity-js/core @serenity-js/console-reporter @serenity-js/protractor @serenity-js/rest @serenity-js/web @serenity-js/serenity-bdd\n"})})}),(0,s.jsx)(a.A,{value:"yarn",label:"Yarn",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"yarn add --dev @serenity-js/core @serenity-js/console-reporter @serenity-js/protractor @serenity-js/rest @serenity-js/web @serenity-js/serenity-bdd\n"})})}),(0,s.jsx)(a.A,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"pnpm add --save-dev @serenity-js/core @serenity-js/console-reporter @serenity-js/protractor @serenity-js/rest @serenity-js/web @serenity-js/serenity-bdd\n"})})})]}),"\n",(0,s.jsx)(r.p,{children:"This command installs:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/core",children:(0,s.jsx)(r.code,{children:"@serenity-js/core"})})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/console-reporter",children:(0,s.jsx)(r.code,{children:"@serenity-js/console-reporter"})})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/protractor",children:(0,s.jsx)(r.code,{children:"@serenity-js/protractor"})})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/rest",children:(0,s.jsx)(r.code,{children:"@serenity-js/rest"})})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/web",children:(0,s.jsx)(r.code,{children:"@serenity-js/web"})})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/serenity-bdd",children:(0,s.jsx)(r.code,{children:"@serenity-js/serenity-bdd"})})}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Protractor offers a test runner that uses Jasmine, Mocha, or Cucumber to run your test scenarios.\nSince the task of running the scenarios is delegated to another tool,\nyou'll need to follow the installation instructions to add a Serenity/JS test runner adapter for the runner you've decided to use."}),"\n",(0,s.jsx)(r.p,{children:"See Serenity/JS test runner adapter installation instructions for:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/test-runners/cucumber#installing-serenityjs-test-runner-adapter",children:"Cucumber"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/test-runners/jasmine#installing-serenityjs-test-runner-adapter",children:"Jasmine"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/test-runners/mocha#installing-serenityjs-test-runner-adapter",children:"Mocha"})}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(r.p,{children:["Protractor uses the ",(0,s.jsxs)(r.a,{href:"https://github.com/angular/protractor/blob/master/lib/config.ts",children:[(0,s.jsx)(r.code,{children:"protractor.conf.js"})," file"]})," to configure test scenarios and reporters."]}),"\n",(0,s.jsx)(r.p,{children:"This section provides a step-by-step guide to the complete configuration setup."}),"\n",(0,s.jsx)(r.h3,{id:"integrating-serenityjs-reporting",children:"Integrating Serenity/JS reporting"}),"\n",(0,s.jsxs)(r.p,{children:["Serenity/JS offers automatic screenshot capture for test scenarios using the ",(0,s.jsx)(r.a,{href:"/handbook/design/screenplay-pattern/",children:"Screenplay Pattern"}),".\nThis is handled by the ",(0,s.jsx)(r.a,{href:"/handbook/reporting/photographer/",children:"Photographer service"}),", which takes screenshots based on interactions and assertion failures performed by the Serenity/JS actors."]}),"\n",(0,s.jsxs)(r.p,{children:["To integrate ",(0,s.jsx)(r.a,{href:"/handbook/reporting/",children:"Serenity/JS reporting"})," and enable automatic screenshot capture, modify the ",(0,s.jsx)(r.code,{children:"protractor.conf.js"})," file as follows:"]}),"\n",(0,s.jsxs)(o.A,{groupId:"code-examples",children:[(0,s.jsx)(a.A,{value:"cucumber",label:"Cucumber",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",metastring:'title="protractor.conf.js" tab={"label":"Cucumber"}',children:"exports.config = {\n    // Disable Selenium promise manager\n    SELENIUM_PROMISE_MANAGER: false,\n\n    framework:      'custom',\n    frameworkPath:  require.resolve('@serenity-js/protractor/adapter'),\n\n    specs: [\n        './features/**/*.feature'\n    ],\n\n    serenity: {\n        runner: 'cucumber',\n        crew: [\n            // Optional, print test execution results to standard output\n            '@serenity-js/console-reporter',\n\n            // Optional, produce Serenity BDD reports\n            // and living documentation (HTML)\n            [ '@serenity-js/serenity-bdd', {\n                specDirectory: './features'\n            } ],\n\n            [ '@serenity-js/core:ArtifactArchiver', {\n                outputDirectory: 'target/site/serenity'\n            } ],\n\n            // Optional, automatically capture screenshots\n            // upon interaction failure\n            [ '@serenity-js/web:Photographer', {\n                strategy: 'TakePhotosOfFailures'\n            } ],\n        ]\n    },\n\n    cucumberOpts: {\n        require: [\n            'features/step_definitions/**/*.steps.ts',      // If you're using TypeScript\n            'features/support/*.ts',\n            // 'features/step_definitions/**/*.steps.js',   // If you're using JavaScript\n            // 'features/support/*.js'\n        ],\n        requireModule:   [\n            // Optional, if you're using TypeScript\n            'ts-node/register'\n        ],\n        tags:    ['not @wip'],\n        strict:  false,\n    }\n};\n"})})}),(0,s.jsx)(a.A,{value:"mocha",label:"Mocha",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",metastring:'title="protractor.conf.js" tab={"label":"Mocha"}',children:"exports.config = {\n    // Disable Selenium promise manager\n    SELENIUM_PROMISE_MANAGER: false,\n\n    framework:      'custom',\n    frameworkPath:  require.resolve('@serenity-js/protractor/adapter'),\n\n    specs: [\n        './spec/*.spec.ts',     // If you're using TypeScript\n        // './spec/*.spec.js',  // If you're using JavaScript\n    ],\n\n    serenity: {\n        runner: 'mocha',\n        crew: [\n            // Optional, print test execution results to standard output\n            '@serenity-js/console-reporter',\n\n            // Optional, produce Serenity BDD reports\n            // and living documentation (HTML)\n            [ '@serenity-js/serenity-bdd', {\n                specDirectory: './spec'\n            } ],\n\n            [ '@serenity-js/core:ArtifactArchiver', {\n                outputDirectory: 'target/site/serenity'\n            } ],\n\n            // Optional, automatically capture screenshots\n            // upon interaction failure\n            [ '@serenity-js/web:Photographer', {\n                strategy: 'TakePhotosOfFailures'\n            } ],\n        ]\n    },\n\n    mochaOpts: {\n        require: [\n            // Optional, if you're using TypeScript\n            'ts-node/register',\n        ],\n        timeout: 10000,\n        // retries: 2       // auto-retry failed tests up to n times\n    },\n};\n"})})}),(0,s.jsx)(a.A,{value:"jasmine",label:"Jasmine",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-js",metastring:'title="protractor.conf.js" tab={"label":"Jasmine"}',children:"exports.config = {\n    // Disable Selenium promise manager\n    SELENIUM_PROMISE_MANAGER: false,\n\n    framework:      'custom',\n    frameworkPath:  require.resolve('@serenity-js/protractor/adapter'),\n\n    specs: [\n        './spec/*.spec.ts',     // If you're using TypeScript\n        // './spec/*.spec.js',  // If you're using JavaScript\n    ],\n\n    serenity: {\n        runner: 'jasmine',\n        crew: [\n            // Optional, print test execution results to standard output\n            '@serenity-js/console-reporter',\n\n            // Optional, produce Serenity BDD reports\n            // and living documentation (HTML)\n            [ '@serenity-js/serenity-bdd', {\n                specDirectory: './spec'\n            } ],\n\n            [ '@serenity-js/core:ArtifactArchiver', {\n                outputDirectory: 'target/site/serenity'\n            } ],\n\n            // Optional, automatically capture screenshots\n            // upon interaction failure\n            [ '@serenity-js/web:Photographer', {\n                strategy: 'TakePhotosOfFailures'\n            } ],\n        ]\n    },\n\n    jasmineNodeOpts: {\n        requires: [\n            // Optional, if you're using TypeScript\n            'ts-node/register'\n        ],\n    },\n};\n"})})})]}),"\n",(0,s.jsxs)(r.p,{children:["This configuration enables the ",(0,s.jsx)(r.a,{href:"/api/protractor/",children:(0,s.jsx)(r.code,{children:"@serenity-js/protractor"})})," test runner adapter, which in turn configures the ",(0,s.jsx)(r.a,{href:"/handbook/architecture/#serenityjs-reporting-services",children:'"stage crew"'})," of Serenity/JS reporting services:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/handbook/reporting/console-reporter/",children:"Console reporter"})," - Displays test results in the terminal."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/handbook/reporting/serenity-bdd-reporter/",children:"Serenity BDD reporter"})," - Produces ",(0,s.jsx)(r.code,{children:"json"})," reports to be ingested by the Serenity BDD CLI and produce the living documentation."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/handbook/reporting/photographer/",children:"Photographer"})," - Automatically captures screenshots of the browser upon interactions or assertion failures when configured with ",(0,s.jsx)(r.code,{children:"TakePhotosOfInteractions"})," or ",(0,s.jsx)(r.code,{children:"TakePhotosOfFailures"}),", respectively."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/handbook/reporting/artifact-archiver/",children:"Artifact Archiver"})," - Stores the ",(0,s.jsx)(r.code,{children:"json"})," reports and screenshots captured by the Photographer to disk."]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Note that the above configuration assumes the following directory structure of your project:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"./spec"})," or ",(0,s.jsx)(r.code,{children:"./features"})," - stores your test scenarios and is the top-most directory of your ",(0,s.jsx)(r.a,{href:"/handbook/reporting/serenity-bdd-reporter/#the-requirements-hierarchy",children:"requirements hierarchy"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"./target/site/serenity"})," - stores any test report artifacts, like the ",(0,s.jsx)(r.code,{children:".json"})," files and screenshots."]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["If you'd like to use different locations for your tests or the test reports, adjust the ",(0,s.jsx)(r.code,{children:"specDirectory"})," and ",(0,s.jsx)(r.code,{children:"outputDirectory"})," settings accordingly."]}),"\n",(0,s.jsx)(r.p,{children:"Learn more about the configuration options for your test runner:"}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Test Runner"}),(0,s.jsx)(r.th,{children:"Configuration Options"}),(0,s.jsxs)(r.th,{children:["Complete ",(0,s.jsx)(r.code,{children:"protractor.conf.js"})]})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Cucumber"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/cucumber-adapter/interface/CucumberConfig/",children:"Serenity/JS Cucumber configuration options"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js-cucumber-protractor-template/blob/main/protractor.conf.js",children:"Cucumber Protractor Template config"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Jasmine"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/jasmine-adapter/interface/JasmineConfig/",children:"Serenity/JS Jasmine configuration options"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js-jasmine-protractor-template/blob/main/protractor.conf.js",children:"Jasmine Protractor Template config"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:"Mocha"}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/mocha-adapter/interface/MochaConfig/",children:"Serenity/JS Mocha configuration options"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js-mocha-protractor-template/blob/main/protractor.conf.js",children:"Mocha Protractor Template config"})})]})]})]}),"\n",(0,s.jsx)(r.h2,{id:"writing-tests",children:"Writing tests"}),"\n",(0,s.jsxs)(r.p,{children:["Serenity/JS is designed to integrate seamlessly with your existing Protractor codebase, even if you are not using the ",(0,s.jsx)(r.a,{href:"/handbook/design/screenplay-pattern/",children:"Screenplay Pattern"})," yet.\nAdditionally, the framework enables you to ",(0,s.jsx)(r.strong,{children:"mix Screenplay and non-Screenplay scenarios"})," within the same codebase, helping your team gradually adopt the pattern where appropriate."]}),"\n",(0,s.jsx)(r.p,{children:"In this section, you will learn how to write test scenarios using Protractor and Serenity/JS APIs and how to leverage actors to structure your test interactions."}),"\n",(0,s.jsx)(r.h3,{id:"using-the-screenplay-pattern-apis",children:"Using the Screenplay Pattern APIs"}),"\n",(0,s.jsxs)(r.p,{children:["The ",(0,s.jsx)(r.a,{href:"/handbook/design/screenplay-pattern/",children:"Screenplay Pattern"})," is an innovative, user-centred approach to writing high-quality automated acceptance tests.\nIt promotes effective use of layers of abstraction, helps your test scenarios reflect the business vernacular of your domain,\nand encourages good testing and software engineering practices within your team."]}),"\n",(0,s.jsxs)(r.p,{children:["To use the Screenplay Pattern APIs, import the relevant ",(0,s.jsx)(r.a,{href:"/api/core/class/Interaction/",children:"interactions"})," and ",(0,s.jsx)(r.a,{href:"/api/core/class/Question/",children:"questions"})," from the appropriate modules,\nand instruct your actors to perform them using the ",(0,s.jsx)(r.a,{href:"/api/core/class/Actor/#attemptsTo",children:(0,s.jsx)(r.code,{children:"actor.attemptsTo"})})," method."]}),"\n",(0,s.jsx)(r.p,{children:"The most commonly used Screenplay Pattern APIs come from the following modules:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/web",children:(0,s.jsx)(r.code,{children:"@serenity-js/web"})})," - Provides web interactions portable across different web automation libraries, such as Playwright or ",(0,s.jsx)(r.a,{href:"/handbook/test-runners/webdriverio/",children:"WebdriverIO"}),", as well as the ",(0,s.jsx)(r.a,{href:"/handbook/web-testing/page-element-query-language/",children:"Page Element Query Language"})," APIs."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/assertions",children:(0,s.jsx)(r.code,{children:"@serenity-js/assertions"})})," - Provides universal assertions that work across different test runners and automation libraries."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/rest",children:(0,s.jsx)(r.code,{children:"@serenity-js/rest"})})," - Provides RESTful API interactions for sending requests and inspecting responses."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/protractor",children:(0,s.jsx)(r.code,{children:"@serenity-js/protractor"})})," - Provides Protractor-specific interactions."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/core",children:(0,s.jsx)(r.code,{children:"@serenity-js/core"})})," - Provides interface-agnostic interactions, such as ",(0,s.jsx)(r.a,{href:"/handbook/design/waiting-and-synchronisation/",children:"waiting and synchronisation"}),", ",(0,s.jsx)(r.a,{href:"/handbook/design/control-flow/",children:"control flow"}),", or ",(0,s.jsx)(r.a,{href:"/handbook/design/logging/",children:"logging"}),"."]}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"using-actors-in-test-scenarios",children:"Using actors in test scenarios"}),"\n",(0,s.jsxs)(r.p,{children:["A test scenario following the Screenplay Pattern models workflows of one or multiple ",(0,s.jsx)(r.a,{href:"/api/core/class/Actor/",children:"actors"})," representing people and external systems interacting with the system under test."]}),"\n",(0,s.jsxs)(r.p,{children:["When you configure ",(0,s.jsx)(r.a,{href:"/api/protractor",children:"Serenity/JS Protractor"}),"\nas the ",(0,s.jsxs)(r.a,{href:"#integrating-serenityjs-reporting",children:["Protractor ",(0,s.jsx)(r.code,{children:"framework"})]}),",\nSerenity/JS automatically creates and makes available a default ",(0,s.jsx)(r.a,{href:"/api/core/class/Cast",children:"cast"})," of ",(0,s.jsx)(r.a,{href:"/api/core/class/Actor/",children:"actors"}),",\nwhere every actor has the abilities to:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/protractor/class/BrowseTheWebWithProtractor/",children:(0,s.jsx)(r.code,{children:"BrowseTheWebWithProtractor"})})," - Allows interaction with the browser using the global ",(0,s.jsx)(r.code,{children:"protractor.browser"})," object."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/core/class/TakeNotes/",children:(0,s.jsx)(r.code,{children:"TakeNotes.usingAnEmptyNotepad()"})})," - Facilitates storing and retrieving information during the test run."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/rest/class/CallAnApi/",children:(0,s.jsx)(r.code,{children:"CallAnApi"})})," - Enables interaction with RESTful APIs using an Axios HTTP client configured\nwith configured with ",(0,s.jsx)(r.code,{children:"baseUrl"}),"."]}),"\n"]}),"\n",(0,s.jsx)(r.admonition,{title:"Overriding abilities",type:"tip",children:(0,s.jsxs)(r.p,{children:["An actor can only have ",(0,s.jsx)(r.strong,{children:"one instance of each ability"})," type at a time.\nTherefore, providing a new instance of the same type via the ",(0,s.jsx)(r.a,{href:"/api/core/class/Actor/#whoCan",children:(0,s.jsx)(r.code,{children:"actor.whoCan"})})," method overrides any existing ability of that type"]})}),"\n",(0,s.jsxs)(r.p,{children:["To use an actor in your test scenario, refer to it using the ",(0,s.jsx)(r.a,{href:"/api/core/function/actorCalled/",children:(0,s.jsx)(r.code,{children:"actorCalled"})})," or ",(0,s.jsx)(r.a,{href:"/api/core/function/actorInTheSpotlight/",children:(0,s.jsx)(r.code,{children:"actorInTheSpotlight"})})," functions\nand they'll automatically use the configured cast of actors to create or retrieve the actor you need."]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-ts",metastring:'title="specs/example.spec.ts"',children:"import 'jasmine'\nimport { actorCalled } from '@serenity-js/core'\nimport { Navigate, Page } from '@serenity-js/web'\nimport { Ensure, equals } from '@serenity-js/assertions'\n\ndescribe('My awesome website', () => {\n    it('can have test scenarios that follow the Screenplay Pattern', async () => {\n        await actorCalled('Alice').attemptsTo(\n            Navigate.to(`https://www.protractortest.org/`),\n            Ensure.that(\n                Page.current().title(),\n                equals(`Protractor - end-to-end testing for AngularJS`)\n            ),\n        )\n    })\n\n    it('can have non-Screenplay scenarios too', async () => {\n        await browser.get(`https://www.protractortest.org`)\n        await expect(browser.getTitle())\n            .toBe('Protractor - end-to-end testing for AngularJS')\n    })\n})\n"})}),"\n",(0,s.jsx)(r.p,{children:"Since Protractor uses Jasmine, Mocha, or Cucumber to run your test scenarios, please refer to their\ndedicated guides to learn more about using Serenity/JS actors with:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/test-runners/cucumber#referring-to-actors-in-test-scenarios",children:"Cucumber"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/test-runners/jasmine#referring-to-actors-in-test-scenarios",children:"Jasmine"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/test-runners/mocha#referring-to-actors-in-test-scenarios",children:"Mocha"})}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"replacing-the-default-actors",children:"Replacing the default actors"}),"\n",(0,s.jsxs)(r.p,{children:["You can replace the default ",(0,s.jsx)(r.a,{href:"/api/core/class/Cast",children:"cast of actors"}),"\nby providing a custom implementation via ",(0,s.jsx)(r.a,{href:"/api/protractor-adapter/interface/Config#serenity",children:(0,s.jsx)(r.code,{children:"serenity.actors"})}),"\nconfiguration option in your ",(0,s.jsx)(r.code,{children:"protractor.conf.js"}),"."]}),"\n",(0,s.jsxs)(r.p,{children:["For example, to implement a cast where every actor can ",(0,s.jsx)(r.a,{href:"/api/protractor/class/BrowseTheWebWithProtractor",children:(0,s.jsx)(r.code,{children:"BrowseTheWebWithProtractor"})}),",\n",(0,s.jsx)(r.a,{href:"/api/core/class/TakeNotes",children:(0,s.jsx)(r.code,{children:"TakeNotes"})})," and ",(0,s.jsx)(r.a,{href:"/api/rest/class/CallAnApi",children:(0,s.jsx)(r.code,{children:"CallAnApi"})}),", you could create a ",(0,s.jsx)(r.code,{children:"MyActors"})," class like this:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",metastring:'title="test/MyActors.js"',children:"const { TakeNotes } = require('@serenity-js/core')\nconst { CallAnApi } = require('@serenity-js/rest')\nconst { BrowseTheWebWithProtractor } = require('@serenity-js/protractor')\n\nexports.Actors = class Actors {\n    constructor(apiUrl) {\n        this.apiUrl = apiUrl\n    }\n\n    prepare(actor) {\n        return actor.whoCan(\n            BrowseTheWebWithProtractor.using(require('protractor').browser),\n            TakeNotes.usingAnEmptyNotepad(),\n            CallAnApi.at(this.apiUrl),\n        );\n    }\n}\n"})}),"\n",(0,s.jsx)(r.admonition,{title:"No browser in the configuration file",type:"info",children:(0,s.jsxs)(r.p,{children:["Protractor doesn't allow you to use the ",(0,s.jsx)(r.code,{children:"browser"})," global variable in ",(0,s.jsx)(r.code,{children:"protractor.conf.js"}),".\nThat's why you need to create a custom implementation of ",(0,s.jsx)(r.a,{href:"/api/core/class/Cast",children:(0,s.jsx)(r.code,{children:"Cast"})}),"\nand only refer to ",(0,s.jsx)(r.code,{children:"browser"})," in ",(0,s.jsx)(r.a,{href:"/api/core/class/Cast#prepare",children:(0,s.jsx)(r.code,{children:"Cast.prepare"})})," method."]})}),"\n",(0,s.jsx)(r.admonition,{title:"No TypeScript in the configuration file",type:"info",children:(0,s.jsxs)(r.p,{children:["Protractor doesn't allow you to use TypeScript in ",(0,s.jsx)(r.code,{children:"protractor.conf.js"}),".\nThat's why ",(0,s.jsx)(r.code,{children:"MyActors"})," needs to be implemented in plain-old JavaScript."]})}),"\n",(0,s.jsxs)(r.p,{children:["Next, modify your Protractor configuration file to provide your custom ",(0,s.jsx)(r.code,{children:"MyActors"})," implementation:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-javascript",metastring:'title="protractor.conf.js"',children:"// highlight-next-line\nconst { MyActors } = require('./test/MyActors');\n\nexports.config = {\n\n    framework:      'custom',\n    frameworkPath:  require.resolve('@serenity-js/protractor/adapter'),\n\n    serenity: {\n        // highlight-next-line\n        actors: new MyActors(),\n        crew: [\n            '@serenity-js/console-reporter',\n            '@serenity-js/serenity-bdd',\n            [ '@serenity-js/core:ArtifactArchiver', { outputDirectory: 'target/site/serenity' } ],\n            [ '@serenity-js/web:Photographer', { strategy: 'TakePhotosOfFailures' } ],\n        ]\n    },\n\n    // other Protractor config\n}\n"})}),"\n",(0,s.jsx)(r.h2,{id:"reporting",children:"Reporting"}),"\n",(0,s.jsxs)(r.p,{children:["Serenity/JS provides comprehensive reporting capabilities and integrates with the ",(0,s.jsx)(r.a,{href:"/handbook/reporting/serenity-bdd-reporter/",children:"Serenity BDD reporter"}),"."]}),"\n",(0,s.jsx)(r.admonition,{title:"Reference Implementation",type:"tip",children:(0,s.jsxs)(r.p,{children:["Explore the ",(0,s.jsx)(r.a,{href:"/handbook/project-templates/#protractor",children:"Serenity/JS + Protractor project templates"})," to see the reporting capabilities in action."]})}),"\n",(0,s.jsx)(r.h3,{id:"serenity-bdd-reports",children:"Serenity BDD Reports"}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"/handbook/reporting/serenity-bdd-reporter",children:"Serenity reports and living documentation"})," are a powerful feature enabled by Serenity BDD.\nThey aim not only to ",(0,s.jsx)(r.strong,{children:"report test results"}),", but also to document ",(0,s.jsx)(r.strong,{children:"how features are tested"}),", and ",(0,s.jsx)(r.strong,{children:"what your application does"}),"."]}),"\n",(0,s.jsxs)(r.p,{children:["Serenity BDD reports are generated by the ",(0,s.jsx)(r.a,{href:"https://github.com/serenity-bdd/serenity-core/tree/main/serenity-cli",children:"Serenity BDD CLI"}),",\na Java program that ships with the ",(0,s.jsx)(r.a,{href:"/api/serenity-bdd/",children:(0,s.jsx)(r.code,{children:"@serenity-js/serenity-bdd"})})," module.\nThese reports are based on the ",(0,s.jsx)(r.code,{children:"json"})," reports produced by the ",(0,s.jsx)(r.a,{href:"/handbook/reporting/serenity-bdd-reporter/",children:"Serenity BDD Reporter"}),",\nas well as screenshots captured by the ",(0,s.jsx)(r.a,{href:"/handbook/reporting/photographer/",children:"Photographer"}),"."]}),"\n",(0,s.jsx)(c,{caption:"Example Serenity BDD report",img:n(74995)}),"\n",(0,s.jsx)(r.p,{children:"To generate Serenity BDD HTML reports and living documentation, your test suite must:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Use ",(0,s.jsx)(r.a,{href:"/api/serenity-bdd/class/SerenityBDDReporter/",children:(0,s.jsx)(r.code,{children:"SerenityBDDReporter"})})," and ",(0,s.jsx)(r.a,{href:"/api/core/class/ArtifactArchiver/",children:(0,s.jsx)(r.code,{children:"ArtifactArchiver"})})," as per the ",(0,s.jsx)(r.a,{href:"#integrating-serenityjs-reporting",children:"configuration instructions"}),"."]}),"\n",(0,s.jsxs)(r.li,{children:["Invoke the ",(0,s.jsx)(r.code,{children:"serenity-bdd run"})," command when the test run has finished to generate the Serenity BDD report."]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["All ",(0,s.jsx)(r.a,{href:"/handbook/project-templates/",children:"Serenity/JS Project Templates"})," follow the same recommended pattern to generate Serenity BDD reports.\nThis approach relies on:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"NPM scripts to invoke the command-line tools, such as Playwright Test or the Serenity BDD CLI."}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"https://www.npmjs.com/package/npm-failsafe",children:(0,s.jsx)(r.code,{children:"npm-failsafe"})})," to execute a sequence of NPM scripts."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"https://www.npmjs.com/package/rimraf",children:(0,s.jsx)(r.code,{children:"rimraf"})})," to remove any test reports left over from the previous run."]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"You can install these additional recommended modules as follows:"}),"\n",(0,s.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,s.jsx)(a.A,{value:"npm",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"npm install --save-dev npm-failsafe rimraf\n"})})}),(0,s.jsx)(a.A,{value:"yarn",label:"Yarn",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"yarn add --dev npm-failsafe rimraf\n"})})}),(0,s.jsx)(a.A,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"pnpm add --save-dev npm-failsafe rimraf\n"})})})]}),"\n",(0,s.jsxs)(r.p,{children:["Next, add the following convenience scripts to your ",(0,s.jsx)(r.code,{children:"package.json"})," file:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"clean"})," - removes any test reports left over from the previous test run."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"test"})," - uses ",(0,s.jsx)(r.code,{children:"npm-failsafe"})," to execute multiple NPM scripts and generate test reports."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"test:execute"})," - an example alias for ",(0,s.jsx)(r.code,{children:"protractor"}),". You can extend it to include any necessary command-line arguments."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.code,{children:"test:report"})," - an alias for ",(0,s.jsx)(r.code,{children:"serenity-bdd run"}),". You can configure it with alternative ",(0,s.jsx)(r.code,{children:"json"})," report locations (",(0,s.jsx)(r.code,{children:"--source"}),") and HTML report destinations (",(0,s.jsx)(r.code,{children:"--destination"}),"). Run ",(0,s.jsx)(r.code,{children:"npx serenity-bdd run --help"})," to see the available options."]}),"\n"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "scripts": {\n    "clean": "rimraf target",\n    "test": "failsafe clean test:execute test:report",\n    "test:execute": "protractor ./protractor.conf.js",\n    "test:report": "serenity-bdd run --source ./target/site/serenity --destination ./target/site/serenity",\n  }\n}\n'})}),"\n",(0,s.jsxs)(r.p,{children:["To learn more about the ",(0,s.jsx)(r.code,{children:"SerenityBDDReporter"}),", see:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/serenity-bdd/class/SerenityBDDReporter/",children:(0,s.jsx)(r.code,{children:"SerenityBDDReporter"})})," API documentation and configuration examples."]}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/project-templates/#protractor",children:"Serenity/JS Protractor project templates"})}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js/tree/main/examples",children:"Serenity/JS examples"})," on GitHub"]}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"migrating-from-protractor-to-serenityjs",children:"Migrating from Protractor to Serenity/JS"}),"\n",(0,s.jsxs)(r.p,{children:["Serenity/JS accommodates both classic Protractor tests and Serenity/JS ",(0,s.jsx)(r.a,{href:"/handbook/design/screenplay-pattern/",children:"Screenplay Pattern scenarios"}),",\nallowing you to migrate to Screenplay gradually while ",(0,s.jsx)(r.strong,{children:"keeping your existing test suites working"})," and providing value to your organisation\nduring the migration. With Serenity/JS, there's ",(0,s.jsx)(r.strong,{children:"no need for a big-bang rewrite"}),"!"]}),"\n",(0,s.jsx)(r.p,{children:"If you have an existing Protractor test suite and want to upgrade to a more modern web integration tool like Playwright or WebdriverIO, you'll need to:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["Upgrade your Node.js to the latest ",(0,s.jsx)(r.a,{href:"https://github.com/nodejs/Release",children:"Long-Term Support (LTS)"})," version, such as ",(0,s.jsx)("strong",{children:(0,s.jsx)(t,{})})]}),"\n",(0,s.jsxs)(r.li,{children:["Install ",(0,s.jsx)(r.a,{href:"/handbook/test-runners/protractor/#installing-serenityjs",children:"Serenity/JS dependencies"})," for Protractor,\nas well as ",(0,s.jsx)(r.a,{href:"/handbook/installation/#installing-the-jre",children:"Java Runtime Environment"})," if you'd like to use\n",(0,s.jsx)(r.a,{href:"/handbook/reporting/serenity-bdd-reporter/",children:"Serenity BDD"})," reports"]}),"\n",(0,s.jsxs)(r.li,{children:["Migrate your existing Protractor tests to use ",(0,s.jsx)(r.a,{href:"/api/web/",children:"Serenity/JS Screenplay Pattern web APIs"}),", which you can do gradually while keeping the remaining scenarios working"]}),"\n",(0,s.jsxs)(r.li,{children:["When all your test scenarios are using ",(0,s.jsx)(r.a,{href:"/api/web/",children:"Serenity/JS Screenplay Pattern web APIs"})," and there are no Protractor API calls left,\nintroduce ",(0,s.jsx)(r.a,{href:"/handbook/test-runners/playwright-test/",children:"Playwright"})," or ",(0,s.jsx)(r.a,{href:"/handbook/test-runners/webdriverio/",children:"WebdriverIO"})," to ensure\nyour migrated scenarios work with the new integration library"]}),"\n",(0,s.jsx)(r.li,{children:"Remove Protractor dependencies and enjoy your modernised test suite!"}),"\n"]}),"\n",(0,s.jsxs)(r.admonition,{title:"Migrate or rewrite?",type:"tip",children:[(0,s.jsx)(r.p,{children:"Migrating existing Protractor test scenarios to follow the Serenity/JS Screenplay Pattern can be a big undertaking, depending on the size, complexity, and stability of your current test suite.\nNot to mention that every team has a slightly different Protractor setup and uses the tool in different ways, which makes automating the migration process\nchallenging."}),(0,s.jsxs)(r.p,{children:["When migrating to Serenity/JS, start with the easy scenarios so that you can focus the first steps of your migration on making sure your\n",(0,s.jsx)(r.a,{href:"/handbook/integration/",children:"continuous integration"})," and ",(0,s.jsx)(r.a,{href:"/handbook/reporting/",children:"reporting infrastructure"})," work reliably.\nThis way you'll build a stable foundation upon which you can migrate the more complex tests."]}),(0,s.jsxs)(r.p,{children:["Remember, if your current Protractor test suite is reasonably stable, still works and provides value, there's no need for a risky big bang rewrite\nas you can migrate it one scenario at a time while keeping the existing tests working.\nHowever, if your current Protractor test suite ",(0,s.jsx)(r.em,{children:"doesn't work"})," and you'd rather delete it than migrate it, you might prefer to start from scratch and use Serenity/JS with ",(0,s.jsx)(r.a,{href:"/handbook/test-runners/playwright-test/",children:"Playwright"})," or ",(0,s.jsx)(r.a,{href:"/handbook/test-runners/webdriverio/",children:"WebdriverIO"})," straight away.\nThe choice is yours and Serenity/JS will support you either way."]})]}),"\n",(0,s.jsx)(r.h3,{id:"locating-elements",children:"Locating elements"}),"\n",(0,s.jsxs)(r.p,{children:["To identify web elements with Serenity/JS you use the ",(0,s.jsx)(r.a,{href:"/handbook/web-testing/page-element-query-language/",children:"Page Element Query Language"}),"."]}),"\n",(0,s.jsx)(r.p,{children:"In short:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/web/class/PageElement/",children:(0,s.jsx)(r.code,{children:"PageElement"})})," represents a single HTML element,"]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/web/class/PageElements/",children:(0,s.jsx)(r.code,{children:"PageElements"})})," represent a collection of HTML elements and lets you filter it based on your criteria."]}),"\n",(0,s.jsxs)(r.li,{children:[(0,s.jsx)(r.a,{href:"/api/web/class/PageElements/",children:(0,s.jsx)(r.code,{children:"By"})})," represents portable locators used to identify the elements,"]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["For example, to identify an element ",(0,s.jsx)(r.code,{children:'<h1 id="title">My article</h1>'})," in plain Protractor you'd say:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",children:"element(by.css('h1.title'))\n"})}),"\n",(0,s.jsx)(r.p,{children:"Serenity/JS has a similar construct and allows you to specify a description to be used when reporting interactions\nwith the element:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",children:"import { By, PageElement } from '@serenity-js/web'\n\nPageElement.located(By.css('h1.title'))\n"})}),"\n",(0,s.jsx)(r.p,{children:"However, Serenity/JS also allows you to specify a human-readable description to be used when reporting interactions\nwith the element:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",children:"import { By, PageElement } from '@serenity-js/web'\n\nPageElement.located(By.css('h1.title'))\n    .describedAs('article title')\n"})}),"\n",(0,s.jsxs)(r.p,{children:["The below table shows how you can translate common Protractor ",(0,s.jsx)(r.a,{href:"https://www.protractortest.org/#/locators#locators",children:"element finder expressions"}),"\nto Serenity/JS page element expressions:"]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Protractor"}),(0,s.jsx)(r.th,{children:"Serenity/JS"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(by.css('.selector'))"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PageElement.located(By.css('...'))"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(by.id('...'))"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PageElement.located(By.id('...'))"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(by.xpath('...'))"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PageElement.located(By.xpath('...'))"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(by.model('...'))"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PageElement.located(By.css('[ng-model=\"...\"]'))"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(by.repeater('...'))"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PageElement.located(By.css('[ng-repeat=\"...\"]'))"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(by.cssContainingText('.selector', 'text'))"})}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.code,{children:"PageElement.located(By.cssContainingText('.selector', 'text'))"}),(0,s.jsx)("br",{}),"or for greater flexibility:",(0,s.jsx)("br",{}),(0,s.jsx)(r.code,{children:"PageElements.located(By.css('.selector')).where(Text, includes('text')).first()"})]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(by.buttonText('Submit'))"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PageElements.located(By.css('button')).where(Text, equals('Submit')).first()"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element.all"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"PageElements.located(By.css('...'))"})})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:["Note how with Serenity/JS you can easily express complex queries using intuitive syntax.\nFor example, you can locate the ",(0,s.jsx)(r.a,{href:"/api/web/class/PageElements/#last",children:"last"})," ",(0,s.jsx)(r.code,{children:"<button />"})," which text meets some ",(0,s.jsx)(r.a,{href:"/api/core/class/Expectation/",children:"expectation"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",children:"import { By, PageElements, Text } from '@serenity-js/web'\nimport { equals } from '@serenity-js/assertions'\n\nPageElements.located(By.css('button'))\n    .where(Text, equals('Submit'))\n    .last()\n"})}),"\n",(0,s.jsx)(r.p,{children:"You can create aliases for expressions you use frequently:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",children:"import { By, PageElements, Text } from '@serenity-js/web'\nimport { equals } from '@serenity-js/assertions'\n\nconst approveButton = () =>\n    PageElements.located(By.css('button'))\n        .where(Text, equals('Approve'))\n        .first()\n"})}),"\n",(0,s.jsxs)(r.p,{children:["And you can also ",(0,s.jsx)(r.a,{href:"/handbook/web-testing/page-element-query-language/#composing-page-elements-using-meta-questions",children:"compose page elements"}),", making them reusable:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",children:"import { actorCalled, Expectation } from '@serenity-js/core'\nimport { equals } from '@serenity-js/assertions'\nimport { By, Click, PageElement, PageElements } from '@serenity-js/web'\n\nconst clientNameField = () =>\n    PageElement.located(By.css('[data-test-id=\"client-name\"]'))\n        .describedAs('client name field')\n\nconst invoiceRecordForClientWhereName = (expectation: Expectation<string>) =>\n    PageElements.located(By.css('li.invoice'))\n        .where(Text.of(clientNameField()), expectation)\n        .first()\n\nawait actorCalled('Alice').attemptsTo(\n    Click.on(\n        approveButton().of(invoiceRecordForClientWhereName(equals('Acme')))\n    )\n)\n"})}),"\n",(0,s.jsx)(r.p,{children:"Learn more:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/web-testing/page-element-query-language/",children:"Page Element Query Language"})}),"\n"]}),"\n",(0,s.jsx)(r.h3,{id:"retrieving-information",children:"Retrieving information"}),"\n",(0,s.jsxs)(r.p,{children:["To retrieve information about the current web page, use ",(0,s.jsx)(r.a,{href:"/api/web/class/Page/",children:(0,s.jsx)(r.code,{children:"Page.current()"})}),"."]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Protractor"}),(0,s.jsx)(r.th,{children:"Serenity/JS"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"browser.getCurrentUrl()"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"Page.current().url().href"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"browser.getTitle()"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"Page.current().title()"})})]})]})]}),"\n",(0,s.jsxs)(r.p,{children:["For example, to navigate to a page and then assert on its ",(0,s.jsx)(r.a,{href:"/api/web/class/Page/#title",children:"title"})," and ",(0,s.jsx)(r.a,{href:"/api/web/class/Page/#url",children:"URL"})," you can say:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",children:"import { actorCalled } from '@serenity-js/core'\nimport { Ensure, endsWith, equals } from '@serenity-js/assertions'\nimport { Navigate, Page } from '@serenity-js/web'\n\nawait actorCalled('Amanda').attemptsTo(\n    Navigate.to('https://serenity-js.org'),\n    Ensure.that(\n        Page.current().title(),\n        endsWith('Serenity/JS')\n    ),\n    Ensure.that(\n        Page.current().url().href,\n        equals('https://serenity-js.org')\n    ),\n)\n"})}),"\n",(0,s.jsxs)(r.p,{children:["To retrieve information about a page element, use ",(0,s.jsx)(r.a,{href:"/api/web/",children:"Serenity/JS web questions"}),":"]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Protractor"}),(0,s.jsx)(r.th,{children:"Serenity/JS"}),(0,s.jsx)(r.th,{children:"Notes"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://www.protractortest.org/#/api?view=webdriver.WebElement.prototype.getAttribute",children:(0,s.jsx)(r.code,{children:"element(by.id('...')).getAttribute('class')"})})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/web/class/CssClasses/",children:(0,s.jsx)(r.code,{children:"CssClasses.of(pageElement)"})})}),(0,s.jsx)(r.td,{children:"Serenity/JS returns an array of CSS classes to make assertions easier, instead of a single string like plain Protractor"})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://www.protractortest.org/#/api?view=webdriver.WebElement.prototype.getAttribute",children:(0,s.jsx)(r.code,{children:"element(by.id('...')).getAttribute('value')"})})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/web/class/Value/",children:(0,s.jsx)(r.code,{children:"Value.of(pageElement)"})})}),(0,s.jsxs)(r.td,{children:["Serenity/JS has a dedicated question for retrieving the ",(0,s.jsx)(r.code,{children:"value"})," attribute of ",(0,s.jsx)(r.code,{children:"<input />"})," elements"]})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"https://www.protractortest.org/#/api?view=webdriver.WebElement.prototype.getText",children:(0,s.jsx)(r.code,{children:"element(by.id('...')).getText()"})})}),(0,s.jsxs)(r.td,{children:[(0,s.jsx)(r.a,{href:"/api/web/class/Text/",children:(0,s.jsx)(r.code,{children:"Text.of(pageElement)"})})," and ",(0,s.jsx)(r.a,{href:"/api/web/class/Text/",children:(0,s.jsx)(r.code,{children:"Text.ofAll(pageElements)"})})]}),(0,s.jsx)(r.td,{children:"Serenity/JS makes it easier to retrieve text content of all elements in a collection"})]})]})]}),"\n",(0,s.jsx)(r.p,{children:"For example, to navigate to a page and assert on the CSS classes of an element, you could say:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",children:"import { actorCalled } from '@serenity-js/core'\nimport { By, CssClasses, Navigate, PageElement } from '@serenity-js/web'\nimport { Ensure, include } from '@serenity-js/assertions'\n\nconst startAutomatingButton = () =>\n    PageElement.located(By.cssContainingText('.button', 'Start automating'))\n        .describedAs('\"Start automating\" button')\n\nawait actorCalled('Amanda').attemptsTo(\n    Navigate.to('https://serenity-js.org'),\n    Ensure.that(\n        CssClasses.of(startAutomatingButton()),\n        include('button--primary')\n    ),\n)\n"})}),"\n",(0,s.jsx)(r.h3,{id:"performing-interactions",children:"Performing interactions"}),"\n",(0,s.jsxs)(r.p,{children:["To interact with a web page or a page element, instruct an ",(0,s.jsx)(r.a,{href:"/handbook/design/screenplay-pattern/#actors",children:"actor"})," to perform\na desired ",(0,s.jsx)(r.a,{href:"/handbook/design/screenplay-pattern/#interactions",children:"interaction"}),".\nNote that Serenity/JS also consistently models all ",(0,s.jsx)(r.a,{href:"/handbook/design/assertions/",children:"assertion"}),", ",(0,s.jsx)(r.a,{href:"/handbook/design/waiting-and-synchronisation/",children:"synchronisation"}),"\n",(0,s.jsx)(r.a,{href:"/handbook/design/logging/",children:"logging"}),", ",(0,s.jsx)(r.a,{href:"//handbook/design/debugging/",children:"debugging"}),", and ",(0,s.jsx)(r.a,{href:"/handbook/design/control-flow/",children:"control flow"})," statements as interactions too."]}),"\n",(0,s.jsx)(r.p,{children:"For example, to navigate to a page, click on a button and perform an assertion, you could say:"}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",children:"import { actorCalled } from '@serenity-js/core'\nimport { By, Click, Navigate, Page, PageElement } from '@serenity-js/web'\nimport { Ensure, equals } from '@serenity-js/assertions'\n\nconst startAutomatingButton = () =>\n    PageElement.located(By.cssContainingText('.button', 'Start automating'))\n        .describedAs('\"Start automating\" button')\n\nawait actorCalled('Amanda').attemptsTo(\n    Navigate.to('https://serenity-js.org'),\n    Click.on(startAutomatingButton()),\n    Ensure.that(\n        Page.current().url().path,\n        equals('/handbook/tutorials/your-first-web-scenario/')\n    )\n)\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Note that one of Serenity/JS super-powers is the ability to compose\ninteractions into ",(0,s.jsx)(r.a,{href:"/handbook/design/screenplay-pattern/#tasks",children:"tasks"}),", like ",(0,s.jsx)(r.code,{children:"startTutorial()"})," below,\nwhich makes your code easy to share and reuse:"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-typescript",children:"import { actorCalled, Task } from '@serenity-js/core'\nimport { Click, Navigate, Page } from '@serenity-js/web'\nimport { Ensure, equals } from '@serenity-js/assertions'\n\n// ...\n\nconst startTutorial = () =>\n    Task.where(`#actor starts the Serenity/JS tutorial`,\n        Click.on(startAutomatingButton()),\n        Ensure.that(\n            Page.current().url().path,\n            equals('/handbook/tutorials/your-first-web-scenario/')\n        )\n    )\n\nawait actorCalled('Amanda').attemptsTo(\n    Navigate.to('https://serenity-js.org'),\n    startTutorial(),\n)\n"})}),"\n",(0,s.jsxs)(r.p,{children:["Below table shows how you can replace Protractor-specific API calls with ",(0,s.jsx)(r.a,{href:"/api/web/#Index",children:"Serenity/JS web interactions"}),":"]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Protractor"}),(0,s.jsx)(r.th,{children:"Serenity/JS"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(locator).click()"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/web/class/Click/",children:"Click.on(pageElement)"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(locator).clear()"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/web/class/Clear/",children:"Clear.theValueOf(pageElement)"})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(locator).sendKeys(text)"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/web/class/Enter/",children:"Enter.theValue(text).into(pageElement)"})})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"waiting-and-synchronisation",children:"Waiting and synchronisation"}),"\n",(0,s.jsxs)(r.p,{children:["To express a ",(0,s.jsx)(r.a,{href:"/handbook/design/waiting-and-synchronisation/",children:"synchronisation statement"}),",\nuse ",(0,s.jsx)(r.a,{href:"/api/core/class/Wait/",children:(0,s.jsx)(r.code,{children:"Wait.until"})}),"\nor ",(0,s.jsx)(r.a,{href:"/api/assertions/class/Ensure/#eventually",children:(0,s.jsx)(r.code,{children:"Ensure.eventually"})}),"."]}),"\n",(0,s.jsxs)(r.table,{children:[(0,s.jsx)(r.thead,{children:(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.th,{children:"Protractor"}),(0,s.jsx)(r.th,{children:"Serenity/JS"})]})}),(0,s.jsxs)(r.tbody,{children:[(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(locator).isPresent()"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/assertions/function/isPresent/",children:(0,s.jsx)(r.code,{children:"Wait.until(pageElement, isPresent())"})})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(locator).isEnabled()"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/web/function/isEnabled/",children:(0,s.jsx)(r.code,{children:"Wait.until(pageElement, isEnabled())"})})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(locator).isSelected()"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/web/function/isSelected/",children:(0,s.jsx)(r.code,{children:"Wait.until(pageElement, isSelected())"})})})]}),(0,s.jsxs)(r.tr,{children:[(0,s.jsx)(r.td,{children:(0,s.jsx)(r.code,{children:"element(locator).isDisplayed()"})}),(0,s.jsx)(r.td,{children:(0,s.jsx)(r.a,{href:"/api/web/function/isVisible/",children:(0,s.jsx)(r.code,{children:"Wait.until(pageElement, isVisible())"})})})]})]})]}),"\n",(0,s.jsx)(r.h3,{id:"replacing-protractor-with-webdriverio",children:"Replacing Protractor with WebdriverIO"}),"\n",(0,s.jsxs)(r.p,{children:["In many ways, ",(0,s.jsx)(r.a,{href:"https://webdriver.io/",children:"WebdriverIO"})," is very similar to Protractor:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsxs)(r.li,{children:["it integrates with the same test runners, such as ",(0,s.jsx)(r.a,{href:"https://webdriver.io/docs/frameworks/",children:"Cucumber, Mocha, and Jasmine"})]}),"\n",(0,s.jsxs)(r.li,{children:["it works well with ",(0,s.jsx)(r.a,{href:"https://webdriver.io/docs/frameworks/#using-serenityjs",children:"Serenity/JS"})]}),"\n",(0,s.jsx)(r.li,{children:"it works with local browsers and remote Selenium Grids"}),"\n",(0,s.jsx)(r.li,{children:"it supports multi-tab and multi-window test scenarios"}),"\n",(0,s.jsx)(r.li,{children:"it supports mobile testing"}),"\n",(0,s.jsxs)(r.li,{children:["its ",(0,s.jsx)(r.a,{href:"https://webdriver.io/docs/configuration",children:"configuration file"})," follows a similar structure"]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Once you've migrated your test scenarios to follow the Screenplay Pattern and there are no Protractor API calls left\nin your code, follow WebdriverIO Protractor migration guide to:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://webdriver.io/docs/protractor-migration#first-the-config-file",children:"migrate the configuration file"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://webdriver.io/docs/protractor-migration#install-webdriverio-dependencies",children:"install the WebdriverIO dependencies"})}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"Next, install Serenity/JS WebdriverIO module:"}),"\n",(0,s.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,s.jsx)(a.A,{value:"npm",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"npm install @serenity-js/webdriverio --save-dev\n"})})}),(0,s.jsx)(a.A,{value:"yarn",label:"Yarn",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"yarn add @serenity-js/webdriverio --dev\n"})})}),(0,s.jsx)(a.A,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"pnpm add @serenity-js/webdriverio --save-dev\n"})})})]}),"\n",(0,s.jsxs)(r.p,{children:["Update the ",(0,s.jsx)(r.code,{children:"script"})," section in your ",(0,s.jsx)(r.code,{children:"package.json"})," to use ",(0,s.jsx)(r.code,{children:"wdio"})," instead of ",(0,s.jsx)(r.code,{children:"protractor"}),":"]}),"\n",(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-diff",metastring:'title="package.json"',children:'{\n  "scripts": {\n    "clean": "rimraf target",\n    "test": "failsafe clean test:execute test:report",\n-   "test:execute": "protractor ./protractor.conf.js",\n+   "test:execute": "wdio ./wdio.conf.ts",\n    "test:report": "serenity-bdd run"\n  }\n}\n'})}),"\n",(0,s.jsx)(r.p,{children:"Once your test suite works, remove Protractor and its related Serenity/JS module:"}),"\n",(0,s.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,s.jsx)(a.A,{value:"npm",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"npm uninstall protractor @serenity-js/protractor --save\n"})})}),(0,s.jsx)(a.A,{value:"yarn",label:"Yarn",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"yarn remove protractor @serenity-js/protractor\n"})})}),(0,s.jsx)(a.A,{value:"pnpm",label:"pnpm",children:(0,s.jsx)(r.pre,{children:(0,s.jsx)(r.code,{className:"language-sh",children:"pnpm remove protractor @serenity-js/protractor\n"})})})]}),"\n",(0,s.jsx)(r.p,{children:"Learn more:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/test-runners/webdriverio/",children:"Serenity/JS WebdriverIO Test Runner Adapter"})}),"\n"]}),"\n",(0,s.jsx)(r.h2,{id:"integration-architecture",children:"Integration architecture"}),"\n",(0,s.jsxs)(r.p,{children:["To recap, Serenity/JS integrates with Protractor through the ",(0,s.jsx)(r.a,{href:"/api/protractor",children:(0,s.jsx)(r.code,{children:"@serenity-js/protractor"})})," module,\nwhich acts as a ",(0,s.jsx)(r.a,{href:"/handbook/architecture/#serenityjs-test-runner-adapters",children:"test runner adapter"})," and:"]}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:"Captures test execution events from Protractor and its test runners"}),"\n",(0,s.jsxs)(r.li,{children:["Translates them into ",(0,s.jsx)(r.a,{href:"/handbook/reporting/domain-events",children:"Serenity/JS domain events"})]}),"\n",(0,s.jsxs)(r.li,{children:["Makes them available to ",(0,s.jsx)(r.a,{href:"/handbook/reporting/",children:"Serenity/JS reporting services"})]}),"\n"]}),"\n",(0,s.jsx)(r.p,{children:"This modular architecture enables Serenity/JS to enhance both classic Protractor scenarios and those following the Screenplay Pattern with advanced reporting capabilities."}),"\n",(0,s.jsx)(r.p,{children:"To enable this integration, you need to:"}),"\n",(0,s.jsxs)(r.ol,{children:["\n",(0,s.jsxs)(r.li,{children:["Configure ",(0,s.jsx)(r.a,{href:"#integrating-serenityjs-reporting",children:"Serenity/JS test runner adapter and reporting services"})," in your ",(0,s.jsx)(r.code,{children:"protractor.conf.js"})," file"]}),"\n",(0,s.jsxs)(r.li,{children:["Optionally, use the ",(0,s.jsx)(r.a,{href:"#using-the-screenplay-pattern-apis",children:"Serenity/JS Screenplay Pattern APIs"})," in your test scenarios"]}),"\n"]}),"\n",(0,s.jsxs)("figure",{children:[(0,s.jsx)(r.mermaid,{value:'graph TB\n    SUT(["Web App"])\n    DEV(["\ud83d\udcbb Developer"])\n    WdioCli["protractor"]\n    Wdio(["Protractor"])\n    ConfigFile["protractor.conf.js"]\n    SWdioAdapter(["@serenity-js/protractor/adapter"])\n    SWeb(["@serenity-js/web"])\n    SWdio(["@serenity-js/protractor"])\n    SCore(["@serenity-js/core"])\n    TR(["3rd-party test runner"])\n    TRA(["Serenity/JS test runner adapter"])\n    Specs["test scenarios"]\n    R(["Serenity/JS reporting services"])\n\n    DEV -- invokes --\x3e WdioCli\n    WdioCli -- loads --\x3e ConfigFile\n    WdioCli -- uses --\x3e SWdioAdapter\n    ConfigFile -- configures --\x3e SCore\n    SWdioAdapter -- registers --\x3e TRA\n    SWdioAdapter -- manages --\x3e TR\n    TR -- notifies --\x3e TRA\n    TR -- executes --\x3e Specs\n    Specs -- use --\x3e SWeb\n    SWeb -- notifies --\x3e SCore\n\n    SWeb -- uses --\x3e SWdio\n\n    SWdio -- uses --\x3e Wdio\n\n    Wdio -- interacts with --\x3e SUT\n\n    TRA -- notifies --\x3e SCore\n    SCore -- notifies --\x3e R\n\n    click SWdio "/api/protractor"\n    click SWeb "/api/web"\n    click SCore "/api/core"\n    click R "/handbook/reporting"'}),(0,s.jsx)("figcaption",{children:"Serenity/JS + Protractor integration architecture"})]}),"\n",(0,s.jsx)(r.h2,{id:"next-steps",children:"Next steps"}),"\n",(0,s.jsx)(r.p,{children:"Well done, your Protractor test suite is now integrated with Serenity/JS! \ud83c\udf89\ud83c\udf89\ud83c\udf89"}),"\n",(0,s.jsx)(r.p,{children:"To take things further, check out:"}),"\n",(0,s.jsxs)(r.ul,{children:["\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/design/screenplay-pattern/",children:"The Screenplay Pattern"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/web-testing/",children:"Serenity/JS Web Testing Patterns"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/handbook/project-templates/#protractor",children:"Serenity/JS Protractor project templates"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/web/",children:"Serenity/JS Web API docs"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"/api/assertions/",children:"Serenity/JS Assertions API docs"})}),"\n",(0,s.jsx)(r.li,{children:(0,s.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js/tree/main/examples/",children:"Serenity/JS examples on GitHub"})}),"\n",(0,s.jsxs)(r.li,{children:["\ud83d\udcda Our book, ",(0,s.jsx)(r.a,{href:"https://www.manning.com/books/bdd-in-action-second-edition",children:'"BDD in Action, Second Edition"'})]}),"\n"]}),"\n",(0,s.jsxs)(r.p,{children:["Remember, new features, tutorials, and demos are coming soon!\nFollow ",(0,s.jsx)(r.a,{href:"https://www.linkedin.com/company/serenity-js",children:"Serenity/JS on LinkedIn"}),",\nsubscribe to ",(0,s.jsx)(r.a,{href:"https://www.youtube.com/@serenity-js",children:"Serenity/JS channel on YouTube"})," and join the ",(0,s.jsx)(r.a,{href:"https://matrix.to/#/#serenity-js:gitter.im",children:"Serenity/JS Community Chat"})," to stay up to date!"]}),"\n",(0,s.jsxs)(r.p,{children:["Don't forget to \u2b50\ufe0f ",(0,s.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js",children:"Serenity/JS on GitHub"})," to help others discover the framework!"]}),"\n",(0,s.jsxs)(r.p,{children:[(0,s.jsx)(r.a,{href:"https://www.linkedin.com/company/serenity-js",children:(0,s.jsx)(r.img,{src:"https://img.shields.io/badge/Follow-Serenity%2FJS%20-0077B5?logo=linkedin",alt:"Follow Serenity/JS on LinkedIn"})}),"\n",(0,s.jsx)(r.a,{href:"https://www.youtube.com/@serenity-js",children:(0,s.jsx)(r.img,{src:"https://img.shields.io/badge/Watch-@serenity--js-E62117?logo=youtube",alt:"Watch Serenity/JS on YouTube"})}),"\n",(0,s.jsx)(r.a,{href:"https://matrix.to/#/#serenity-js:gitter.im",children:(0,s.jsx)(r.img,{src:"https://img.shields.io/badge/Chat-Serenity%2FJS%20Community-FBD30B?logo=matrix",alt:"Join Serenity/JS Community Chat"})}),"\n",(0,s.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js",children:(0,s.jsx)(r.img,{src:"https://img.shields.io/github/stars/serenity-js/serenity-js?label=Serenity%2FJS&logo=github&style=badge",alt:"GitHub stars"})})]})]})}function u(e={}){const{wrapper:r}={...(0,i.R)(),...e.components};return r?(0,s.jsx)(r,{...e,children:(0,s.jsx)(p,{...e})}):p(e)}function j(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},74995:(e,r,n)=>{e.exports={src:Object.assign(Object.create({toString(){return this.src}}),{srcSet:n.p+"assets/ideal-img/serenity-bdd-reporter.3817c9e.1600.png 1600w",images:[{path:n.p+"assets/ideal-img/serenity-bdd-reporter.3817c9e.1600.png",width:1600,height:738}],src:n.p+"assets/ideal-img/serenity-bdd-reporter.3817c9e.1600.png",placeholder:void 0,width:1600,height:738}),preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvklEQVR4nB3MTYrCMBQA4FzNC8wpPIQ4K+8guhDEe7gU1EVXLkSQUjpJ0/S1ef1LUtNi3qCrb/exVKQ/VVntuBQnoYpr3dUXADjnoA6A1QZR77HBJWtM/SgnRYBZ6G1JdtD09dXSRO5NRNT3OmK8kLcoP5IohTemHZ1rR+uaUaH0ulNDYzTlWl5YZ+oHUSDvXyGE8Anoo5sseRq+ox1txBL+nN2T24LLbA0AW0TcIlabmMerVCa/WZGu4r94/g9Po7NMRrmP/AAAAABJRU5ErkJggg=="}}}]);