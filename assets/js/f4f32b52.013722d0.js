(self.webpackChunkserenity_js_org=self.webpackChunkserenity_js_org||[]).push([[6257],{74995:(e,r,n)=>{e.exports={src:{srcSet:n.p+"assets/ideal-img/serenity-bdd-reporter.3817c9e.1600.png 1600w",images:[{path:n.p+"assets/ideal-img/serenity-bdd-reporter.3817c9e.1600.png",width:1600,height:738}],src:n.p+"assets/ideal-img/serenity-bdd-reporter.3817c9e.1600.png",toString:function(){return n.p+"assets/ideal-img/serenity-bdd-reporter.3817c9e.1600.png"},placeholder:void 0,width:1600,height:738},preSrc:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAFCAYAAAB8ZH1oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvklEQVR4nB3MTYrCMBQA4FzNC8wpPIQ4K+8guhDEe7gU1EVXLkSQUjpJ0/S1ef1LUtNi3qCrb/exVKQ/VVntuBQnoYpr3dUXADjnoA6A1QZR77HBJWtM/SgnRYBZ6G1JdtD09dXSRO5NRNT3OmK8kLcoP5IohTemHZ1rR+uaUaH0ulNDYzTlWl5YZ+oHUSDvXyGE8Anoo5sseRq+ox1txBL+nN2T24LLbA0AW0TcIlabmMerVCa/WZGu4r94/g9Po7NMRrmP/AAAAABJRU5ErkJggg=="}},35073:(e,r,n)=>{"use strict";n.r(r),n.d(r,{assets:()=>l,contentTitle:()=>d,default:()=>p,frontMatter:()=>c,metadata:()=>t,toc:()=>h});const t=JSON.parse('{"id":"reporting/serenity-bdd-reporter","title":"Serenity BDD Reporter","description":"Serenity reports are a powerful feature enabled by Serenity BDD. They aim not only to report test results, but also to document how features are tested, and what your application does.","source":"@site/src/docs/handbook/reporting/serenity-bdd-reporter.mdx","sourceDirName":"reporting","slug":"/reporting/serenity-bdd-reporter","permalink":"/handbook/reporting/serenity-bdd-reporter","draft":false,"unlisted":false,"editUrl":"https://github.com/serenity-js/serenity-js.org/tree/main/src/docs/handbook/reporting/serenity-bdd-reporter.mdx","tags":[],"version":"current","lastUpdatedAt":1734429046000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"docs","previous":{"title":"Console Reporter","permalink":"/handbook/reporting/console-reporter"},"next":{"title":"Photographer","permalink":"/handbook/reporting/photographer"}}');var i=n(74848),s=n(28453),o=n(49489),a=n(7227);const c={sidebar_position:3},d="Serenity BDD Reporter",l={},h=[{value:"Module overview",id:"module-overview",level:2},{value:"Examples and Project Templates",id:"examples-and-project-templates",level:3},{value:"Installation",id:"installation",level:2},{value:"Configuration overview",id:"configuration-overview",level:2},{value:"Configuring the test runner adapter",id:"configuring-the-test-runner-adapter",level:3},{value:"Configuring the Serenity BDD reporter",id:"configuring-the-serenity-bdd-reporter",level:3},{value:"Configuring the Artifact Archiver",id:"configuring-the-artifact-archiver",level:3},{value:"Configuring the test runner",id:"configuring-the-test-runner",level:2},{value:"Configuring Playwright Test",id:"configuring-playwright-test",level:3},{value:"Configuring Cucumber",id:"configuring-cucumber",level:3},{value:"Configuring Mocha",id:"configuring-mocha",level:3},{value:"Configuring Jasmine",id:"configuring-jasmine",level:3},{value:"Configuring WebdriverIO",id:"configuring-webdriverio",level:3},{value:"Configuring Protractor",id:"configuring-protractor",level:3},{value:"Generating Serenity BDD HTML reports",id:"generating-serenity-bdd-html-reports",level:2},{value:"Using the Serenity BDD CLI",id:"using-the-serenity-bdd-cli",level:3},{value:"Configuring package.json scripts",id:"configuring-packagejson-scripts",level:3},{value:"Configuring Serenity BDD CLI",id:"configuring-serenity-bdd-cli",level:3},{value:"Including Custom Fields",id:"including-custom-fields",level:4},{value:"Serenity BDD Best Practices",id:"serenity-bdd-best-practices",level:2},{value:"The requirements hierarchy",id:"the-requirements-hierarchy",level:3},{value:"Requirements hierarchy for Cucumber.js projects",id:"requirements-hierarchy-for-cucumberjs-projects",level:4},{value:"Requirements hierarchy for non-Cucumber.js projects",id:"requirements-hierarchy-for-non-cucumberjs-projects",level:4},{value:"Requirements hierarchy for web UI component testing projects",id:"requirements-hierarchy-for-web-ui-component-testing-projects",level:4},{value:"File naming conventions",id:"file-naming-conventions",level:3},{value:"Upgrade guide",id:"upgrade-guide",level:2},{value:"Upgrading to Serenity/JS 3 configuration syntax",id:"upgrading-to-serenityjs-3-configuration-syntax",level:3},{value:"Using the default Serenity BDD CLI",id:"using-the-default-serenity-bdd-cli",level:3},{value:"Using a custom Serenity BDD CLI",id:"using-a-custom-serenity-bdd-cli",level:2},{value:"Using a custom artifact registry",id:"using-a-custom-artifact-registry",level:3},{value:"Downloading through a proxy",id:"downloading-through-a-proxy",level:3},{value:"Using NPM config (Linux, macOS, Windows)",id:"using-npm-config-linux-macos-windows",level:4},{value:"Using environment variables on Linux or macOS",id:"using-environment-variables-on-linux-or-macos",level:4},{value:"Using environment variables on Windows",id:"using-environment-variables-on-windows",level:5},{value:"Using a specific User-Agent",id:"using-a-specific-user-agent",level:3},{value:"Ignoring SSL checks",id:"ignoring-ssl-checks",level:3},{value:"Integration architecture",id:"integration-architecture",level:2}];function u(e){const r={a:"a",admonition:"admonition",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",header:"header",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,s.R)(),...e.components},{Figure:t}=r;return t||function(e,r){throw new Error("Expected "+(r?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}("Figure",!0),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(r.header,{children:(0,i.jsx)(r.h1,{id:"serenity-bdd-reporter",children:"Serenity BDD Reporter"})}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.a,{href:"https://serenity-bdd.github.io/docs/reporting/the_serenity_reports",children:"Serenity reports"})," are a powerful feature enabled by Serenity BDD. They aim not only to ",(0,i.jsx)(r.strong,{children:"report test results"}),", but also to document ",(0,i.jsx)(r.strong,{children:"how features are tested"}),", and ",(0,i.jsx)(r.strong,{children:"what your application does"}),".\n",(0,i.jsx)(r.a,{href:"/api/serenity-bdd",children:(0,i.jsx)(r.code,{children:"@serenity-js/serenity-bdd"})})," module enables integration between Serenity/JS and the Serenity BDD reporting CLI."]}),"\n",(0,i.jsx)(r.p,{children:(0,i.jsx)(r.strong,{children:"You will learn:"})}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"How to install Serenity BDD"}),"\n",(0,i.jsx)(r.li,{children:"How to configure Serenity BDD reporter"}),"\n",(0,i.jsx)(r.li,{children:"How to generate Serenity BDD reports"}),"\n"]}),"\n",(0,i.jsx)(t,{caption:"Example reports produced by Serenity BDD",img:n(74995)}),"\n",(0,i.jsx)(r.h2,{id:"module-overview",children:"Module overview"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.a,{href:"/api/serenity-bdd",children:(0,i.jsx)(r.code,{children:"@serenity-js/serenity-bdd"})})," module:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsx)(r.li,{children:"Gathers information about your test execution,"}),"\n",(0,i.jsx)(r.li,{children:"Analyses your test directory structure to understand your requirements hierarchy,"}),"\n",(0,i.jsx)(r.li,{children:"Produces Serenity BDD-standard JSON reports,"}),"\n",(0,i.jsxs)(r.li,{children:["Provides and runs the ",(0,i.jsx)(r.a,{href:"https://github.com/serenity-bdd/serenity-core/tree/main/serenity-cli",children:"Serenity BDD CLI"})," - a Java program that turns the JSON reports into ",(0,i.jsx)(r.a,{href:"https://serenity-bdd.github.io/docs/reporting/the_serenity_reports",children:"HTML reports and living documentation"}),"."]}),"\n"]}),"\n",(0,i.jsx)(r.h3,{id:"examples-and-project-templates",children:"Examples and Project Templates"}),"\n",(0,i.jsxs)(r.p,{children:["If you'd like to dive straight into the code,\n",(0,i.jsx)(r.a,{href:"https://github.com/serenity-js",children:"Serenity/JS GitHub"})," provides:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"https://github.com/serenity-js?q=template&type=all&language=&sort=",children:"Serenity/JS project templates"}),", which are the easiest way to start with the framework"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js/tree/main/examples",children:"Examples and reference implementations"}),", each set up to produce a Serenity BDD report"]}),"\n"]}),"\n",(0,i.jsx)(r.admonition,{title:"Example Serenity BDD reports",type:"tip",children:(0,i.jsxs)(r.p,{children:["All the ",(0,i.jsx)(r.a,{href:"https://github.com/serenity-js?q=template&type=all&language=&sort=",children:"Serenity/JS project templates"}),"\nproduce Serenity BDD reports and publish them to their GitHub Pages. Have a look at the example ",(0,i.jsx)(r.a,{href:"https://serenity-js.github.io/serenity-js-cucumber-playwright-template/",children:"Serenity BDD report"}),",\ngenerated by the ",(0,i.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js-cucumber-playwright-template/",children:"Serenity/JS + Cucumber + Playwright project template"}),"."]})}),"\n",(0,i.jsx)(r.h2,{id:"installation",children:"Installation"}),"\n",(0,i.jsxs)(r.p,{children:["First, install and configure a ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/",children:"Serenity/JS test runner adapter"})," for your test runner of choice."]}),"\n",(0,i.jsxs)(r.p,{children:["Next, add the ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd",children:(0,i.jsx)(r.code,{children:"@serenity-js/serenity-bdd"})})," module to your project by running the following command in your computer terminal:"]}),"\n",(0,i.jsxs)(o.A,{groupId:"npm2yarn",children:[(0,i.jsx)(a.A,{value:"npm",children:(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sh",children:"npm install --save-dev @serenity-js/serenity-bdd\n"})})}),(0,i.jsx)(a.A,{value:"yarn",label:"Yarn",children:(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sh",children:"yarn add --dev @serenity-js/serenity-bdd\n"})})})]}),"\n",(0,i.jsxs)(r.p,{children:["If you're starting a new project or need a reference implementation,\nconsider using one of the ",(0,i.jsx)(r.a,{href:"/handbook/getting-started/project-templates/",children:"Serenity/JS Project Templates"}),"\nas they all come with pre-configured test runner adapters and built-in support for Serenity BDD reporting."]}),"\n",(0,i.jsx)(r.admonition,{title:"Simplified installation",type:"tip",children:(0,i.jsxs)(r.p,{children:["As of ",(0,i.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js/blob/main/CHANGELOG.md#3300-2024-11-19",children:"Serenity/JS 3.30.0"}),", ",(0,i.jsx)(r.code,{children:"@serenity-js/serenity-bdd"})," module ships with the Serenity BDD CLI .jar file, so you no longer need to download it separately."]})}),"\n",(0,i.jsx)(r.h2,{id:"configuration-overview",children:"Configuration overview"}),"\n",(0,i.jsx)(r.p,{children:"To make your project produce Serenity BDD reports, you need to:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["Use a ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/",children:"Serenity/JS test runner adapter"})," to emit ",(0,i.jsx)(r.a,{href:"/handbook/reporting/domain-events",children:"domain events"})," that describe what happened during test execution,"]}),"\n",(0,i.jsxs)(r.li,{children:["Use the ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd/class/SerenityBDDReporter",children:(0,i.jsx)(r.code,{children:"SerenityBDDReporter"})})," ",(0,i.jsx)(r.a,{href:"/api/core/interface/StageCrewMember/",children:'"stage crew member"'})," to translate those events into Serenity BDD-standard JSON reports,"]}),"\n",(0,i.jsxs)(r.li,{children:["Use the ",(0,i.jsx)(r.a,{href:"/handbook/reporting/artifact-archiver",children:(0,i.jsx)(r.code,{children:"ArtifactArchiver"})})," to store the JSON reports to disk,"]}),"\n",(0,i.jsx)(r.li,{children:"Run the Serenity BDD CLI when the test run completes."}),"\n"]}),"\n",(0,i.jsx)(r.p,{children:"In this section, we'll show you how to configure the Serenity BDD reporter for the most popular test runners supported by Serenity/JS."}),"\n",(0,i.jsx)(r.h3,{id:"configuring-the-test-runner-adapter",children:"Configuring the test runner adapter"}),"\n",(0,i.jsxs)(r.p,{children:["Serenity/JS needs to know where your test scenarios are located to analyse your ",(0,i.jsx)(r.a,{href:"/handbook/reporting/serenity-bdd-reporter/#the-requirements-hierarchy",children:"requirements hierarchy"}),".\nThe framework automatically detects conventional locations, such as ",(0,i.jsx)(r.code,{children:"features"}),",  ",(0,i.jsx)(r.code,{children:"specs"}),", ",(0,i.jsx)(r.code,{children:"spec"}),", ",(0,i.jsx)(r.code,{children:"tests"}),", ",(0,i.jsx)(r.code,{children:"test"})," or ",(0,i.jsx)(r.code,{children:"src"})," subdirectories of your project.\nIf your project uses a different directory structure, you should configure your Serenity/JS test runner adapter\nto point to your desired location by specifying the ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd/interface/SerenityBDDReporterConfig/#Properties",children:(0,i.jsx)(r.code,{children:"specDirectory"})})," property."]}),"\n",(0,i.jsxs)(r.p,{children:["Consult the ",(0,i.jsx)(r.a,{href:"#serenity-bdd-best-practices",children:"Serenity BDD Best Practices"})," section to learn more about how your project directory structure can help you produce better test reports."]}),"\n",(0,i.jsx)(r.h3,{id:"configuring-the-serenity-bdd-reporter",children:"Configuring the Serenity BDD reporter"}),"\n",(0,i.jsxs)(r.p,{children:["To produce the Serenity BDD-standard JSON reports, your test runner adapter should use the ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd/class/SerenityBDDReporter",children:(0,i.jsx)(r.code,{children:"SerenityBDDReporter"})})," stage crew member.\nWhile the different test runners might have a slightly different configuration syntax,\nthe ",(0,i.jsx)(r.code,{children:"SerenityBDDReporter"})," itself is configured in the same way across all of them."]}),"\n",(0,i.jsxs)(r.p,{children:["For example, to use the ",(0,i.jsx)(r.code,{children:"SerenityBDDReporter"})," with default settings, you can configure it as follows:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",children:"// ...\n    crew: [\n      // highlight-start\n      '@serenity-js/serenity-bdd',\n      // highlight-end\n    ]\n// ...\n"})}),"\n",(0,i.jsxs)(r.p,{children:["You can customise the behaviour of the ",(0,i.jsx)(r.code,{children:"SerenityBDDReporter"})," by passing the ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd/interface/SerenityBDDReporterConfig/",children:(0,i.jsx)(r.code,{children:"SerenityBDDReporterConfig"})})," configuration object:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",children:"// ...\n    crew: [\n      // highlight-start\n      [ '@serenity-js/serenity-bdd', {\n          specDirectory: './spec',\n          reporter: {\n              includeAbilityDetails: true,\n          },\n      } ],\n      // highlight-end\n    ]\n// ...\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Check out the next section to learn ",(0,i.jsxs)(r.a,{href:"/handbook/reporting/serenity-bdd-reporter/#configuring-the-test-runner",children:["how to configure the ",(0,i.jsx)(r.code,{children:"SerenityBDDReporter"})]}),"\nfor your test runner of choice."]}),"\n",(0,i.jsx)(r.h3,{id:"configuring-the-artifact-archiver",children:"Configuring the Artifact Archiver"}),"\n",(0,i.jsxs)(r.p,{children:["Lastly, to store the Serenity BDD-standard JSON reports to disk, your project needs to use the ",(0,i.jsx)(r.a,{href:"/handbook/reporting/artifact-archiver",children:(0,i.jsx)(r.code,{children:"ArtifactArchiver"})}),", configured with your preferred output directory."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",children:"// ...\n    crew: [\n      [ '@serenity-js/serenity-bdd', {\n          specDirectory: './spec',\n          reporter: {\n              includeAbilityDetails: true,\n          },\n      } ],\n      // highlight-start\n      [ '@serenity-js/core:ArtifactArchiver', {\n          outputDirectory: './target/site/serenity'\n      } ],\n      // highlight-end\n    ]\n// ...\n"})}),"\n",(0,i.jsx)(r.h2,{id:"configuring-the-test-runner",children:"Configuring the test runner"}),"\n",(0,i.jsx)(r.h3,{id:"configuring-playwright-test",children:"Configuring Playwright Test"}),"\n",(0,i.jsxs)(r.p,{children:["Playwright Test is configured using a file called ",(0,i.jsx)(r.a,{href:"https://playwright.dev/docs/test-configuration",children:(0,i.jsx)(r.code,{children:"playwright.config.ts"})})," that defines the ",(0,i.jsx)(r.a,{href:"/api/playwright-test/#PlaywrightTestConfig",children:(0,i.jsx)(r.code,{children:"PlaywrightTestConfig"})}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["You should register ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/playwright-test/",children:"Serenity/JS test runner adapter for Playwright Test"})," as a Playwright Test ",(0,i.jsx)(r.a,{href:"https://playwright.dev/docs/test-reporters",children:(0,i.jsx)(r.code,{children:"reporter"})}),"\nand configure it to use the ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd/class/SerenityBDDReporter",children:(0,i.jsx)(r.code,{children:"SerenityBDDReporter"})})," and ",(0,i.jsx)(r.a,{href:"/handbook/reporting/artifact-archiver",children:(0,i.jsx)(r.code,{children:"ArtifactArchiver"})})," ",(0,i.jsx)(r.a,{href:"/api/core/interface/StageCrewMember/",children:"stage crew members"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["If you specify the optional ",(0,i.jsx)(r.a,{href:"https://playwright.dev/docs/api/class-testconfig#test-config-test-dir",children:(0,i.jsx)(r.code,{children:"testDir"})})," property,\nSerenity/JS adapter will interpret it as the root directory of your requirements hierarchy.\nIf you choose not to specify it, Serenity/JS will do its best to ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd/interface/SerenityBDDReporterConfig/#specDirectory",children:"automatically detect the requirements hierarchy"}),"."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",metastring:'title="playwright.config.ts"',children:"import type { PlaywrightTestConfig } from '@serenity-js/playwright-test'\n\nconst config: PlaywrightTestConfig = {\n    testDir: './spec', // optional, indicates the root directory of your requirements hierarchy\n\n    reporter: [\n        [ '@serenity-js/playwright-test', {\n            crew: [\n                [ '@serenity-js/serenity-bdd', {\n                    specDirectory: './spec'\n                } ],\n                [ '@serenity-js/core:ArtifactArchiver', {\n                    outputDirectory: './target/site/serenity'\n                } ],\n            ]\n        }]\n    ],\n\n    // Other configuration omitted for brevity\n    // For details, see https://playwright.dev/docs/test-configuration\n}\n\nexport default config\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Learn more about using ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/playwright-test/",children:"Serenity/JS with Playwright Test"}),"."]}),"\n",(0,i.jsx)(r.h3,{id:"configuring-cucumber",children:"Configuring Cucumber"}),"\n",(0,i.jsxs)(r.p,{children:["Cucumber.js is configured using either the ",(0,i.jsx)(r.a,{href:"https://github.com/cucumber/cucumber-js/blob/main/docs/cli.md",children:"command line arguments"}),", or a configuration file called ",(0,i.jsx)(r.code,{children:"cucumber.js"})," that defines ",(0,i.jsx)(r.a,{href:"https://github.com/cucumber/cucumber-js/blob/main/docs/profiles.md",children:"Cucumber profiles"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["When using Cucumber.js directly, that is without an additional test runner such as WebdriverIO or Protractor, you should register ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/cucumber/",children:"Serenity/JS test runner adapter for Cucumber.js"})," as a Cucumber.js ",(0,i.jsx)(r.a,{href:"https://github.com/cucumber/cucumber-js/blob/main/docs/formatters.md",children:(0,i.jsx)(r.code,{children:"formatter"})}),".\nIf your Cucumber ",(0,i.jsx)(r.code,{children:".feature"})," files are stored in a directory other than ",(0,i.jsx)(r.code,{children:"features"}),", you should configure the ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd/interface/SerenityBDDReporterConfig/#specDirectory",children:(0,i.jsx)(r.code,{children:"specDirectory"})})," property\nusing ",(0,i.jsx)(r.a,{href:"https://github.com/cucumber/cucumber-js/blob/main/docs/formatters.md#options",children:(0,i.jsx)(r.code,{children:"formatOptions"})}),"."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-js",metastring:'title="cucumber.js"',children:"module.exports = {\n  default: {\n    format: ['@serenity-js/cucumber'],\n    formatOptions: {\n        specDirectory: './features'\n    },\n    requireModule: ['ts-node/register'],\n    require: [\n        './features/**/*.steps.ts',\n        './features/support/*.hooks.ts',\n    ]\n  }\n}\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Note that Serenity/JS ",(0,i.jsx)(r.a,{href:"/api/core/interface/StageCrewMember/",children:"stage crew members"})," need to be configured programmatically\nby calling the Serenity/JS ",(0,i.jsx)(r.a,{href:"/api/core/function/configure/",children:(0,i.jsx)(r.code,{children:"configure"})})," function in a Cucumber.js\n",(0,i.jsxs)(r.a,{href:"https://github.com/cucumber/cucumber-js/blob/main/docs/support_files/hooks.md#beforeall--afterall",children:[(0,i.jsx)(r.code,{children:"BeforeAll"})," hook"]}),"."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",metastring:'title="features/support/hooks.ts"',children:"import { BeforeAll } from '@cucumber/cucumber'\nimport { configure } from '@serenity-js/core'\nimport * as path from 'path'\n\nBeforeAll(() => {\n\n    // Configure Serenity/JS\n    configure({\n        crew: [\n            [ '@serenity-js/serenity-bdd', {\n                // optional, requirements hierarchy root\n                specDirectory: path.resolve(__dirname, '..')\n            } ],\n            [ '@serenity-js/core:ArtifactArchiver', {\n                outputDirectory: path.resolve(__dirname, '../../target/site/serenity')\n            } ],\n            // ... any other reporting services\n        ],\n    })\n})\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Learn more about using ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/cucumber/",children:"Serenity/JS with Cucumber.js"}),"."]}),"\n",(0,i.jsx)(r.h3,{id:"configuring-mocha",children:"Configuring Mocha"}),"\n",(0,i.jsxs)(r.p,{children:["Mocha is configured using either the ",(0,i.jsx)(r.a,{href:"https://mochajs.org/#command-line-usage",children:"command line arguments"}),",\nor a ",(0,i.jsx)(r.a,{href:"https://mochajs.org/#configuring-mocha-nodejs",children:"configuration file"}),", such as ",(0,i.jsx)(r.code,{children:".mocharc.yaml"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["When using Mocha directly, that is without an additional test runner such as WebdriverIO or Protractor, you should register ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/mocha/",children:"Serenity/JS test runner adapter for Mocha"})," as a Mocha ",(0,i.jsx)(r.a,{href:"https://mochajs.org/#reporters",children:(0,i.jsx)(r.code,{children:"reporter"})}),".\nIf your Mocha spec files are stored in a directory other than ",(0,i.jsx)(r.code,{children:"specs"}),", ",(0,i.jsx)(r.code,{children:"spec"}),", ",(0,i.jsx)(r.code,{children:"tests"}),", or ",(0,i.jsx)(r.code,{children:"test"}),", you should configure the ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd/interface/SerenityBDDReporterConfig/#specDirectory",children:(0,i.jsx)(r.code,{children:"specDirectory"})})," property\nusing ",(0,i.jsx)(r.a,{href:"https://mochajs.org/#-reporter-option-option-o-option-reporter-options-option",children:(0,i.jsx)(r.code,{children:"reporter-options"})}),"."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-yaml",metastring:'title=".mocharc.yml"',children:"reporter: '@serenity-js/mocha'\nreporter-options: 'specDirectory=./specs'\nrequire:\n  - ts-node/register\n  - spec/support/serenity.config.ts\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Note that Serenity/JS ",(0,i.jsx)(r.a,{href:"/api/core/interface/StageCrewMember/",children:"stage crew members"})," need to be configured programmatically\nby calling the Serenity/JS ",(0,i.jsx)(r.a,{href:"/api/core/function/configure/",children:(0,i.jsx)(r.code,{children:"configure"})})," function in a Mocha support file, such as ",(0,i.jsx)(r.code,{children:"spec/support/serenity.config.ts"}),"."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",metastring:'title="spec/support/serenity.config.ts"',children:"import { configure } from '@serenity-js/core'\nimport * as path from 'path'\n\nconfigure({\n    crew: [\n        [ '@serenity-js/serenity-bdd', {\n            // optional, requirements hierarchy root\n            specDirectory: path.resolve(__dirname, '..')\n        } ],\n        [ '@serenity-js/core:ArtifactArchiver', {\n            outputDirectory: path.resolve(__dirname, '../../target/site/serenity')\n        } ],\n        // ... any other reporting services\n    ],\n})\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Learn more about using ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/mocha/",children:"Serenity/JS with Mocha"}),"."]}),"\n",(0,i.jsx)(r.h3,{id:"configuring-jasmine",children:"Configuring Jasmine"}),"\n",(0,i.jsxs)(r.p,{children:["While Jasmine supports configuration via a ",(0,i.jsx)(r.a,{href:"https://jasmine.github.io/setup/nodejs.html#configuration",children:"configuration file"})," located at ",(0,i.jsx)(r.code,{children:"spec/support/jasmine.json"}),",\nany reporters need to be configured using either the ",(0,i.jsx)(r.a,{href:"https://jasmine.github.io/setup/nodejs.html#--reporters",children:"command line arguments"}),"\nor programmatically, by calling the ",(0,i.jsx)(r.a,{href:"https://jasmine.github.io/setup/nodejs.html#reporters",children:(0,i.jsx)(r.code,{children:"addReporter"})})," method of the Jasmine environment in a helper file."]}),"\n",(0,i.jsxs)(r.p,{children:["If your Jasmine spec files are stored in a standard location, such as ",(0,i.jsx)(r.code,{children:"specs"}),", ",(0,i.jsx)(r.code,{children:"spec"}),", ",(0,i.jsx)(r.code,{children:"tests"}),", or ",(0,i.jsx)(r.code,{children:"test"})," subdirectory you don't need to configure anything\nand can simply invoke the ",(0,i.jsx)(r.code,{children:"jasmine"})," command line tool with the ",(0,i.jsx)(r.code,{children:"--reporter"})," parameter:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sh",children:"jasmine --reporter='@serenity-js/jasmine'\n"})}),"\n",(0,i.jsxs)(r.p,{children:["If your spec files are stored in a non-standard location, you should register the Serenity/JS test runner adapter programmatically in a Jasmine helper file, such as ",(0,i.jsx)(r.code,{children:'spec/helpers/serenity.reporter.ts"'}),":\nand configure the ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd/interface/SerenityBDDReporterConfig/#specDirectory",children:(0,i.jsx)(r.code,{children:"specDirectory"})})," property to point at your desired location:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",metastring:'title="spec/helpers/serenity.reporter.ts"',children:"import serenityReporterForJasmine from '@serenity-js/jasmine'\nimport * as path from 'path'\n\njasmine.getEnv().addReporter(serenityReporterForJasmine({\n    specDirectory: path.resolve(__dirname, '../')\n}))\n"})}),"\n",(0,i.jsxs)(r.p,{children:["When using Jasmine directly, that is without an additional test runner such as WebdriverIO or Protractor,\nSerenity/JS ",(0,i.jsx)(r.a,{href:"/api/core/interface/StageCrewMember/",children:"stage crew members"})," need to be configured programmatically\nby calling the Serenity/JS ",(0,i.jsx)(r.a,{href:"/api/core/function/configure/",children:(0,i.jsx)(r.code,{children:"configure"})})," function in a Jasmine helper file."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-ts",metastring:'title="spec/helpers/serenity.config.ts"',children:"import { configure } from '@serenity-js/core'\nimport * as path from 'path'\n\nconfigure({\n    crew: [\n        [ '@serenity-js/serenity-bdd', {\n            // optional, requirements hierarchy root\n            specDirectory: path.resolve(__dirname, '..')\n        } ],\n        [ '@serenity-js/core:ArtifactArchiver', {\n            outputDirectory: path.resolve(__dirname, '../../target/site/serenity')\n        } ],\n        // ... any other reporting services\n    ],\n})\n"})}),"\n",(0,i.jsxs)(r.p,{children:["To make Jasmine load the helpers, create a ",(0,i.jsx)(r.code,{children:"spec/support/jasmine.json"})," file and specify the location of the helper files."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",metastring:'title="spec/supportjasmine.json"',children:'{\n  "spec_files": [\n    "**/*.spec.ts"\n  ],\n  "helpers": [\n    "helpers/**/*.ts"\n  ],\n  "requires": [\n    "ts-node/register"\n  ]\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:["Learn more about using ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/jasmine/",children:"Serenity/JS with Jasmine"}),"."]}),"\n",(0,i.jsx)(r.h3,{id:"configuring-webdriverio",children:"Configuring WebdriverIO"}),"\n",(0,i.jsxs)(r.p,{children:["WebdriverIO is configured using a file called ",(0,i.jsx)(r.a,{href:"https://webdriver.io/docs/configurationfile/",children:(0,i.jsx)(r.code,{children:"wdio.conf.ts"})})," that defines the ",(0,i.jsx)(r.a,{href:"/api/webdriverio/#WebdriverIOConfig",children:(0,i.jsx)(r.code,{children:"WebdriverIOConfig"})}),".\nYou should register ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/webdriverio/",children:"Serenity/JS test runner adapter for WebdriverIO"})," as a WebdriverIO ",(0,i.jsx)(r.a,{href:"https://webdriver.io/docs/frameworks/#using-serenityjs",children:(0,i.jsx)(r.code,{children:"framework"})}),",\nas it integrates WebdriverIO with a lower-level ",(0,i.jsx)(r.code,{children:"runner"}),", such as ",(0,i.jsx)(r.code,{children:"cucumber"}),", ",(0,i.jsx)(r.code,{children:"jasmine"})," or ",(0,i.jsx)(r.code,{children:"mocha"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["Serenity/JS adapter for WebdriverIO will take care of registering the Serenity/JS adapter for the lower-level runner too, so you don't need to do it yourself.\nAdditionally, it will allow you to pass options to the lower-level runner via ",(0,i.jsx)(r.code,{children:"cucumberOpts"}),", ",(0,i.jsx)(r.code,{children:"jasmineOpts"}),", or ",(0,i.jsx)(r.code,{children:"mochaOpts"})," properties of the ",(0,i.jsx)(r.code,{children:"WebdriverIOConfig"})," instead of the separate files\nthose runners normally require."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",metastring:'title="wdio.conf.ts"',children:"import { WebdriverIOConfig } from '@serenity-js/webdriverio'\n\nexport const config: WebdriverIOConfig = {\n\n    // Tell WebdriverIO to use Serenity/JS framework\n    framework: '@serenity-js/webdriverio',\n\n    // Serenity/JS configuration\n    serenity: {\n        // Configure Serenity/JS to use the appropriate adapter for your test runner\n        runner: 'cucumber',\n        // runner: 'mocha',\n        // runner: 'jasmine',\n\n        // Register Serenity/JS reporting services, a.k.a. the \"stage crew\"\n        crew: [\n            // Optional, produce Serenity BDD reports and living documentation (HTML)\n            [ '@serenity-js/serenity-bdd', { specDirectory: './specs' } ],\n            [ '@serenity-js/core:ArtifactArchiver', { outputDirectory: 'target/site/serenity' } ],\n        ]\n    },\n\n    // Configure your Cucumber runner\n    cucumberOpts: {\n        formatOptions: {\n            specDirectory: './features'  // optional, requirements hierarchy root\n        },\n        // ...\n    },\n\n\n    // ... or Jasmine runner\n    // jasmineOpts: {\n    //     specDir: './specs'            // optional, requirements hierarchy root\n    // },\n\n    // ... or Mocha runner\n    // mochaOpts: {\n    //     reporterOptions: {\n    //         specDirectory: './specs'  // optional, requirements hierarchy root\n    //     },\n    // },\n\n    runner: 'local',\n\n    // Any other WebdriverIO configuration\n}\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Learn more about using ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/webdriverio",children:"Serenity/JS with WebdriverIO"}),"."]}),"\n",(0,i.jsx)(r.h3,{id:"configuring-protractor",children:"Configuring Protractor"}),"\n",(0,i.jsxs)(r.p,{children:["Protractor is configured using a file called ",(0,i.jsx)(r.a,{href:"https://www.protractortest.org/#/api-overview#example-config-file",children:(0,i.jsx)(r.code,{children:"protractor.conf.js"})})," that defines the ",(0,i.jsxs)(r.a,{href:"/api/protractor-adapter/interface/Config/",children:["Protractor ",(0,i.jsx)(r.code,{children:"Config"})]}),".\nYou should register ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/protractor/",children:"Serenity/JS test runner adapter for Protractor"})," as a Protractor ",(0,i.jsx)(r.a,{href:"https://www.protractortest.org/#/frameworks#using-serenity-js",children:(0,i.jsx)(r.code,{children:"framework"})}),",\nas it integrates Protractor with a lower-level ",(0,i.jsx)(r.code,{children:"runner"}),", such as ",(0,i.jsx)(r.code,{children:"cucumber"}),", ",(0,i.jsx)(r.code,{children:"jasmine"})," or ",(0,i.jsx)(r.code,{children:"mocha"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["Serenity/JS adapter for Protractor will take care of registering the Serenity/JS adapter for the lower-level runner too, so you don't need to do it yourself.\nAdditionally, it will allow you to pass options to the lower-level runner via ",(0,i.jsx)(r.code,{children:"cucumberOpts"}),", ",(0,i.jsx)(r.code,{children:"jasmineOpts"}),", or ",(0,i.jsx)(r.code,{children:"mochaOpts"})," properties of the Protractor config instead of the separate files\nthose runners normally require."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-js",metastring:'title="protractor.conf.js"',children:"exports.config = {\n\n    // Tell Protractor to use Serenity/JS framework\n    framework:      'custom',\n    frameworkPath:  require.resolve('@serenity-js/protractor/adapter'),\n\n    // Serenity/JS configuration\n    serenity: {\n        // Configure Serenity/JS to use the appropriate adapter for your test runner\n        runner: 'cucumber',\n        // runner: 'mocha',\n        // runner: 'jasmine',\n\n        // Register Serenity/JS reporting services, a.k.a. the \"stage crew\"\n        crew: [\n            // Optional, produce Serenity BDD reports and living documentation (HTML)\n            [ '@serenity-js/serenity-bdd', { specDirectory: './specs' } ],\n            [ '@serenity-js/core:ArtifactArchiver', { outputDirectory: 'target/site/serenity' } ],\n        ]\n    },\n\n    // Configure your Cucumber runner\n    cucumberOpts: {\n        formatOptions: {\n            // optional, requirements hierarchy root\n            specDirectory: './features'\n        },\n        // ...\n    },\n\n\n    // ... or Jasmine runner\n    // jasmineNodeOpts: {\n    //     specDir: './specs'           // optional, requirements hierarchy root\n    // },\n\n    // ... or Mocha runner\n    // mochaOpts: {\n    //     reporterOptions: {\n    //         specDirectory: './specs' // optional, requirements hierarchy root\n    //     },\n    // },\n\n    runner: 'local',\n\n    // Any other WebdriverIO configuration\n}\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Learn more about using ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/protractor",children:"Serenity/JS with WebdriverIO"}),"."]}),"\n",(0,i.jsx)(r.h2,{id:"generating-serenity-bdd-html-reports",children:"Generating Serenity BDD HTML reports"}),"\n",(0,i.jsxs)(r.p,{children:["To create Serenity BDD HTML reports from the JSON reports generated by the ",(0,i.jsx)(r.code,{children:"SerenityBDDReporter"}),",\nyou need to use the ",(0,i.jsx)(r.a,{href:"https://github.com/serenity-bdd/serenity-core",children:"Serenity BDD reporting CLI"}),"."]}),"\n",(0,i.jsxs)(r.p,{children:["The Serenity BDD CLI is a Java program provided as an executable ",(0,i.jsx)(r.code,{children:".jar"})," file.\nStarting with ",(0,i.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js/blob/main/CHANGELOG.md#3300-2024-11-19",children:"version 3.30.0"}),"\nof Serenity/JS, this CLI is included in the ",(0,i.jsx)(r.code,{children:"@serenity-js/serenity-bdd"})," module.\nAlternatively, you can download the latest version from Maven Central if you want to experiment with the newest updates."]}),"\n",(0,i.jsx)(r.h3,{id:"using-the-serenity-bdd-cli",children:"Using the Serenity BDD CLI"}),"\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.code,{children:"@serenity-js/serenity-bdd"})," module includes a command line tool called ",(0,i.jsx)(r.code,{children:"serenity-bdd"}),", where:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"serenity-bdd run"})," - acts as a shortcut to run the Serenity BDD CLI and generate the Serenity BDD HTML reports using default parameters"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.code,{children:"serenity-bdd update"})," - downloads the Serenity BDD CLI ",(0,i.jsx)(r.code,{children:"jar"})," file and caches it locally in your project workspace for future use"]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["To learn more about ",(0,i.jsx)(r.code,{children:"serenity-bdd"}),", run the following command in your computer terminal:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sh",children:"npx serenity-bdd --help\n"})}),"\n",(0,i.jsxs)(r.p,{children:["To leran more about the ",(0,i.jsx)(r.code,{children:"run"})," command and how to change the defaults, run:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-sh",children:"npx serenity-bdd --help run\n"})}),"\n",(0,i.jsx)(r.h3,{id:"configuring-packagejson-scripts",children:"Configuring package.json scripts"}),"\n",(0,i.jsx)(r.p,{children:"To produce Serenity BDD reports, you need to:"}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"#configuring-the-test-runner",children:"configure your test runner"})," to use the ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd/class/SerenityBDDReporter",children:(0,i.jsx)(r.code,{children:"SerenityBDDReporter"})})," and produce the intermediate Serenity BDD ",(0,i.jsx)(r.code,{children:".json"})," reports"]}),"\n",(0,i.jsxs)(r.li,{children:["call ",(0,i.jsx)(r.code,{children:"serenity-bdd run"})," when the test run completes to generate the aggregated HTML report"]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["The pattern used by all the ",(0,i.jsx)(r.a,{href:"/handbook/getting-started/project-templates/",children:"Serenity/JS Project Templates"})," relies\non using two additional Node modules:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"https://www.npmjs.com/package/rimraf",children:(0,i.jsx)(r.code,{children:"rimraf"})})," as a convenience method to remove any test reports left over from the previous run"]}),"\n",(0,i.jsxs)(r.li,{children:[(0,i.jsx)(r.a,{href:"https://www.npmjs.com/package/npm-failsafe",children:(0,i.jsx)(r.code,{children:"npm-failsafe"})})," to run the reporting process even if the test suite itself has failed (which is precisely when you need test reports the most...)."]}),"\n"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "scripts": {\n    "clean": "rimraf target",\n    "test": "failsafe clean test:execute test:report",\n    "test:execute": "cucumber-js",\n    "test:report": "serenity-bdd run"\n  }\n}\n'})}),"\n",(0,i.jsxs)(r.p,{children:["Note that in the above code sample, you should configure ",(0,i.jsx)(r.code,{children:"test:execute"})," to invoke your ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/",children:"test runner"})," of choice."]}),"\n",(0,i.jsx)(r.h3,{id:"configuring-serenity-bdd-cli",children:"Configuring Serenity BDD CLI"}),"\n",(0,i.jsxs)(r.p,{children:["To configure the ",(0,i.jsx)(r.a,{href:"https://github.com/serenity-bdd/serenity-core",children:"Serenity BDD reporting CLI"}),",\nplace a file called ",(0,i.jsx)(r.a,{href:"https://serenity-bdd.github.io/docs/reference/serenity-properties",children:(0,i.jsx)(r.code,{children:"serenity.properties"})}),"\nin your project root directory. For example:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-properties",metastring:'title="serenity.properties"',children:"serenity.project.name=My awesome project\n"})}),"\n",(0,i.jsx)(r.admonition,{type:"tip",children:(0,i.jsx)(r.p,{children:"Please note that Serenity BDD reporting CLI considers only those properties that are related to producing test reports."})}),"\n",(0,i.jsx)(r.h4,{id:"including-custom-fields",children:"Including Custom Fields"}),"\n",(0,i.jsx)(r.p,{children:"You can add custom fields to the overview page of the report."}),"\n",(0,i.jsxs)(r.p,{children:["See the ",(0,i.jsx)(r.a,{href:"https://serenity-bdd.github.io/docs/reporting/reports_custom_info",children:"Custom Fields in Reports"})," section for more details."]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-properties",metastring:'title="serenity.properties"',children:"report.customfields.ApplicationVersion = 1.2.3\nreport.customfields.User = ${USER}\nreport.customfields.BuildNumber = ${POTENTIALLY_MISSING_VARIABLE:-Fallback value}\n"})}),"\n",(0,i.jsx)(r.admonition,{type:"tip",children:(0,i.jsx)(r.p,{children:"Ensure any environment variables you want to use are exported; otherwise, they won't be picked up."})}),"\n",(0,i.jsx)(r.h2,{id:"serenity-bdd-best-practices",children:"Serenity BDD Best Practices"}),"\n",(0,i.jsxs)(r.p,{children:["While Serenity BDD generates great test reports out of the box,\nby following a few simple best practices you can turn them into proper ",(0,i.jsx)(r.a,{href:"https://serenity-bdd.github.io/docs/reporting/living_documentation",children:"living documentation"}),"\nfor your product."]}),"\n",(0,i.jsx)(r.p,{children:"In this section, we'll focus on best practices particularly relevant to Serenity/JS users."}),"\n",(0,i.jsx)(r.h3,{id:"the-requirements-hierarchy",children:"The requirements hierarchy"}),"\n",(0,i.jsxs)(r.p,{children:['Organising your specs in a directory hierarchy is a great way to make them easier to navigate and understand.\nIt also allows Serenity to organise your test reports in a similar way and offer insight into what requirements\nwere verified at several levels of detail.\nThis idea is called the "requirements hierarchy" and you can learn more about it\nin the ',(0,i.jsx)(r.a,{href:"https://serenity-bdd.github.io/docs/reporting/living_documentation#the-requirements-hierarchy",children:"Serenity BDD documentation"}),"."]}),"\n",(0,i.jsx)(r.h4,{id:"requirements-hierarchy-for-cucumberjs-projects",children:"Requirements hierarchy for Cucumber.js projects"}),"\n",(0,i.jsxs)(r.p,{children:["If you're working with Cucumber.js, the root directory of the requirements hierarchy is typically called ",(0,i.jsx)(r.code,{children:"features"}),"\nand typically contains a flat list of ",(0,i.jsx)(r.code,{children:".feature"})," files, each representing a feature of your system:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"features\n|- authentication.feature\n|- shopping_cart.feature\n|- checkout.feature\n|- shipping.feature\n...\n"})}),"\n",(0,i.jsxs)(r.p,{children:["While Cucumber.js doesn't recognise or enforce any particular directory structure, Serenity BDD recognises directories\nas representing ",(0,i.jsx)(r.a,{href:"https://serenity-bdd.github.io/docs/reporting/living_documentation#common-requirements-structures",children:"various levels of the requirements hierarchy"}),".\nAnd so, instead of storing all the ",(0,i.jsx)(r.code,{children:".feature"})," files in a single directory, you can organise them in a directory hierarchy, where each directory\nrepresents a ",(0,i.jsx)(r.a,{href:"https://serenity-bdd.github.io/docs/reporting/living_documentation#goals-capabilities-and-features",children:"business capability"})," of your system:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"features\n|- authentication\n|  |- google_sign_in.feature\n|  |- microsoft_sign_in.feature\n|  |- custom_single_sign-on.feature\n|  \\- README.md\n|\n|- shopping_cart\n|  |- item_management.feature\n|  |- save_for_later.feature\n|  |- did_you_forget_something.feature\n|  \\- README.md\n|\n|- checkout\n...\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Note that in this structure, each directory contains a ",(0,i.jsx)(r.code,{children:"README.md"})," file, which is a great place to document the business capability,\nlint to any external documentation, architectural diagrams, and so on. Serenity BDD parses such ",(0,i.jsx)(r.code,{children:"README.md"})," files and includes their contents\nin the generated documentation."]}),"\n",(0,i.jsx)(r.p,{children:"For more complex systems, you can also nest the business capability directories further to group related capabilities into themes,\nfor example:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"features\n|- security\n|  |- authentication\n|  |  |- google_sign_in.feature\n|  |  |- microsoft_sign_in.feature\n|  |  |- custom_single_sign-on.feature\n|  |  \\- README.md\n|  |\n|  |- audit_trail\n|     |- monthly_report.feature\n|     |- unexpected_user_activity_alerting.feature\n|     \\- README.md\n"})}),"\n",(0,i.jsx)(r.h4,{id:"requirements-hierarchy-for-non-cucumberjs-projects",children:"Requirements hierarchy for non-Cucumber.js projects"}),"\n",(0,i.jsxs)(r.p,{children:["If you're using any other ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/",children:"supported test runner"}),", Serenity BDD will still recognise the directory structure\nas the requirements hierarchy as long as you:"]}),"\n",(0,i.jsxs)(r.ul,{children:["\n",(0,i.jsxs)(r.li,{children:["name the root directory of your requirements hierarchy ",(0,i.jsx)(r.code,{children:"spec"}),", ",(0,i.jsx)(r.code,{children:"specs"}),", ",(0,i.jsx)(r.code,{children:"tests"}),", ",(0,i.jsx)(r.code,{children:"test"})," or ",(0,i.jsx)(r.code,{children:"features"}),"\n(or configure the ",(0,i.jsx)(r.a,{href:"#configuring-the-test-runner",children:(0,i.jsx)(r.code,{children:"specDirectory"})})," property of the ",(0,i.jsx)(r.code,{children:"SerenityBDDReporter"}),"\nand the ",(0,i.jsx)(r.code,{children:"--features"})," parameter of ",(0,i.jsx)(r.code,{children:"serenity-bdd run"})," command with a different value)"]}),"\n",(0,i.jsxs)(r.li,{children:["give your spec files a suffix recognised by Serenity BDD, such as ",(0,i.jsx)(r.code,{children:".spec.ts"}),", ",(0,i.jsx)(r.code,{children:".e2e.js"}),",\nor one of the ",(0,i.jsx)(r.a,{href:"/api/serenity-bdd/interface/SerenityBDDReporterConfig/#specDirectory",children:"other supported file name suffixes"})]}),"\n"]}),"\n",(0,i.jsxs)(r.p,{children:["For example, if you're using ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/playwright-test/",children:"Playwright Test"}),",\n",(0,i.jsx)(r.a,{href:"/handbook/test-runners/mocha/",children:"Mocha"}),", or ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/jasmine/",children:"Jasmine"})," you might organise your specs as follows:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"spec\n|- security\n|  |- authentication\n|  |  |- google_sign_in.spec.ts\n|  |  |- microsoft_sign_in.spec.ts\n|  |  |- custom_single_sign-on.spec.ts\n|  |  \\- README.md\n|  |\n|  |- audit_trail\n|     |- monthly_report.spec.ts\n|     |- unexpected_user_activity_alerting.spec.ts\n|     \\- README.md\n"})}),"\n",(0,i.jsx)(r.h4,{id:"requirements-hierarchy-for-web-ui-component-testing-projects",children:"Requirements hierarchy for web UI component testing projects"}),"\n",(0,i.jsxs)(r.p,{children:["If you're using Serenity/JS to test ",(0,i.jsx)(r.a,{href:"/handbook/getting-started/project-templates/#web-component-testing",children:"web UI components"}),", you might be following the popular convention of storing your spec files next to the component they're testing:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"src\n\\- components\n   |- authentication\n   |  |- input-fields\n   |  |  |- EmailField.ts\n   |  |  |- EmailField.spec.ts\n   |  |  |- PasswordField.ts\n   |  |  |- PasswordField.spec.ts\n   |  |  \\- README.md\n   |  |- LoginForm.ts\n   |  |- LoginForm.spec.ts\n   |  \\- README.md\n   |\n   \\- shopping_cart\n"})}),"\n",(0,i.jsxs)(r.p,{children:["If your UI components and their specs are stored in a top-level directory called ",(0,i.jsx)(r.code,{children:"src"}),", Serenity BDD will recognise the ",(0,i.jsx)(r.code,{children:"src"})," directory as the root of your requirements hierarchy and will group the specs accordingly.\nIf your top-level directory has a different name, you can configure the ",(0,i.jsx)(r.code,{children:"specDirectory"})," property of the ",(0,i.jsx)(r.code,{children:"SerenityBDDReporter"})," and the ",(0,i.jsx)(r.code,{children:"--features"})," parameter of ",(0,i.jsx)(r.code,{children:"serenity-bdd run"})," command with a different value."]}),"\n",(0,i.jsxs)(r.p,{children:["When using the above directory structure, make sure that the outermost ",(0,i.jsx)(r.code,{children:"describe"})," block in your spec files has a name matching the name of the component being tested, for example:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",metastring:'title="EmailField.spec.ts"',children:"import { test as componentTest } from '@playwright/experimental-ct-react'\nimport { useBase } from '@serenity-js/playwright-test'\n\nconst { it, describe } = useBase(componentTest)\n\ndescribe('EmailField', () => {\n\n    it('allows the user to enter a valid address', async ({ actor }) => {\n        // ...\n    })\n})\n"})}),"\n",(0,i.jsx)(r.h3,{id:"file-naming-conventions",children:"File naming conventions"}),"\n",(0,i.jsx)(r.p,{children:"To help Serenity BDD correctly associate the test results with the right feature, you should keep each feature in a separate spec file,\nwhere the name of the feature is the same as the name of the spec file."}),"\n",(0,i.jsxs)(r.p,{children:["If you're using ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/cucumber/",children:"Cucumber.js"}),", you might have a ",(0,i.jsx)(r.code,{children:"custom_single_sign-on.feature"})," file\nwith a matching ",(0,i.jsx)(r.code,{children:"Feature"})," name:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-gherkin",metastring:'title="custom_single_sign-on.feature"',children:"Feature: Custom single sign-on\n\n  As a student\n  I want to be able to sign in using my company's single sign-on solution\n  So that I don't have to remember yet another password\n\n  Scenario: Signing in with a corporate email address\n\n    Given Alice wants to access her student account details\n     When she enters her corporate email address: alice@example.org\n      And completes the sign-in process using her corporate credentials\n     Then she should be taken to her student account\n"})}),"\n",(0,i.jsxs)(r.p,{children:["For ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/playwright-test/",children:"Playwright Test"}),",\n",(0,i.jsx)(r.a,{href:"/handbook/test-runners/mocha/",children:"Mocha"})," and ",(0,i.jsx)(r.a,{href:"/handbook/test-runners/jasmine/",children:"Jasmine"})," specs,\nyou might have a ",(0,i.jsx)(r.code,{children:"custom_single_sign-on.spec.ts"})," file where the outermost ",(0,i.jsx)(r.code,{children:"describe"})," block has a matching name:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-typescript",metastring:'title="custom_single_sign-on.spec.ts"',children:"describe('Custom single sign-on', () => {\n\n    it('allows Alice to sign in with a corporate email address', () => {\n        // ...\n    })\n})\n"})}),"\n",(0,i.jsx)(r.admonition,{title:"How feature name matching works?",type:"tip",children:(0,i.jsxs)(r.p,{children:["Serenity BDD treats spaces and underscores as equivalent and performs a case-insensitive match,\nso ",(0,i.jsx)(r.code,{children:"custom_single_sign-on.feature"})," or ",(0,i.jsx)(r.code,{children:"custom_single_sign-on.spec.ts"}),"\nmatch ",(0,i.jsx)(r.code,{children:"Custom single sign-on"})," as well as ",(0,i.jsx)(r.code,{children:"Custom Single Sign-On"}),"."]})}),"\n",(0,i.jsx)(r.admonition,{title:"One feature, one spec file",type:"warning",children:(0,i.jsxs)(r.p,{children:["Try to avoid having multiple top-level ",(0,i.jsx)(r.code,{children:"describe"})," blocks in a single spec file, or ",(0,i.jsx)(r.code,{children:"it"}),"/",(0,i.jsx)(r.code,{children:"test"})," blocks without a ",(0,i.jsx)(r.code,{children:"describe"})," block\nas Serenity BDD will not be able to associate the test results with the right feature."]})}),"\n",(0,i.jsx)(r.h2,{id:"upgrade-guide",children:"Upgrade guide"}),"\n",(0,i.jsxs)(r.p,{children:["Serenity/JS uses ",(0,i.jsx)(r.a,{href:"/releases/versioning/",children:"semantic versioning"})," and introduces backward-incompatible changes only in major releases.\nThis section provides guidance on how changes in Serenity/JS 3 might affect your existing project\nand how to upgrade your configuration to the new syntax."]}),"\n",(0,i.jsx)(r.h3,{id:"upgrading-to-serenityjs-3-configuration-syntax",children:"Upgrading to Serenity/JS 3 configuration syntax"}),"\n",(0,i.jsx)(r.p,{children:"If you have an existing project that uses the Serenity/JS 2 configuration syntax, you should update it to follow the Serenity/JS 3 convention:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-diff",children:"- import { ArtifactArchiver } from '@serenity-js/core'\n- import { SerenityBDDReporter } from '@serenity-js/serenity-bdd'\n\n// ...\n    crew: [\n-     new SerenityBDDReporter(),\n-     ArtifactArchiver.storingArtifactsAt('./target/site/serenity'),\n+     '@serenity-js/serenity-bdd',\n+     [ '@serenity-js/core:ArtifactArchiver', {\n+       outputDirectory: 'target/site/serenity'\n+     } ],\n    ]\n// ...\n"})}),"\n",(0,i.jsx)(r.p,{children:"The new string-based configuration syntax improves portability and allows Serenity/JS\nto configure test runners that support parallel test execution across multiple worker processes."}),"\n",(0,i.jsx)(r.h3,{id:"using-the-default-serenity-bdd-cli",children:"Using the default Serenity BDD CLI"}),"\n",(0,i.jsxs)(r.p,{children:["As of ",(0,i.jsx)(r.a,{href:"https://github.com/serenity-js/serenity-js/blob/main/CHANGELOG.md#3300-2024-11-19",children:"Serenity/JS 3.30.0"}),", ",(0,i.jsx)(r.code,{children:"@serenity-js/serenity-bdd"})," module ships with the Serenity BDD CLI .jar file, so you no longer need to download it separately.\nIf your Serenity/JS project uses version 3.30.0 or newer, you can remove the ",(0,i.jsx)(r.code,{children:"postinstall"})," script and use the default Serenity BDD CLI instead:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-diff",children:'{\n  "scripts": {\n-   "postinstall": "serenity-bdd update",\n    "clean": "rimraf target",\n    "test": "failsafe clean test:execute test:report",\n    "test:execute": "cucumber-js",\n    "test:report": "serenity-bdd run"\n  }\n}\n'})}),"\n",(0,i.jsx)(r.h2,{id:"using-a-custom-serenity-bdd-cli",children:"Using a custom Serenity BDD CLI"}),"\n",(0,i.jsxs)(r.p,{children:["If you need to use a specific version of the Serenity BDD CLI, you can configure the ",(0,i.jsx)(r.code,{children:"serenity-bdd update"})," command to download it from Maven Central\nor your company's artifact registry."]}),"\n",(0,i.jsxs)(r.p,{children:["This is typically done using the ",(0,i.jsx)(r.a,{href:"https://docs.npmjs.com/cli/v9/using-npm/scripts#life-cycle-operation-order",children:(0,i.jsx)(r.code,{children:"postinstall"})})," script defined in your ",(0,i.jsx)(r.code,{children:"package.json"})," file:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-json",children:'{\n  "scripts": {\n    // highlight-next-line\n    "postinstall": "serenity-bdd update",\n    "clean": "rimraf target",\n    "test": "failsafe clean test:execute test:report",\n    "test:execute": "cucumber-js",\n    "test:report": "serenity-bdd run"\n  }\n}\n'})}),"\n",(0,i.jsx)(r.h3,{id:"using-a-custom-artifact-registry",children:"Using a custom artifact registry"}),"\n",(0,i.jsxs)(r.p,{children:["To download Serenity BDD reporting CLI jar from your company's artifact repository, specify the ",(0,i.jsx)(r.code,{children:"--repository"})," parameter:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"npx serenity-bdd update --repository https://artifactory.example.org/\n"})}),"\n",(0,i.jsxs)(r.p,{children:["To learn more about the ",(0,i.jsx)(r.code,{children:"update"})," command, run:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{children:"npx serenity-bdd --help update\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Please note that the ",(0,i.jsx)(r.code,{children:"update"})," command will try to download the ",(0,i.jsx)(r.code,{children:".jar"})," only if you don't have it cached already, or when the one you have is not up to date. Otherwise, no outbound network calls are made."]}),"\n",(0,i.jsx)(r.h3,{id:"downloading-through-a-proxy",children:"Downloading through a proxy"}),"\n",(0,i.jsxs)(r.p,{children:["The ",(0,i.jsx)(r.code,{children:"update"})," command picks up your proxy configuration automatically from your ",(0,i.jsx)(r.a,{href:"https://docs.npmjs.com/cli/v6/commands/npm-config",children:"NPM config"}),", ",(0,i.jsxs)(r.a,{href:"https://docs.npmjs.com/cli/v6/configuring-npm/npmrc",children:[(0,i.jsx)(r.code,{children:".npmrc"})," file"]}),", or environment variables.\nPlease note that you only need to use one of those configuration mechanisms."]}),"\n",(0,i.jsx)(r.h4,{id:"using-npm-config-linux-macos-windows",children:"Using NPM config (Linux, macOS, Windows)"}),"\n",(0,i.jsx)(r.p,{children:"To use NPM-level configuration, run the following commands in your terminal:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-console",children:"npm config set proxy http://[user:pwd]@domain.tld:port\nnpm config set https-proxy http://[user:pwd]@domain.tld:port\n"})}),"\n",(0,i.jsx)(r.p,{children:"If your proxy requires a certificate file, you can provide a path to it as follows:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-console",children:"npm config set cafile /path/to/root-ca.pem\n"})}),"\n",(0,i.jsxs)(r.p,{children:["The above can also be accomplished by placing an ",(0,i.jsxs)(r.a,{href:"https://docs.npmjs.com/cli/v6/configuring-npm/npmrc",children:[(0,i.jsx)(r.code,{children:".npmrc"})," file"]})," with following contents in your home directory or your project root:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"# ~/.npmrc\nproxy = http://[user:pwd]@domain.tld:port\nhttps-proxy = http://[user:pwd]@domain.tld:port\n\ncafile = /path/to/root-ca.pem          # optional\nnoproxy = localhost,mycompany.com      # optional\n"})}),"\n",(0,i.jsx)(r.h4,{id:"using-environment-variables-on-linux-or-macos",children:"Using environment variables on Linux or macOS"}),"\n",(0,i.jsx)(r.p,{children:"To set your proxy on Linux or macOS, run the following commands in your terminal:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-console",children:"export HTTP_PROXY=http://[user:pwd]@domain.tld:port\nexport HTTPS_PROXY=http://[user:pwd]@domain.tld:port\n"})}),"\n",(0,i.jsxs)(r.p,{children:["If needed, you can also set a ",(0,i.jsx)(r.code,{children:"NO_PROXY"})," variable to a comma-separated list of domains that don't require a proxy, for example:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-console",children:"export NO_PROXY=localhost,mycompany.com\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Please note that you can add the above commands to your shell's ",(0,i.jsx)(r.code,{children:"~/.profile"}),", so that they're executed whenever you open a new terminal."]}),"\n",(0,i.jsx)(r.h5,{id:"using-environment-variables-on-windows",children:"Using environment variables on Windows"}),"\n",(0,i.jsx)(r.p,{children:"To configure a proxy on Windows, run the following commands in Command Prompt:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-console",children:"set HTTP_PROXY=http://[user:pwd]@domain.tld:port\nset HTTPS_PROXY=http://[user:pwd]@domain.tld:port\n"})}),"\n",(0,i.jsx)(r.p,{children:"If you're using Powershell, run the following commands instead:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-console",children:"$env:HTTP_PROXY = http://[user:pwd]@domain.tld:port\n$env:HTTPS_PROXY = http://[user:pwd]@domain.tld:port\n"})}),"\n",(0,i.jsx)(r.h3,{id:"using-a-specific-user-agent",children:"Using a specific User-Agent"}),"\n",(0,i.jsx)(r.p,{children:"If your artifact registry requires you to use a specific user agent, you can configure it using NPM config:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-console",children:'npm config set user-agent "Mozilla/5.0 (X11; Linux x86_64; rv:52.0) Gecko/20100101 Firefox/52.0"\n'})}),"\n",(0,i.jsx)(r.h3,{id:"ignoring-ssl-checks",children:"Ignoring SSL checks"}),"\n",(0,i.jsxs)(r.p,{children:["You can instruct the ",(0,i.jsx)(r.code,{children:"update"})," command to ignore any SSL certificate errors by providing an ",(0,i.jsx)(r.code,{children:"--ignoreSSL"})," flag when running the command:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-console",children:"npx serenity-bdd update --ignoreSSL\n"})}),"\n",(0,i.jsx)(r.p,{children:"You can also disable certificate checks at the NPM config level by running:"}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-console",children:"npm config set strict-ssl false\n"})}),"\n",(0,i.jsxs)(r.p,{children:["Alternative, you can accomplish the same with an ",(0,i.jsx)(r.code,{children:".npmrc"})," file:"]}),"\n",(0,i.jsx)(r.pre,{children:(0,i.jsx)(r.code,{className:"language-bash",children:"# ~/.npmrc\nnpm_config_strict-ssl = false\n"})}),"\n",(0,i.jsx)(r.h2,{id:"integration-architecture",children:"Integration architecture"}),"\n",(0,i.jsxs)(r.p,{children:[(0,i.jsx)(r.code,{children:"SerenityBDDReporter"})," emits ",(0,i.jsx)(r.a,{href:"/api/core-events/class/ArtifactGenerated",children:(0,i.jsx)(r.code,{children:"ArtifactGenerated"})})," events containing Serenity BDD-standard JSON reports,\nwhich can be stored to disk by ",(0,i.jsx)(r.a,{href:"/handbook/reporting/artifact-archiver",children:(0,i.jsx)(r.code,{children:"ArtifactArchiver"})}),",\nand then turned into Serenity BDD HTML reports by ",(0,i.jsx)(r.a,{href:"https://github.com/serenity-bdd/serenity-core",children:"Serenity BDD Reporting CLI"}),"."]}),"\n",(0,i.jsx)(r.mermaid,{value:'graph TB\n    A(["Actors"])\n    TRA(["Serenity/JS test runner adapter"])\n    DEV(["\ud83d\udcbb Developer"])\n    S["Serenity"]\n    AA["ArtifactArchiver"]\n    SBDDR["SerenityBDDReporter"]\n    SBDDW["serenity-bdd run"]\n    TA["\ud83d\udcc2 json, png, etc."]\n    SBDDCLI(["serenity-bdd-cli.jar"])\n    HTML["\ud83d\udda5\ufe0f Serenity BDD HTML reports"]\n\n    A -- notify --\x3e S\n    TRA -- notifies --\x3e S\n    DEV -- invokes -----\x3e SBDDW\n    S -- notifies ---\x3e SBDDR\n    S -- "notifies<br>[ArtifactGenerated]" ---\x3e AA\n    AA -- "stores<br>[Artifact]" ----\x3e TA\n    SBDDR -- "notifies<br>[ArtifactGenerated]" --\x3e S\n    SBDDW -- manages --\x3e SBDDCLI\n    SBDDCLI -- reads --\x3e TA\n    SBDDCLI -- produces --\x3e HTML\n\n    subgraph "serenity-bdd"\n        SBDDR\n        SBDDCLI\n        SBDDW\n    end\n\n    subgraph "core"\n        S\n        AA\n    end\n\n    subgraph "file system"\n        TA\n        HTML\n    end\n\n    class A socket\n    class TRA socket\n    class R socket\n\n    click A "/api/core/class/Actor"\n    click TRA "/handbook/test-runners/"\n    click S "/api/core/class/Serenity"\n    click AA "/api/core/class/ArtifactArchiver"\n    click SBDDR "/api/serenity-bdd/class/SerenityBDDReporter"\n    click SBDDW "/api/serenity-bdd"'})]})}function p(e={}){const{wrapper:r}={...(0,s.R)(),...e.components};return r?(0,i.jsx)(r,{...e,children:(0,i.jsx)(u,{...e})}):u(e)}},7227:(e,r,n)=>{"use strict";n.d(r,{A:()=>o});n(96540);var t=n(34164);const i={tabItem:"tabItem_Ymn6"};var s=n(74848);function o(e){let{children:r,hidden:n,className:o}=e;return(0,s.jsx)("div",{role:"tabpanel",className:(0,t.A)(i.tabItem,o),hidden:n,children:r})}},49489:(e,r,n)=>{"use strict";n.d(r,{A:()=>w});var t=n(96540),i=n(34164),s=n(24245),o=n(56347),a=n(36494),c=n(62814),d=n(45167),l=n(69900);function h(e){return t.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,t.isValidElement)(e)&&function(e){const{props:r}=e;return!!r&&"object"==typeof r&&"value"in r}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function u(e){const{values:r,children:n}=e;return(0,t.useMemo)((()=>{const e=r??function(e){return h(e).map((e=>{let{props:{value:r,label:n,attributes:t,default:i}}=e;return{value:r,label:n,attributes:t,default:i}}))}(n);return function(e){const r=(0,d.XI)(e,((e,r)=>e.value===r.value));if(r.length>0)throw new Error(`Docusaurus error: Duplicate values "${r.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[r,n])}function p(e){let{value:r,tabValues:n}=e;return n.some((e=>e.value===r))}function g(e){let{queryString:r=!1,groupId:n}=e;const i=(0,o.W6)(),s=function(e){let{queryString:r=!1,groupId:n}=e;if("string"==typeof r)return r;if(!1===r)return null;if(!0===r&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:r,groupId:n});return[(0,c.aZ)(s),(0,t.useCallback)((e=>{if(!s)return;const r=new URLSearchParams(i.location.search);r.set(s,e),i.replace({...i.location,search:r.toString()})}),[s,i])]}function m(e){const{defaultValue:r,queryString:n=!1,groupId:i}=e,s=u(e),[o,c]=(0,t.useState)((()=>function(e){let{defaultValue:r,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(r){if(!p({value:r,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${r}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return r}const t=n.find((e=>e.default))??n[0];if(!t)throw new Error("Unexpected error: 0 tabValues");return t.value}({defaultValue:r,tabValues:s}))),[d,h]=g({queryString:n,groupId:i}),[m,y]=function(e){let{groupId:r}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(r),[i,s]=(0,l.Dv)(n);return[i,(0,t.useCallback)((e=>{n&&s.set(e)}),[n,s])]}({groupId:i}),f=(()=>{const e=d??m;return p({value:e,tabValues:s})?e:null})();(0,a.A)((()=>{f&&c(f)}),[f]);return{selectedValue:o,selectValue:(0,t.useCallback)((e=>{if(!p({value:e,tabValues:s}))throw new Error(`Can't select invalid tab value=${e}`);c(e),h(e),y(e)}),[h,y,s]),tabValues:s}}var y=n(11062);const f={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var j=n(74848);function x(e){let{className:r,block:n,selectedValue:t,selectValue:o,tabValues:a}=e;const c=[],{blockElementScrollPositionUntilNextRender:d}=(0,s.a_)(),l=e=>{const r=e.currentTarget,n=c.indexOf(r),i=a[n].value;i!==t&&(d(r),o(i))},h=e=>{let r=null;switch(e.key){case"Enter":l(e);break;case"ArrowRight":{const n=c.indexOf(e.currentTarget)+1;r=c[n]??c[0];break}case"ArrowLeft":{const n=c.indexOf(e.currentTarget)-1;r=c[n]??c[c.length-1];break}}r?.focus()};return(0,j.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":n},r),children:a.map((e=>{let{value:r,label:n,attributes:s}=e;return(0,j.jsx)("li",{role:"tab",tabIndex:t===r?0:-1,"aria-selected":t===r,ref:e=>c.push(e),onKeyDown:h,onClick:l,...s,className:(0,i.A)("tabs__item",f.tabItem,s?.className,{"tabs__item--active":t===r}),children:n??r},r)}))})}function b(e){let{lazy:r,children:n,selectedValue:s}=e;const o=(Array.isArray(n)?n:[n]).filter(Boolean);if(r){const e=o.find((e=>e.props.value===s));return e?(0,t.cloneElement)(e,{className:(0,i.A)("margin-top--md",e.props.className)}):null}return(0,j.jsx)("div",{className:"margin-top--md",children:o.map(((e,r)=>(0,t.cloneElement)(e,{key:r,hidden:e.props.value!==s})))})}function v(e){const r=m(e);return(0,j.jsxs)("div",{className:(0,i.A)("tabs-container",f.tabList),children:[(0,j.jsx)(x,{...r,...e}),(0,j.jsx)(b,{...r,...e})]})}function w(e){const r=(0,y.A)();return(0,j.jsx)(v,{...e,children:h(e.children)},String(r))}},28453:(e,r,n)=>{"use strict";n.d(r,{R:()=>o,x:()=>a});var t=n(96540);const i={},s=t.createContext(i);function o(e){const r=t.useContext(s);return t.useMemo((function(){return"function"==typeof e?e(r):{...r,...e}}),[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),t.createElement(s.Provider,{value:r},e.children)}}}]);