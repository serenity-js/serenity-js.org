"use strict";(self.webpackChunkserenity_js_org=self.webpackChunkserenity_js_org||[]).push([[4028],{96315:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>l,metadata:()=>c,toc:()=>u});var s=t(74848),i=t(28453),r=t(45645),a=t(7227);const l={sidebar_position:3,title:"Updating Serenity/JS"},o=void 0,c={id:"updating-serenity-js",title:"Updating Serenity/JS",description:"Staying up-to-date with the latest version of Serenity/JS is essential to ensure your test automation framework is equipped with the latest features,",source:"@site/src/docs/releases/updating-serenity-js.mdx",sourceDirName:".",slug:"/updating-serenity-js",permalink:"/releases/updating-serenity-js",draft:!1,unlisted:!1,editUrl:"https://github.com/serenity-js/serenity-js.org/tree/main/src/docs/releases/updating-serenity-js.mdx",tags:[],version:"current",sidebarPosition:3,frontMatter:{sidebar_position:3,title:"Updating Serenity/JS"},sidebar:"docs",previous:{title:"Versioning strategy",permalink:"/releases/versioning"}},d={},u=[{value:"Using flexible version ranges",id:"using-flexible-version-ranges",level:2},{value:"Example configuration",id:"example-configuration",level:3},{value:"Benefits",id:"benefits",level:3},{value:"Disadvantages",id:"disadvantages",level:3},{value:"Recommendation",id:"recommendation",level:3},{value:"Updating Serenity/JS modules manually",id:"updating-serenityjs-modules-manually",level:2},{value:"Benefits",id:"benefits-1",level:3},{value:"Disadvantages",id:"disadvantages-1",level:3},{value:"Recommendation",id:"recommendation-1",level:3},{value:"Using a dependency management bot",id:"using-a-dependency-management-bot",level:2},{value:"Benefits",id:"benefits-2",level:3},{value:"Disadvantages",id:"disadvantages-2",level:3},{value:"Recommendation",id:"recommendation-2",level:3}];function h(e){const n={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.p,{children:"Staying up-to-date with the latest version of Serenity/JS is essential to ensure your test automation framework is equipped with the latest features,\nperformance improvements, and critical security patches.\nRegular updates help avoid technical debt, reduce the risk of using deprecated features, and ensure compatibility with the latest tools and platforms."}),"\n",(0,s.jsx)(n.p,{children:"In this guide, we\u2019ll explore the best approaches for staying up-to-date with Serenity/JS."}),"\n",(0,s.jsx)(n.h2,{id:"using-flexible-version-ranges",children:"Using flexible version ranges"}),"\n",(0,s.jsxs)(n.p,{children:["Configuring your ",(0,s.jsx)(n.code,{children:"package.json"})," to use the ",(0,s.jsx)(n.code,{children:"3.x"})," version range for Serenity/JS modules allows your Node package manager, like\n",(0,s.jsx)(n.a,{href:"https://nodejs.org/en/learn/getting-started/an-introduction-to-the-npm-package-manager",children:"NPM"}),",\n",(0,s.jsx)(n.a,{href:"https://classic.yarnpkg.com/lang/en/docs/install/",children:"Yarn"}),",\nor ",(0,s.jsx)(n.a,{href:"https://pnpm.io/",children:"PNPM"}),", to install the latest compatible versions automatically."]}),"\n",(0,s.jsx)(n.h3,{id:"example-configuration",children:"Example configuration"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:'title="package.json"',children:'{\n  "devDependencies": {\n    "@serenity-js/core": "3.x",\n    "@serenity-js/assertions": "3.x",\n    "@serenity-js/rest": "3.x",\n    "@serenity-js/playwright": "3.x",\n    "@serenity-js/playwright-test": "3.x",\n    "@serenity-js/serenity-bdd": "3.x",\n    "@serenity-js/web": "3.x"\n  }\n}\n'})}),"\n",(0,s.jsx)(n.h3,{id:"benefits",children:"Benefits"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Automation"}),": Your package manager will automatically install the latest compatible versions of your dependencies during a fresh npm install,\nit will also update its lock file to reflect the exact versions installed."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Ease of use"}),": No manual intervention is required to update dependencies within the specified range."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Predictability"}),": Your package manager will ensure compatibility since the version constraint (3.x) avoids breaking changes introduced by major version updates."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"disadvantages",children:"Disadvantages"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"No explicit control"}),": Updates occur implicitly when installing dependencies, which may not align with your preferred schedule."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Possible discrepancies"}),": If team members or CI pipelines use different node_modules states, discrepancies may arise."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"recommendation",children:"Recommendation"}),"\n",(0,s.jsx)(n.p,{children:"This approach is recommended for simple project or those without strict update policies.\nTo mitigate the disadvantages, make sure to keep the lock file generated by your package manager under version control."}),"\n",(0,s.jsx)(n.h2,{id:"updating-serenityjs-modules-manually",children:"Updating Serenity/JS modules manually"}),"\n",(0,s.jsxs)(n.p,{children:["For teams who want direct control over their dependencies, using ",(0,s.jsx)(n.a,{href:"https://www.npmjs.com/package/npm-check-updates",children:(0,s.jsx)(n.code,{children:"npm-check-updates"})}),"\nallows to manually update all Serenity/JS dependencies when needed."]}),"\n",(0,s.jsxs)(n.p,{children:["To update all Serenity/JS dependencies listed in your ",(0,s.jsx)(n.code,{children:"package.json"})," file to the latest versions, run the following command:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-npm",children:"npx -y npm-check-updates '/@serenity-js/' -u\n"})}),"\n",(0,s.jsxs)(n.p,{children:["You can also extend this command to update all dependencies in your ",(0,s.jsx)(n.code,{children:"package.json"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-npm",children:"npx -y npm-check-updates -u\n"})}),"\n",(0,s.jsxs)(n.p,{children:["After updating ",(0,s.jsx)(n.code,{children:"package.json"}),", install the dependencies:"]}),"\n",(0,s.jsxs)(r.A,{groupId:"npm2yarn",children:[(0,s.jsx)(a.A,{value:"npm",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"npm install\n"})})}),(0,s.jsx)(a.A,{value:"yarn",label:"Yarn",children:(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-sh",children:"yarn install\n"})})})]}),"\n",(0,s.jsx)(n.h3,{id:"benefits-1",children:"Benefits"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Control"}),": You decide when and which dependencies to update, ensuring alignment with your development schedule."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Granularity"}),": Allows selective updates, ideal for projects that require stability or when testing compatibility with other tools."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Transparency"}),": Changes to dependencies are explicitly visible in your commit history."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"disadvantages-1",children:"Disadvantages"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Manual effort"}),": Requires time and attention to run updates and review changes."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Inconsistent timing"}),": Updates may be delayed if not regularly checked, potentially missing critical patches."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"recommendation-1",children:"Recommendation"}),"\n",(0,s.jsx)(n.p,{children:"This approach is recommended for projects with strict update policies or those requiring compatibility testing with other tools.\nTo mitigate the disadvantages, consider using a dependency management bot."}),"\n",(0,s.jsx)(n.h2,{id:"using-a-dependency-management-bot",children:"Using a dependency management bot"}),"\n",(0,s.jsxs)(n.p,{children:["Dependency management bots like ",(0,s.jsx)(n.a,{href:"https://docs.renovatebot.com/",children:"Renovate"})," or ",(0,s.jsx)(n.a,{href:"https://docs.github.com/en/code-security/getting-started/dependabot-quickstart-guide",children:"Dependabot"})," automate\nthe process of checking for updates and proposing pull requests."]}),"\n",(0,s.jsx)(n.h3,{id:"benefits-2",children:"Benefits"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Proactive updates"}),": Ensures timely adoption of new features, fixes, and patches."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Streamlined workflow"}),": Automates the creation of pull requests with changelogs for easy review."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Security"}),": Helps identify and update dependencies with critical security vulnerabilities."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Customisability"}),": Configure the bot to match your team\u2019s update policies (e.g., daily/weekly schedules, dependency groups)."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"disadvantages-2",children:"Disadvantages"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Requires setup"}),": Initial configuration might require effort, especially for complex projects."]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Possible noise"}),": If bots are not configured correctly, they might create overly granular or too frequent pull requests."]}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"recommendation-2",children:"Recommendation"}),"\n",(0,s.jsx)(n.p,{children:"This approach is used by Serenity/JS and is recommended for larger teams or projects that require both stability and regular updates."}),"\n",(0,s.jsxs)(n.p,{children:["To mitigate the disadvantages, use a configuration file that groups Serenity/JS-related dependencies and sets update policies.\nFor example, you can use the below file to ",(0,s.jsx)(n.a,{href:"https://docs.renovatebot.com/configuration-options/",children:"configure Renovate"}),":"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-json",metastring:'title="renovate.json"',children:'{\n  "extends": [\n    "config:base"\n  ],\n  "rangeStrategy": "bump",\n  "packageRules": [\n    {\n      "packagePatterns": [\n        "^@serenity-js",\n        "^playwright$",\n        "^@playwright/",\n        "npm-failsafe"\n      ],\n      "groupName": "Serenity/JS and Playwright",\n    }\n  ]\n}\n'})})]})}function p(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},7227:(e,n,t)=>{t.d(n,{A:()=>a});t(96540);var s=t(34164);const i={tabItem:"tabItem_Ymn6"};var r=t(74848);function a(e){let{children:n,hidden:t,className:a}=e;return(0,r.jsx)("div",{role:"tabpanel",className:(0,s.A)(i.tabItem,a),hidden:t,children:n})}},45645:(e,n,t)=>{t.d(n,{A:()=>p});var s=t(96540),i=t(34164),r=t(24245),a=t(8626),l=t(11062);const o={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};var c=t(74848);function d(e){let{className:n,block:t,selectedValue:s,selectValue:a,tabValues:l}=e;const d=[],{blockElementScrollPositionUntilNextRender:u}=(0,r.a_)(),h=e=>{const n=e.currentTarget,t=d.indexOf(n),i=l[t].value;i!==s&&(u(n),a(i))},p=e=>{let n=null;switch(e.key){case"Enter":h(e);break;case"ArrowRight":{const t=d.indexOf(e.currentTarget)+1;n=d[t]??d[0];break}case"ArrowLeft":{const t=d.indexOf(e.currentTarget)-1;n=d[t]??d[d.length-1];break}}n?.focus()};return(0,c.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,i.A)("tabs",{"tabs--block":t},n),children:l.map((e=>{let{value:n,label:t,attributes:r}=e;return(0,c.jsx)("li",{role:"tab",tabIndex:s===n?0:-1,"aria-selected":s===n,ref:e=>d.push(e),onKeyDown:p,onClick:h,...r,className:(0,i.A)("tabs__item",o.tabItem,r?.className,{"tabs__item--active":s===n}),children:t??n},n)}))})}function u(e){let{lazy:n,children:t,selectedValue:i}=e;const r=(Array.isArray(t)?t:[t]).filter(Boolean);if(n){const e=r.find((e=>e.props.value===i));return e?(0,s.cloneElement)(e,{className:"margin-top--md"}):null}return(0,c.jsx)("div",{className:"margin-top--md",children:r.map(((e,n)=>(0,s.cloneElement)(e,{key:n,hidden:e.props.value!==i})))})}function h(e){const n=(0,a.u)(e);return(0,c.jsxs)("div",{className:(0,i.A)("tabs-container",o.tabList),children:[(0,c.jsx)(d,{...n,...e}),(0,c.jsx)(u,{...n,...e})]})}function p(e){const n=(0,l.A)();return(0,c.jsx)(h,{...e,children:(0,a.v)(e.children)},String(n))}},8626:(e,n,t)=>{t.d(n,{u:()=>p,v:()=>c});var s=t(96540),i=t(56347),r=t(36494),a=t(62814),l=t(45167),o=t(69900);function c(e){return s.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,s.isValidElement)(e)&&function(e){const{props:n}=e;return!!n&&"object"==typeof n&&"value"in n}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function d(e){const{values:n,children:t}=e;return(0,s.useMemo)((()=>{const e=n??function(e){return c(e).map((e=>{let{props:{value:n,label:t,attributes:s,default:i}}=e;return{value:n,label:t,attributes:s,default:i}}))}(t);return function(e){const n=(0,l.X)(e,((e,n)=>e.value===n.value));if(n.length>0)throw new Error(`Docusaurus error: Duplicate values "${n.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[n,t])}function u(e){let{value:n,tabValues:t}=e;return t.some((e=>e.value===n))}function h(e){let{queryString:n=!1,groupId:t}=e;const r=(0,i.W6)(),l=function(e){let{queryString:n=!1,groupId:t}=e;if("string"==typeof n)return n;if(!1===n)return null;if(!0===n&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:n,groupId:t});return[(0,a.aZ)(l),(0,s.useCallback)((e=>{if(!l)return;const n=new URLSearchParams(r.location.search);n.set(l,e),r.replace({...r.location,search:n.toString()})}),[l,r])]}function p(e){const{defaultValue:n,queryString:t=!1,groupId:i}=e,a=d(e),[l,c]=(0,s.useState)((()=>function(e){let{defaultValue:n,tabValues:t}=e;if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(n){if(!u({value:n,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${n}" but none of its children has the corresponding value. Available values are: ${t.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return n}const s=t.find((e=>e.default))??t[0];if(!s)throw new Error("Unexpected error: 0 tabValues");return s.value}({defaultValue:n,tabValues:a}))),[p,m]=h({queryString:t,groupId:i}),[g,f]=function(e){let{groupId:n}=e;const t=function(e){return e?`docusaurus.tab.${e}`:null}(n),[i,r]=(0,o.Dv)(t);return[i,(0,s.useCallback)((e=>{t&&r.set(e)}),[t,r])]}({groupId:i}),x=(()=>{const e=p??g;return u({value:e,tabValues:a})?e:null})();(0,r.A)((()=>{x&&c(x)}),[x]);return{selectedValue:l,selectValue:(0,s.useCallback)((e=>{if(!u({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);c(e),m(e),f(e)}),[m,f,a]),tabValues:a}}},28453:(e,n,t)=>{t.d(n,{R:()=>a,x:()=>l});var s=t(96540);const i={},r=s.createContext(i);function a(e){const n=s.useContext(r);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(r.Provider,{value:n},e.children)}}}]);