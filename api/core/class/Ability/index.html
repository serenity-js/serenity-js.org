<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-typedoc-api plugin-id-default api-version-current docs-doc-page" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.4.0">
<title data-rh="true">Ability | API | Serenity/JS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://serenity-js.org/images/serenity-js-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://serenity-js.org/images/serenity-js-social-card.jpg"><meta data-rh="true" property="og:url" content="https://serenity-js.org/api/core/class/Ability/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Ability | API | Serenity/JS"><meta data-rh="true" name="description" content="**Abilities** enable [actors](/api/core/class/Actor/)
to perform [interactions](/api/core/class/Interaction/) with the system under test
and answer [questions](/api/core/class/Question/) about its state.

From the technical perspective, **abilities** act as **wrappers** around any **integration libraries** required
to communicate with the external interfaces of system under test,
such as [web browser drivers](/api/web/class/BrowseTheWeb/) or an [HTTP client](/api/rest/class/CallAnApi/).
They also enable [portability](/handbook/design/portable-test-code)
of your test code across such integration libraries.

Abilities are the core building block of the [Screenplay Pattern](/handbook/design/screenplay-pattern),
along with [actors](/api/core/class/Actor/), [interactions](/api/core/class/Interaction/),
[questions](/api/core/class/Question/), and [tasks](/api/core/class/Task/).

![Screenplay Pattern](/images/design/serenity-js-screenplay-pattern.png)

Learn more about:
- [Actors](/api/core/class/Actor/)
- [Configuring actors using Casts](/api/core/class/Cast/)
- [Interactions](/api/core/class/Interaction/)
- [Questions](/api/core/class/Question/)
- [Web testing](/handbook/web-testing/)
- [API testing](/handbook/api-testing/)
- [Mobile testing](/handbook/mobile-testing/)

## Giving actors the abilities to interact

Serenity/JS actors are capable of interacting with **any interface** of the system under test,
be it a [web UI](/handbook/web-testing/), a [mobile app](/handbook/mobile-testing/), a [web service](/handbook/api-testing/),
or [anything else](/api/core/class/Ability/) that a Node.js program can talk to.
This flexibility is enabled by a mechanism called _**abilities**_
and achieved without introducing any unnecessary dependencies to your code base thanks to the [modular architecture](/handbook/getting-started/architecture) of Serenity/JS.

:::tip Remember
**Actors** have **abilities** that enable them to **perform interactions** and **answer questions**.
:::

From the technical perspective, an **ability** is an [adapter](https://en.wikipedia.org/wiki/Adapter_pattern)
around an interface-specific integration library, such as a web browser driver, an HTTP client, a database client, and so on.
You give an actor an ability, and it&#x27;s the ability&#x27;s responsibility to provide a consistent API around the integration library and deal with any of its quirks.
Abilities **encapsulate integration libraries** and handle their [configuration and initialisation](/api/core/interface/Initialisable/),
the process of [freeing up any resources](/api/core/interface/Discardable/) they hold,
as well as managing any state associated with the library.

### Portable interactions with web interfaces

To make your Serenity/JS actors interact with web interfaces,
you call the [`Actor.whoCan`](/api/core/class/Actor#whoCan) method and give them an implementation of the ability to [`BrowseTheWeb`](/api/web/class/BrowseTheWeb),
specific to your web integration tool of choice.

Note how [`BrowseTheWebWithPlaywright`](/api/playwright/class/BrowseTheWebWithPlaywright/), [`BrowseTheWebWithWebdriverIO`](/api/webdriverio/class/BrowseTheWebWithWebdriverIO/), and [`BrowseTheWebWithProtractor`](/api/protractor/class/BrowseTheWebWithProtractor/)
all **extend** the base ability to [`BrowseTheWeb`](/api/web/class/BrowseTheWeb/).

#### Playwright

```typescript
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWebWithPlaywright } from &#x27;@serenity-js/playwright&#x27;   // Serenity/JS integration module
import { chromium } from &#x27;playwright&#x27;

const browser = await chromium.launch({ headless: true })              // integration library

await actorCalled(&#x27;Trevor&#x27;)                                            // generic actor
  .whoCan(BrowseTheWebWithPlaywright.using(browser))                   // tool-specific ability
```

#### WebdriverIO

```typescript
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWebWithWebdriverIO } from &#x27;@serenity-js/webdriverio&#x27; // Serenity/JS integration module

await actorCalled(&#x27;Trevor&#x27;)                                            // generic actor
  .whoCan(BrowseTheWebWithWebdriverIO.using(browser))                  // tool-specific ability
```

#### Protractor

```typescript
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWebWithProtractor } from &#x27;@serenity-js/protractor&#x27;   // Serenity/JS integration module
import { protractor } from &#x27;protractor&#x27;                                // integration library

await actorCalled(&#x27;Trevor&#x27;)                                            // generic actor
  .whoCan(BrowseTheWebWithProtractor.using(protractor.browser))        // tool-specific ability
```

### Retrieving an ability

Use [`PerformActivities`](/api/core/class/PerformActivities/)} to retrieve an ability in a custom [`Interaction`](/api/core/class/Interaction/) or [`Question`](/api/core/class/Question/) implementation.

Here, `Ability` can be the integration library-specific class, for example [`BrowseTheWebWithPlaywright`](/api/playwright/class/BrowseTheWebWithPlaywright/),
or its library-agnostic parent class, like [`BrowseTheWeb`](/api/web/class/BrowseTheWeb/).

To make your code portable across the various integration libraries, retrieve the ability
using the library-agnostic parent class:

```typescript
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWeb } from &#x27;@serenity-js/web&#x27; // Serenity/JS web module

const actor    = actorCalled(&#x27;Trevor&#x27;)
const ability  = await BrowseTheWeb.as(actor)   // retrieve implementation of BrowseTheWeb
```

As you can already see, providing **encapsulation** and a **cleaner API** around the integration libraries are not the only reasons why you&#x27;d want to use the abilities.

Another reason is that the Serenity/JS implementation of the Screenplay Pattern lets you **completely decouple the actor from the integration libraries**
and make the abilities of the same type **interchangeable**.
For example, [Serenity/JS web modules](/handbook/web-testing/serenity-js-web-modules) offer an abstraction that lets you switch between web integration libraries
as vastly different as Selenium, WebdriverIO, or Playwright without having to change _anything whatsoever_ in your test scenarios.

What this means is that your test code can become [portable and reusable across projects and teams](/handbook/design/portable-test-code),
even if they don&#x27;t use the same low-level integration tools. It also helps you to **avoid vendor lock-in**, as you can wrap any third-party integration library
into an ability and swap it out for another implementation if you need to.

However, Serenity/JS **doesn&#x27;t prevent you** from using the integration libraries directly.
When you need to, you can use a library-specific ability like [`BrowseTheWebWithPlaywright`](/api/playwright/class/BrowseTheWebWithPlaywright/)
to trade portability for access to library-specific low-level methods:

```typescript
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWebWithPlaywright, PlaywrightPage } from &#x27;@serenity-js/playwright&#x27;

const actor          = actorCalled(&#x27;Trevor&#x27;)
const ability        = await BrowseTheWebWithPlaywright.as(actor)
const page           = (await ability.currentPage()) as PlaywrightPage;
const playwrightPage = await page.nativePage();
// use any Playwright-specific APIs on playwrightPage
```

:::warning Using integration library-specific APIs reduces portability
While Serenity/JS provides you with escape hatches and ways to access the low-level APIs of your integration libraries,
doing so can reduce the portability of your code. Only do it when you have a good reason to trade portability for low-level access.
:::


## Associating actors with data

One more reason to use abilities is that abilities can also help you to **associate actors with data** they need to perform their activities.
For example, a commonly used ability is one to [`TakeNotes`](/api/core/class/TakeNotes), which allows your actors to start the test scenario
equipped with some data set, or record information about what they see in the test scenario so that they can act upon it later:

```typescript
import { actorCalled, Notepad, TakeNotes } from &#x27;@serenity-js/core&#x27;

interface MyNotes {
  firstName: string;
  lastName: string;
  emailAddress: string;
}

await actorCalled(&#x27;Trevor&#x27;)
  .whoCan(
    TakeNotes.using(Notepad.with&lt;MyNotes&gt;({
      firstName: &#x27;Trevor&#x27;,
      lastName: &#x27;Traveller&#x27;,
      emailAddress: &#x27;Trevor.Traveller@example.org&#x27;,
    }))
  )
```

## Actors with multiple abilities

Of course, an actor can have **any number of abilities** they need to play their role.
For example, it is quite common for an actor to be able to [`BrowseTheWeb`](/api/web/class/BrowseTheWeb), [`TakeNotes`](/api/core/class/TakeNotes), and [`CallAnApi`](/api/rest/class/CallAnApi):

```typescript
import { actorCalled, Notepad, TakeNotes } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWebWithPlaywright } from &#x27;@serenity-js/playwright&#x27;
import { CallAnApi } from &#x27;@serenity-js/rest&#x27;
import { chromium } from &#x27;playwright&#x27;

const browser = await chromium.launch({ headless: true })
const baseURL = &#x27;https://example.org&#x27;

interface MyNotes {
  firstName: string;
  lastName: string;
  emailAddress: string;
}

await actorCalled(&#x27;Trevor&#x27;)
  .whoCan(
    BrowseTheWebWithPlaywright.using(browser, { baseURL }),
    CallAnApi.at(`${ baseURL }/api`),
    TakeNotes.using(Notepad.with&lt;MyNotes&gt;({
      firstName: &#x27;Trevor&#x27;,
      lastName: &#x27;Traveller&#x27;,
      emailAddress: &#x27;Trevor.Traveller@example.org&#x27;,
    }))
  )
```

## Writing custom abilities

If your system under test provides a type of interface that Serenity/JS doesn&#x27;t support yet,
you might want to implement a custom [`Ability`](/api/core/class/Ability/), as well as [interactions](/api/core/class/Interaction/)
and [questions](/api/core/class/Question/) to interact with it.

The best way to start with that is for you to review the examples in the [Screenplay Pattern API docs](/api/core/class/Ability/),
as well as the [Serenity/JS code base on GitHub](https://github.com/serenity-js/serenity-js/tree/main/packages).
Also note that all the [Serenity/JS modules](/handbook/getting-started/architecture)
have their automated tests written in such a way to not only provide an **extremely high test coverage** for the framework itself,
but to be **accessible** and act as a **reference implementation for you** to create your own integrations.

If you believe that the custom integration you&#x27;ve developed could benefit the wider Serenity/JS community,
please consider open-sourcing it yourself, or [contributing it](/community/contributing/) to the main framework.

[![Join Serenity/JS Community Chat](https://img.shields.io/badge/Chat-Serenity%2FJS%20Community-FBD30B?logo=matrix)](https://matrix.to/#/#serenity-js:gitter.im)

### Defining a custom ability to `MakePhoneCalls`

```ts
import { Ability, actorCalled, Interaction } from &#x27;@serenity-js/core&#x27;

class MakePhoneCalls extends Ability {

  // A static method is typically used to inject a client of a given interface
  // and instantiate the ability, for example:
  //   actorCalled(&#x27;Phil&#x27;).whoCan(MakePhoneCalls.using(phone))
  static using(phone: Phone) {
    return new MakePhoneCalls(phone);
  }

  // Abilities can hold state, for example: the client of a given interface,
  // additional configuration, or the result of the last interaction with a given interface.
  protected constructor(private readonly phone: Phone) {
  }

  // Abilities expose methods that enable Interactions to call the system under test,
  // and Questions to retrieve information about its state.
  dial(phoneNumber: string): Promise&lt;void&gt; {
    // ...
  }
}
```

### Defining a custom interaction using the custom ability

```ts
import { Answerable, Interaction, the } from &#x27;@serenity-js/core&#x27;

// A custom interaction using the actor&#x27;s ability:
const Call = (phoneNumber: Answerable&lt;string&gt;) =&gt;
  Interaction.where(the`#actor calls ${ phoneNumber }`, async actor =&gt; {
    await MakePhoneCalls.as(actor).dial(phoneNumber)
  })
```

### Using the custom ability and interaction in a test scenario

```ts
import { actorCalled } from &#x27;@serenity-js/core&#x27;

await actorCalled(&#x27;Connie&#x27;)
  .whoCan(MakePhoneCalls.using(phone))
  .attemptsTo(
    Call(phoneNumber)
  )
```

## Using auto-initialisable and auto-discardable abilities

Abilities that rely on resources that need to be initialised before they can be used,
or discarded before the actor is dismissed can implement
the [`Initialisable`](/api/core/interface/Initialisable/)
or [`Discardable`](/api/core/interface/Discardable/) interfaces, respectively.

### Defining a custom ability to `QueryPostgresDB`

```ts
import {
  Ability, actorCalled, Discardable, Initialisable, Question, UsesAbilities,
} from &#x27;@serenity-js/core&#x27;

// Some low-level interface-specific client we want the Actor to use,
// for example a PostgreSQL database client:
const { Client } = require(&#x27;pg&#x27;);

// A custom Ability to give an Actor access to the low-level client:
class QueryPostgresDB
  extends Ability
  implements Initialisable, Discardable
{
  constructor(private readonly client) {
  }

  // Invoked by Serenity/JS upon the first invocation of `actor.attemptsTo`
  initialise(): Promise&lt;void&gt; | void {
    return this.client.connect();
  }

  // Used to ensure that the Ability is not initialised more than once
  isInitialised(): boolean {
    return this.client._connected;
  }

  // Discards any resources the Ability uses when the Actor is dismissed,
  // so when the Stage receives a SceneFinishes event for scenario-scoped actor,
  // or TestRunFinishes for cross-scenario-scoped actors
  discard(): Promise&lt;void&gt; | void {
    return this.client.end();
  }

  // Any custom integration APIs the Ability, should make available to the Actor.
  // Here, we want the ability to enable the actor to query the database.
  query(query: string) {
    return this.client.query(query);
  }

  // ... other custom integration APIs
}
```

### Defining a custom question using the custom ability

```ts
// A custom Question to allow the Actor query the database
const CurrentDBUser = () =&gt;
  Question.about(&#x27;current db user&#x27;, actor =&gt;
    QueryPostgresDB.as(actor)
      .query(&#x27;SELECT current_user&#x27;)
      .then(result =&gt; result.rows[0].current_user)
  );
```

### Using the custom ability and question in a test scenario

```ts
// Example test scenario where the Actor uses the Ability to QueryPostgresDB
// to assert on the username the connection has been established with

import { describe, it } from &#x27;mocha&#x27;
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { Ensure, equals } from &#x27;@serenity-js/assertions&#x27;

describe(&#x27;Serenity/JS&#x27;, () =&gt; {
  it(&#x27;can initialise and discard abilities automatically&#x27;, () =&gt;
    actorCalled(&#x27;Debbie&#x27;)
      .whoCan(new QueryPostgresDB(new Client()))
      .attemptsTo(
        Ensure.that(CurrentDBUser(), equals(&#x27;jan&#x27;))
      ))
})
```

## Learn more
- [`AbilityType`](/api/core/#AbilityType)
- [`Initialisable`](/api/core/interface/Initialisable/)
- [`Discardable`](/api/core/interface/Discardable/)
- [`BrowseTheWeb`](/api/web/class/BrowseTheWeb/)
- [`CallAnApi`](/api/rest/class/CallAnApi/)
- [`TakeNotes`](/api/core/class/TakeNotes/)"><meta data-rh="true" property="og:description" content="**Abilities** enable [actors](/api/core/class/Actor/)
to perform [interactions](/api/core/class/Interaction/) with the system under test
and answer [questions](/api/core/class/Question/) about its state.

From the technical perspective, **abilities** act as **wrappers** around any **integration libraries** required
to communicate with the external interfaces of system under test,
such as [web browser drivers](/api/web/class/BrowseTheWeb/) or an [HTTP client](/api/rest/class/CallAnApi/).
They also enable [portability](/handbook/design/portable-test-code)
of your test code across such integration libraries.

Abilities are the core building block of the [Screenplay Pattern](/handbook/design/screenplay-pattern),
along with [actors](/api/core/class/Actor/), [interactions](/api/core/class/Interaction/),
[questions](/api/core/class/Question/), and [tasks](/api/core/class/Task/).

![Screenplay Pattern](/images/design/serenity-js-screenplay-pattern.png)

Learn more about:
- [Actors](/api/core/class/Actor/)
- [Configuring actors using Casts](/api/core/class/Cast/)
- [Interactions](/api/core/class/Interaction/)
- [Questions](/api/core/class/Question/)
- [Web testing](/handbook/web-testing/)
- [API testing](/handbook/api-testing/)
- [Mobile testing](/handbook/mobile-testing/)

## Giving actors the abilities to interact

Serenity/JS actors are capable of interacting with **any interface** of the system under test,
be it a [web UI](/handbook/web-testing/), a [mobile app](/handbook/mobile-testing/), a [web service](/handbook/api-testing/),
or [anything else](/api/core/class/Ability/) that a Node.js program can talk to.
This flexibility is enabled by a mechanism called _**abilities**_
and achieved without introducing any unnecessary dependencies to your code base thanks to the [modular architecture](/handbook/getting-started/architecture) of Serenity/JS.

:::tip Remember
**Actors** have **abilities** that enable them to **perform interactions** and **answer questions**.
:::

From the technical perspective, an **ability** is an [adapter](https://en.wikipedia.org/wiki/Adapter_pattern)
around an interface-specific integration library, such as a web browser driver, an HTTP client, a database client, and so on.
You give an actor an ability, and it&#x27;s the ability&#x27;s responsibility to provide a consistent API around the integration library and deal with any of its quirks.
Abilities **encapsulate integration libraries** and handle their [configuration and initialisation](/api/core/interface/Initialisable/),
the process of [freeing up any resources](/api/core/interface/Discardable/) they hold,
as well as managing any state associated with the library.

### Portable interactions with web interfaces

To make your Serenity/JS actors interact with web interfaces,
you call the [`Actor.whoCan`](/api/core/class/Actor#whoCan) method and give them an implementation of the ability to [`BrowseTheWeb`](/api/web/class/BrowseTheWeb),
specific to your web integration tool of choice.

Note how [`BrowseTheWebWithPlaywright`](/api/playwright/class/BrowseTheWebWithPlaywright/), [`BrowseTheWebWithWebdriverIO`](/api/webdriverio/class/BrowseTheWebWithWebdriverIO/), and [`BrowseTheWebWithProtractor`](/api/protractor/class/BrowseTheWebWithProtractor/)
all **extend** the base ability to [`BrowseTheWeb`](/api/web/class/BrowseTheWeb/).

#### Playwright

```typescript
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWebWithPlaywright } from &#x27;@serenity-js/playwright&#x27;   // Serenity/JS integration module
import { chromium } from &#x27;playwright&#x27;

const browser = await chromium.launch({ headless: true })              // integration library

await actorCalled(&#x27;Trevor&#x27;)                                            // generic actor
  .whoCan(BrowseTheWebWithPlaywright.using(browser))                   // tool-specific ability
```

#### WebdriverIO

```typescript
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWebWithWebdriverIO } from &#x27;@serenity-js/webdriverio&#x27; // Serenity/JS integration module

await actorCalled(&#x27;Trevor&#x27;)                                            // generic actor
  .whoCan(BrowseTheWebWithWebdriverIO.using(browser))                  // tool-specific ability
```

#### Protractor

```typescript
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWebWithProtractor } from &#x27;@serenity-js/protractor&#x27;   // Serenity/JS integration module
import { protractor } from &#x27;protractor&#x27;                                // integration library

await actorCalled(&#x27;Trevor&#x27;)                                            // generic actor
  .whoCan(BrowseTheWebWithProtractor.using(protractor.browser))        // tool-specific ability
```

### Retrieving an ability

Use [`PerformActivities`](/api/core/class/PerformActivities/)} to retrieve an ability in a custom [`Interaction`](/api/core/class/Interaction/) or [`Question`](/api/core/class/Question/) implementation.

Here, `Ability` can be the integration library-specific class, for example [`BrowseTheWebWithPlaywright`](/api/playwright/class/BrowseTheWebWithPlaywright/),
or its library-agnostic parent class, like [`BrowseTheWeb`](/api/web/class/BrowseTheWeb/).

To make your code portable across the various integration libraries, retrieve the ability
using the library-agnostic parent class:

```typescript
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWeb } from &#x27;@serenity-js/web&#x27; // Serenity/JS web module

const actor    = actorCalled(&#x27;Trevor&#x27;)
const ability  = await BrowseTheWeb.as(actor)   // retrieve implementation of BrowseTheWeb
```

As you can already see, providing **encapsulation** and a **cleaner API** around the integration libraries are not the only reasons why you&#x27;d want to use the abilities.

Another reason is that the Serenity/JS implementation of the Screenplay Pattern lets you **completely decouple the actor from the integration libraries**
and make the abilities of the same type **interchangeable**.
For example, [Serenity/JS web modules](/handbook/web-testing/serenity-js-web-modules) offer an abstraction that lets you switch between web integration libraries
as vastly different as Selenium, WebdriverIO, or Playwright without having to change _anything whatsoever_ in your test scenarios.

What this means is that your test code can become [portable and reusable across projects and teams](/handbook/design/portable-test-code),
even if they don&#x27;t use the same low-level integration tools. It also helps you to **avoid vendor lock-in**, as you can wrap any third-party integration library
into an ability and swap it out for another implementation if you need to.

However, Serenity/JS **doesn&#x27;t prevent you** from using the integration libraries directly.
When you need to, you can use a library-specific ability like [`BrowseTheWebWithPlaywright`](/api/playwright/class/BrowseTheWebWithPlaywright/)
to trade portability for access to library-specific low-level methods:

```typescript
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWebWithPlaywright, PlaywrightPage } from &#x27;@serenity-js/playwright&#x27;

const actor          = actorCalled(&#x27;Trevor&#x27;)
const ability        = await BrowseTheWebWithPlaywright.as(actor)
const page           = (await ability.currentPage()) as PlaywrightPage;
const playwrightPage = await page.nativePage();
// use any Playwright-specific APIs on playwrightPage
```

:::warning Using integration library-specific APIs reduces portability
While Serenity/JS provides you with escape hatches and ways to access the low-level APIs of your integration libraries,
doing so can reduce the portability of your code. Only do it when you have a good reason to trade portability for low-level access.
:::


## Associating actors with data

One more reason to use abilities is that abilities can also help you to **associate actors with data** they need to perform their activities.
For example, a commonly used ability is one to [`TakeNotes`](/api/core/class/TakeNotes), which allows your actors to start the test scenario
equipped with some data set, or record information about what they see in the test scenario so that they can act upon it later:

```typescript
import { actorCalled, Notepad, TakeNotes } from &#x27;@serenity-js/core&#x27;

interface MyNotes {
  firstName: string;
  lastName: string;
  emailAddress: string;
}

await actorCalled(&#x27;Trevor&#x27;)
  .whoCan(
    TakeNotes.using(Notepad.with&lt;MyNotes&gt;({
      firstName: &#x27;Trevor&#x27;,
      lastName: &#x27;Traveller&#x27;,
      emailAddress: &#x27;Trevor.Traveller@example.org&#x27;,
    }))
  )
```

## Actors with multiple abilities

Of course, an actor can have **any number of abilities** they need to play their role.
For example, it is quite common for an actor to be able to [`BrowseTheWeb`](/api/web/class/BrowseTheWeb), [`TakeNotes`](/api/core/class/TakeNotes), and [`CallAnApi`](/api/rest/class/CallAnApi):

```typescript
import { actorCalled, Notepad, TakeNotes } from &#x27;@serenity-js/core&#x27;
import { BrowseTheWebWithPlaywright } from &#x27;@serenity-js/playwright&#x27;
import { CallAnApi } from &#x27;@serenity-js/rest&#x27;
import { chromium } from &#x27;playwright&#x27;

const browser = await chromium.launch({ headless: true })
const baseURL = &#x27;https://example.org&#x27;

interface MyNotes {
  firstName: string;
  lastName: string;
  emailAddress: string;
}

await actorCalled(&#x27;Trevor&#x27;)
  .whoCan(
    BrowseTheWebWithPlaywright.using(browser, { baseURL }),
    CallAnApi.at(`${ baseURL }/api`),
    TakeNotes.using(Notepad.with&lt;MyNotes&gt;({
      firstName: &#x27;Trevor&#x27;,
      lastName: &#x27;Traveller&#x27;,
      emailAddress: &#x27;Trevor.Traveller@example.org&#x27;,
    }))
  )
```

## Writing custom abilities

If your system under test provides a type of interface that Serenity/JS doesn&#x27;t support yet,
you might want to implement a custom [`Ability`](/api/core/class/Ability/), as well as [interactions](/api/core/class/Interaction/)
and [questions](/api/core/class/Question/) to interact with it.

The best way to start with that is for you to review the examples in the [Screenplay Pattern API docs](/api/core/class/Ability/),
as well as the [Serenity/JS code base on GitHub](https://github.com/serenity-js/serenity-js/tree/main/packages).
Also note that all the [Serenity/JS modules](/handbook/getting-started/architecture)
have their automated tests written in such a way to not only provide an **extremely high test coverage** for the framework itself,
but to be **accessible** and act as a **reference implementation for you** to create your own integrations.

If you believe that the custom integration you&#x27;ve developed could benefit the wider Serenity/JS community,
please consider open-sourcing it yourself, or [contributing it](/community/contributing/) to the main framework.

[![Join Serenity/JS Community Chat](https://img.shields.io/badge/Chat-Serenity%2FJS%20Community-FBD30B?logo=matrix)](https://matrix.to/#/#serenity-js:gitter.im)

### Defining a custom ability to `MakePhoneCalls`

```ts
import { Ability, actorCalled, Interaction } from &#x27;@serenity-js/core&#x27;

class MakePhoneCalls extends Ability {

  // A static method is typically used to inject a client of a given interface
  // and instantiate the ability, for example:
  //   actorCalled(&#x27;Phil&#x27;).whoCan(MakePhoneCalls.using(phone))
  static using(phone: Phone) {
    return new MakePhoneCalls(phone);
  }

  // Abilities can hold state, for example: the client of a given interface,
  // additional configuration, or the result of the last interaction with a given interface.
  protected constructor(private readonly phone: Phone) {
  }

  // Abilities expose methods that enable Interactions to call the system under test,
  // and Questions to retrieve information about its state.
  dial(phoneNumber: string): Promise&lt;void&gt; {
    // ...
  }
}
```

### Defining a custom interaction using the custom ability

```ts
import { Answerable, Interaction, the } from &#x27;@serenity-js/core&#x27;

// A custom interaction using the actor&#x27;s ability:
const Call = (phoneNumber: Answerable&lt;string&gt;) =&gt;
  Interaction.where(the`#actor calls ${ phoneNumber }`, async actor =&gt; {
    await MakePhoneCalls.as(actor).dial(phoneNumber)
  })
```

### Using the custom ability and interaction in a test scenario

```ts
import { actorCalled } from &#x27;@serenity-js/core&#x27;

await actorCalled(&#x27;Connie&#x27;)
  .whoCan(MakePhoneCalls.using(phone))
  .attemptsTo(
    Call(phoneNumber)
  )
```

## Using auto-initialisable and auto-discardable abilities

Abilities that rely on resources that need to be initialised before they can be used,
or discarded before the actor is dismissed can implement
the [`Initialisable`](/api/core/interface/Initialisable/)
or [`Discardable`](/api/core/interface/Discardable/) interfaces, respectively.

### Defining a custom ability to `QueryPostgresDB`

```ts
import {
  Ability, actorCalled, Discardable, Initialisable, Question, UsesAbilities,
} from &#x27;@serenity-js/core&#x27;

// Some low-level interface-specific client we want the Actor to use,
// for example a PostgreSQL database client:
const { Client } = require(&#x27;pg&#x27;);

// A custom Ability to give an Actor access to the low-level client:
class QueryPostgresDB
  extends Ability
  implements Initialisable, Discardable
{
  constructor(private readonly client) {
  }

  // Invoked by Serenity/JS upon the first invocation of `actor.attemptsTo`
  initialise(): Promise&lt;void&gt; | void {
    return this.client.connect();
  }

  // Used to ensure that the Ability is not initialised more than once
  isInitialised(): boolean {
    return this.client._connected;
  }

  // Discards any resources the Ability uses when the Actor is dismissed,
  // so when the Stage receives a SceneFinishes event for scenario-scoped actor,
  // or TestRunFinishes for cross-scenario-scoped actors
  discard(): Promise&lt;void&gt; | void {
    return this.client.end();
  }

  // Any custom integration APIs the Ability, should make available to the Actor.
  // Here, we want the ability to enable the actor to query the database.
  query(query: string) {
    return this.client.query(query);
  }

  // ... other custom integration APIs
}
```

### Defining a custom question using the custom ability

```ts
// A custom Question to allow the Actor query the database
const CurrentDBUser = () =&gt;
  Question.about(&#x27;current db user&#x27;, actor =&gt;
    QueryPostgresDB.as(actor)
      .query(&#x27;SELECT current_user&#x27;)
      .then(result =&gt; result.rows[0].current_user)
  );
```

### Using the custom ability and question in a test scenario

```ts
// Example test scenario where the Actor uses the Ability to QueryPostgresDB
// to assert on the username the connection has been established with

import { describe, it } from &#x27;mocha&#x27;
import { actorCalled } from &#x27;@serenity-js/core&#x27;
import { Ensure, equals } from &#x27;@serenity-js/assertions&#x27;

describe(&#x27;Serenity/JS&#x27;, () =&gt; {
  it(&#x27;can initialise and discard abilities automatically&#x27;, () =&gt;
    actorCalled(&#x27;Debbie&#x27;)
      .whoCan(new QueryPostgresDB(new Client()))
      .attemptsTo(
        Ensure.that(CurrentDBUser(), equals(&#x27;jan&#x27;))
      ))
})
```

## Learn more
- [`AbilityType`](/api/core/#AbilityType)
- [`Initialisable`](/api/core/interface/Initialisable/)
- [`Discardable`](/api/core/interface/Discardable/)
- [`BrowseTheWeb`](/api/web/class/BrowseTheWeb/)
- [`CallAnApi`](/api/rest/class/CallAnApi/)
- [`TakeNotes`](/api/core/class/TakeNotes/)"><link data-rh="true" rel="icon" href="/icons/favicon.ico"><link data-rh="true" rel="canonical" href="https://serenity-js.org/api/core/class/Ability/"><link data-rh="true" rel="alternate" href="https://serenity-js.org/api/core/class/Ability/" hreflang="en"><link data-rh="true" rel="alternate" href="https://serenity-js.org/api/core/class/Ability/" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://BQR1GG2FWV-dsn.algolia.net" crossorigin="anonymous"><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Serenity/JS RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Serenity/JS Atom Feed">



<link rel="search" type="application/opensearchdescription+xml" title="Serenity/JS" href="/opensearch.xml">




<script>!function(e,t,a){e[a]=e[a]||[],e[a].push({start:(new Date).getTime(),event:"stg.start"});var n=t.getElementsByTagName("script")[0],i=t.createElement("script");var r=(e.location.href.match("stg_debug")||t.cookie.match("stg_debug"))&&!e.location.href.match("stg_disable_debug");!function(e,a,n){var i="";if(n){var r=new Date;r.setTime(r.getTime()+24*n*60*60*1e3),i="; expires="+r.toUTCString()}t.cookie=e+"="+a+i+"; path=/"}("stg_debug",r?1:"",r?14:-1);var s=[];r&&s.push("stg_debug");var c=s.length>0?"?"+s.join("&"):"";i.async=!0,i.src="https://serenity.containers.piwik.pro/8497b9df-f942-4fb6-9f4f-eade34bab231.js"+c,n.parentNode.insertBefore(i,n),function(t,n,i){t[n]=t[n]||{};for(var r=0;r<i.length;r++)!function(i){t[n][i]=t[n][i]||{},t[n][i].api=t[n][i].api||function(){var t=[].slice.call(arguments,0);"string"==typeof t[0]&&e[a].push({event:n+"."+i+":"+t[0],parameters:[].slice.call(arguments,1)})}}(i[r])}(e,"ppms",["tm","cm"])}(window,document,"dataLayer")</script><link rel="stylesheet" href="/assets/css/styles.cbf140ac.css">
<script src="/assets/js/runtime~main.a60ed9c0.js" defer="defer"></script>
<script src="/assets/js/main.1cb96522.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();null!==e?t(e):window.matchMedia("(prefers-color-scheme: dark)").matches?t("dark"):(window.matchMedia("(prefers-color-scheme: light)").matches,t("light"))}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}(),document.documentElement.setAttribute("data-announcement-bar-initially-dismissed",function(){try{return"true"===localStorage.getItem("docusaurus.announcement.dismiss")}catch(t){}return!1}())</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><div class="announcementBar_mb4j" style="background-color:#FFE46E" role="banner"><div class="content_knG7 announcementBarContent_xLdY">Get our book - <a target="_blank" rel="noopener noreferrer" href="https://www.manning.com/books/bdd-in-action-second-edition">"BDD in Action, Second Edition"</a> 📚</div></div><nav aria-label="Main" class="navbar navbar--fixed-top navbarHideable_m1mJ navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/images/serenity-js-logo-for-dark-backgrounds.svg" alt="Serenity/JS" class="serenity-js-logo themedComponent_mlkZ themedComponent--light_NVdE" height="10"><img src="/images/serenity-js-logo-for-dark-backgrounds.svg" alt="Serenity/JS" class="serenity-js-logo themedComponent_mlkZ themedComponent--dark_xIcU" height="10"></div><b class="navbar__title text--truncate">Serenity/JS</b></a><a class="navbar__item navbar__link" href="/handbook/">Handbook</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/api/">API</a><a class="navbar__item navbar__link" href="/releases/">Releases</a><a class="navbar__item navbar__link" href="/community/">Community</a><a href="https://github.com/sponsors/serenity-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Sponsors</a><a class="navbar__item navbar__link" href="/blog/">News</a></div><div class="navbar__items navbar__items--right"><a href="https://www.youtube.com/@serenity-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-youtube-link" aria-label="Serenity/JS YouTube channel" title="Serenity/JS YouTube channel"></a><a href="https://github.com/serenity-js" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link navbar-github-link" aria-label="Serenity/JS GitHub repositories" title="Serenity/JS GitHub repositories"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS darkNavbarColorModeToggle_X3D1" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="apiPage"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd sidebarWithHideableNavbar_wUlq"><a tabindex="-1" class="sidebarLogo_isFc" href="/"><img src="/images/serenity-js-logo-for-dark-backgrounds.svg" alt="Serenity/JS" class="serenity-js-logo themedComponent_mlkZ themedComponent--light_NVdE" height="10"><img src="/images/serenity-js-logo-for-dark-backgrounds.svg" alt="Serenity/JS" class="serenity-js-logo themedComponent_mlkZ themedComponent--dark_xIcU" height="10"><b>Serenity/JS</b></a><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG menuWithAnnouncementBar_GW3s"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/api/">Serenity/JS API</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--active">Core Modules</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/api/core/">@serenity-js/core</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/api/core/">Overview</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core/#AbilityType">Abilities</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core/class/Debug/">Activities</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core/function/actorCalled/">Actors</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core-events/class/ActivityFinished/">Domain Events</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core/class/ErrorFactory/">Errors</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core/#Predicate">Expectations</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core/interface/ChainableSetter/">Notes</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core/function/format/">Questions</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" tabindex="0" href="/api/core/class/Activity/">Screenplay Pattern</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/api/core/class/Activity/">Activity</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/api/core/class/Actor/">Actor</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/api/core/class/Interaction/">Interaction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/api/core/class/Question/">Question</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link" tabindex="0" href="/api/core/class/Task/">Task</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-4 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/api/core/class/Ability/">Ability</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core/class/Serenity/">Serenity</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core/class/Cast/">Stage</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core-adapter/interface/OutputStream/">Test runner adapter</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-3 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/core/interface/TellsTime/">Time</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/assertions/">@serenity-js/assertions</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Web Testing</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/web/">@serenity-js/web</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/playwright/">@serenity-js/playwright</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/protractor/">@serenity-js/protractor</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/webdriverio/">@serenity-js/webdriverio</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">REST API Testing</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/rest/">@serenity-js/rest</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/local-server/">@serenity-js/local-server</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Reporting</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/console-reporter/">@serenity-js/console-reporter</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/serenity-bdd/">@serenity-js/serenity-bdd</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link">Test Runners</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/cucumber/">@serenity-js/cucumber</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/jasmine/">@serenity-js/jasmine</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/mocha/">@serenity-js/mocha</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" tabindex="0" href="/api/playwright-test/">@serenity-js/playwright-test</a></div></li></ul></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col apiItemCol"><div class="apiItemContainer"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Core Modules</span><meta itemprop="position" content="1"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">@serenity-js/core</span><meta itemprop="position" content="2"></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Screenplay Pattern</span><meta itemprop="position" content="3"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Ability</span><meta itemprop="position" content="4"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile apiTocMobile"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1><span class="tsd-header-flags"><span class="tsd-flag tsd-flag-external">external</span><span class="tsd-flag tsd-flag-abstract">abstract</span></span>Ability<!-- --> </h1></header><div class="tsd-comment tsd-typography tsd-comment-root"><div class="lead"><div class="tsd-markdown markdown"><p><strong>Abilities</strong> enable <a href="/api/core/class/Actor/">actors</a>
to perform <a href="/api/core/class/Interaction/">interactions</a> with the system under test
and answer <a href="/api/core/class/Question/">questions</a> about its state.</p>

<p>From the technical perspective, <strong>abilities</strong> act as <strong>wrappers</strong> around any <strong>integration libraries</strong> required
to communicate with the external interfaces of system under test,
such as <a href="/api/web/class/BrowseTheWeb/">web browser drivers</a> or an <a href="/api/rest/class/CallAnApi/">HTTP client</a>.
They also enable <a href="/handbook/design/portable-test-code/">portability</a>
of your test code across such integration libraries.</p>

<p>Abilities are the core building block of the <a href="/handbook/design/screenplay-pattern/">Screenplay Pattern</a>,
along with <a href="/api/core/class/Actor/">actors</a>, <a href="/api/core/class/Interaction/">interactions</a>,
<a href="/api/core/class/Question/">questions</a>, and <a href="/api/core/class/Task/">tasks</a>.</p>

<p><img decoding="async" loading="lazy" alt="" src="/images/design/serenity-js-screenplay-pattern.png" class="img_ev3q"></p>

<p>Learn more about:</p><ul><li><a href="/api/core/class/Actor/">Actors</a></li><li><a href="/api/core/class/Cast/">Configuring actors using Casts</a></li><li><a href="/api/core/class/Interaction/">Interactions</a></li><li><a href="/api/core/class/Question/">Questions</a></li><li><a href="/handbook/web-testing/">Web testing</a></li><li><a href="/handbook/api-testing/">API testing</a></li><li><a href="/handbook/mobile-testing/">Mobile testing</a></li></ul>

<h2>Giving actors the abilities to interact</h2><p>Serenity/JS actors are capable of interacting with <strong>any interface</strong> of the system under test,
be it a <a href="/handbook/web-testing/">web UI</a>, a <a href="/handbook/mobile-testing/">mobile app</a>, a <a href="/handbook/api-testing/">web service</a>,
or <a href="/api/core/class/Ability/">anything else</a> that a Node.js program can talk to.
This flexibility is enabled by a mechanism called <em><strong>abilities</strong></em>
and achieved without introducing any unnecessary dependencies to your code base thanks to the <a href="/handbook/getting-started/architecture/">modular architecture</a> of Serenity/JS.</p>

<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Remember</div><div class="admonitionContent_BuS1"><p><strong>Actors</strong> have <strong>abilities</strong> that enable them to <strong>perform interactions</strong> and <strong>answer questions</strong>.</p></div></div>

<p>From the technical perspective, an <strong>ability</strong> is an <a href="https://en.wikipedia.org/wiki/Adapter_pattern" target="_blank" rel="noopener noreferrer">adapter</a>
around an interface-specific integration library, such as a web browser driver, an HTTP client, a database client, and so on.
You give an actor an ability, and it&#x27;s the ability&#x27;s responsibility to provide a consistent API around the integration library and deal with any of its quirks.
Abilities <strong>encapsulate integration libraries</strong> and handle their <a href="/api/core/interface/Initialisable/">configuration and initialisation</a>,
the process of <a href="/api/core/interface/Discardable/">freeing up any resources</a> they hold,
as well as managing any state associated with the library.</p>

<h3>Portable interactions with web interfaces</h3><p>To make your Serenity/JS actors interact with web interfaces,
you call the <a href="/api/core/class/Actor/#whoCan"><code>Actor.whoCan</code></a> method and give them an implementation of the ability to <a href="/api/web/class/BrowseTheWeb/"><code>BrowseTheWeb</code></a>,
specific to your web integration tool of choice.</p>

<p>Note how <a href="/api/playwright/class/BrowseTheWebWithPlaywright/"><code>BrowseTheWebWithPlaywright</code></a>, <a href="/api/webdriverio/class/BrowseTheWebWithWebdriverIO/"><code>BrowseTheWebWithWebdriverIO</code></a>, and <a href="/api/protractor/class/BrowseTheWebWithProtractor/"><code>BrowseTheWebWithProtractor</code></a>
all <strong>extend</strong> the base ability to <a href="/api/web/class/BrowseTheWeb/"><code>BrowseTheWeb</code></a>.</p>

<h4>Playwright</h4><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> actorCalled </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> BrowseTheWebWithPlaywright </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/playwright&#x27;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Serenity/JS integration module</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chromium </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;playwright&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> chromium</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">launch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> headless</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">              </span><span class="token comment" style="color:#999988;font-style:italic">// integration library</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">actorCalled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Trevor&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">                                            </span><span class="token comment" style="color:#999988;font-style:italic">// generic actor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">whoCan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BrowseTheWebWithPlaywright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">using</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">browser</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">                   </span><span class="token comment" style="color:#999988;font-style:italic">// tool-specific ability</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h4>WebdriverIO</h4><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> actorCalled </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> BrowseTheWebWithWebdriverIO </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/webdriverio&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Serenity/JS integration module</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">actorCalled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Trevor&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">                                            </span><span class="token comment" style="color:#999988;font-style:italic">// generic actor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">whoCan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BrowseTheWebWithWebdriverIO</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">using</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">browser</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">                  </span><span class="token comment" style="color:#999988;font-style:italic">// tool-specific ability</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h4>Protractor</h4><div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> actorCalled </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> BrowseTheWebWithProtractor </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/protractor&#x27;</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// Serenity/JS integration module</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> protractor </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;protractor&#x27;</span><span class="token plain">                                </span><span class="token comment" style="color:#999988;font-style:italic">// integration library</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">actorCalled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Trevor&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">                                            </span><span class="token comment" style="color:#999988;font-style:italic">// generic actor</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">whoCan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">BrowseTheWebWithProtractor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">using</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">protractor</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">browser</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">        </span><span class="token comment" style="color:#999988;font-style:italic">// tool-specific ability</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h3>Retrieving an ability</h3><p>Use <a href="/api/core/class/PerformActivities/"><code>PerformActivities</code></a>} to retrieve an ability in a custom <a href="/api/core/class/Interaction/"><code>Interaction</code></a> or <a href="/api/core/class/Question/"><code>Question</code></a> implementation.</p>

<p>Here, <code>Ability</code> can be the integration library-specific class, for example <a href="/api/playwright/class/BrowseTheWebWithPlaywright/"><code>BrowseTheWebWithPlaywright</code></a>,
or its library-agnostic parent class, like <a href="/api/web/class/BrowseTheWeb/"><code>BrowseTheWeb</code></a>.</p>

<p>To make your code portable across the various integration libraries, retrieve the ability
using the library-agnostic parent class:</p>

<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> actorCalled </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> BrowseTheWeb </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/web&#x27;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// Serenity/JS web module</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> actor    </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">actorCalled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Trevor&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ability  </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> BrowseTheWeb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">as</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">actor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">   </span><span class="token comment" style="color:#999988;font-style:italic">// retrieve implementation of BrowseTheWeb</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<p>As you can already see, providing <strong>encapsulation</strong> and a <strong>cleaner API</strong> around the integration libraries are not the only reasons why you&#x27;d want to use the abilities.</p>

<p>Another reason is that the Serenity/JS implementation of the Screenplay Pattern lets you <strong>completely decouple the actor from the integration libraries</strong>
and make the abilities of the same type <strong>interchangeable</strong>.
For example, <a href="/handbook/web-testing/serenity-js-web-modules/">Serenity/JS web modules</a> offer an abstraction that lets you switch between web integration libraries
as vastly different as Selenium, WebdriverIO, or Playwright without having to change <em>anything whatsoever</em> in your test scenarios.</p>

<p>What this means is that your test code can become <a href="/handbook/design/portable-test-code/">portable and reusable across projects and teams</a>,
even if they don&#x27;t use the same low-level integration tools. It also helps you to <strong>avoid vendor lock-in</strong>, as you can wrap any third-party integration library
into an ability and swap it out for another implementation if you need to.</p>

<p>However, Serenity/JS <strong>doesn&#x27;t prevent you</strong> from using the integration libraries directly.
When you need to, you can use a library-specific ability like <a href="/api/playwright/class/BrowseTheWebWithPlaywright/"><code>BrowseTheWebWithPlaywright</code></a>
to trade portability for access to library-specific low-level methods:</p>

<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> actorCalled </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> BrowseTheWebWithPlaywright</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> PlaywrightPage </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/playwright&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> actor          </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">actorCalled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Trevor&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> ability        </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> BrowseTheWebWithPlaywright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">as</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">actor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> page           </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> ability</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">currentPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">as</span><span class="token plain"> PlaywrightPage</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> playwrightPage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">nativePage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// use any Playwright-specific APIs on playwrightPage</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>Using integration library-specific APIs reduces portability</div><div class="admonitionContent_BuS1"><p>While Serenity/JS provides you with escape hatches and ways to access the low-level APIs of your integration libraries,
doing so can reduce the portability of your code. Only do it when you have a good reason to trade portability for low-level access.</p></div></div>


<h2>Associating actors with data</h2><p>One more reason to use abilities is that abilities can also help you to <strong>associate actors with data</strong> they need to perform their activities.
For example, a commonly used ability is one to <a href="/api/core/class/TakeNotes/"><code>TakeNotes</code></a>, which allows your actors to start the test scenario
equipped with some data set, or record information about what they see in the test scenario so that they can act upon it later:</p>

<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> actorCalled</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Notepad</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> TakeNotes </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">MyNotes</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  firstName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lastName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  emailAddress</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">actorCalled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Trevor&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">whoCan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TakeNotes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">using</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Notepad</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-function function" style="color:#d73a49">with</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">MyNotes</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      firstName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Trevor&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Traveller&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      emailAddress</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Trevor.Traveller@example.org&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h2>Actors with multiple abilities</h2><p>Of course, an actor can have <strong>any number of abilities</strong> they need to play their role.
For example, it is quite common for an actor to be able to <a href="/api/web/class/BrowseTheWeb/"><code>BrowseTheWeb</code></a>, <a href="/api/core/class/TakeNotes/"><code>TakeNotes</code></a>, and <a href="/api/rest/class/CallAnApi/"><code>CallAnApi</code></a>:</p>

<div class="language-typescript codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-typescript codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> actorCalled</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Notepad</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> TakeNotes </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> BrowseTheWebWithPlaywright </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/playwright&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> CallAnApi </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/rest&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> chromium </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;playwright&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browser </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> chromium</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">launch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> headless</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token boolean" style="color:#36acaa">true</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> baseURL </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;https://example.org&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">interface</span><span class="token plain"> </span><span class="token class-name">MyNotes</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  firstName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  lastName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  emailAddress</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">actorCalled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Trevor&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">whoCan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    BrowseTheWebWithPlaywright</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">using</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">browser</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> baseURL </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    CallAnApi</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">at</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation"> baseURL </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string string" style="color:#e3116c">/api</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    TakeNotes</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">using</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">Notepad</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-function function" style="color:#d73a49">with</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name">MyNotes</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      firstName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Trevor&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      lastName</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Traveller&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      emailAddress</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;Trevor.Traveller@example.org&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h2>Writing custom abilities</h2><p>If your system under test provides a type of interface that Serenity/JS doesn&#x27;t support yet,
you might want to implement a custom <a href="/api/core/class/Ability/"><code>Ability</code></a>, as well as <a href="/api/core/class/Interaction/">interactions</a>
and <a href="/api/core/class/Question/">questions</a> to interact with it.</p>

<p>The best way to start with that is for you to review the examples in the <a href="/api/core/class/Ability/">Screenplay Pattern API docs</a>,
as well as the <a href="https://github.com/serenity-js/serenity-js/tree/main/packages" target="_blank" rel="noopener noreferrer">Serenity/JS code base on GitHub</a>.
Also note that all the <a href="/handbook/getting-started/architecture/">Serenity/JS modules</a>
have their automated tests written in such a way to not only provide an <strong>extremely high test coverage</strong> for the framework itself,
but to be <strong>accessible</strong> and act as a <strong>reference implementation for you</strong> to create your own integrations.</p>

<p>If you believe that the custom integration you&#x27;ve developed could benefit the wider Serenity/JS community,
please consider open-sourcing it yourself, or <a href="/community/contributing/">contributing it</a> to the main framework.</p>

<p><a href="https://matrix.to/#/#serenity-js:gitter.im" target="_blank" rel="noopener noreferrer"><img decoding="async" loading="lazy" alt="" src="https://img.shields.io/badge/Chat-Serenity%2FJS%20Community-FBD30B?logo=matrix" class="img_ev3q"></a></p>

<h3>Defining a custom ability to <code>MakePhoneCalls</code></h3><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Ability</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> actorCalled</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Interaction </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MakePhoneCalls</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Ability</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// A static method is typically used to inject a client of a given interface</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// and instantiate the ability, for example:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">//   actorCalled(&#x27;Phil&#x27;).whoCan(MakePhoneCalls.using(phone))</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">static</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">using</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">phone</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Phone</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">MakePhoneCalls</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">phone</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Abilities can hold state, for example: the client of a given interface,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// additional configuration, or the result of the last interaction with a given interface.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">protected</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">constructor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">readonly</span><span class="token plain"> phone</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Phone</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Abilities expose methods that enable Interactions to call the system under test,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// and Questions to retrieve information about its state.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">dial</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">phoneNumber</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">void</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// ...</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h3>Defining a custom interaction using the custom ability</h3><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Answerable</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Interaction</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> the </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// A custom interaction using the actor&#x27;s ability:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">Call</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">phoneNumber</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Answerable</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token builtin">string</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Interaction</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">the</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">#actor calls </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">${</span><span class="token template-string interpolation"> phoneNumber </span><span class="token template-string interpolation interpolation-punctuation punctuation" style="color:#393A34">}</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> actor </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> MakePhoneCalls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">as</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">actor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">dial</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">phoneNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h3>Using the custom ability and interaction in a test scenario</h3><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> actorCalled </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">actorCalled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Connie&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">whoCan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">MakePhoneCalls</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">using</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">phone</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">attemptsTo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">Call</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">phoneNumber</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h2>Using auto-initialisable and auto-discardable abilities</h2><p>Abilities that rely on resources that need to be initialised before they can be used,
or discarded before the actor is dismissed can implement
the <a href="/api/core/interface/Initialisable/"><code>Initialisable</code></a>
or <a href="/api/core/interface/Discardable/"><code>Discardable</code></a> interfaces, respectively.</p>

<h3>Defining a custom ability to <code>QueryPostgresDB</code></h3><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Ability</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> actorCalled</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Discardable</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Initialisable</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Question</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> UsesAbilities</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// Some low-level interface-specific client we want the Actor to use,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// for example a PostgreSQL database client:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Client </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">require</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;pg&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// A custom Ability to give an Actor access to the low-level client:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">QueryPostgresDB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Ability</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token keyword" style="color:#00009f">implements</span><span class="token plain"> </span><span class="token class-name">Initialisable</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Discardable</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">constructor</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">private</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">readonly</span><span class="token plain"> client</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Invoked by Serenity/JS upon the first invocation of `actor.attemptsTo`</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">initialise</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">void</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">connect</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Used to ensure that the Ability is not initialised more than once</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">isInitialised</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">boolean</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">_connected</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Discards any resources the Ability uses when the Actor is dismissed,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// so when the Stage receives a SceneFinishes event for scenario-scoped actor,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// or TestRunFinishes for cross-scenario-scoped actors</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">discard</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">Promise</span><span class="token operator" style="color:#393A34">&lt;</span><span class="token keyword" style="color:#00009f">void</span><span class="token operator" style="color:#393A34">&gt;</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">|</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">void</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">end</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Any custom integration APIs the Ability, should make available to the Actor.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// Here, we want the ability to enable the actor to query the database.</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">query</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token builtin">string</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">this</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">client</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">query</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token comment" style="color:#999988;font-style:italic">// ... other custom integration APIs</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h3>Defining a custom question using the custom ability</h3><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// A custom Question to allow the Actor query the database</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">CurrentDBUser</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Question</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">about</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;current db user&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> actor </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    QueryPostgresDB</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">as</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">actor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">query</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;SELECT current_user&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">then</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">result </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> result</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">rows</span><span class="token punctuation" style="color:#393A34">[</span><span class="token number" style="color:#36acaa">0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">current_user</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h3>Using the custom ability and question in a test scenario</h3><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// Example test scenario where the Actor uses the Ability to QueryPostgresDB</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token comment" style="color:#999988;font-style:italic">// to assert on the username the connection has been established with</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> describe</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> it </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;mocha&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> actorCalled </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Ensure</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> equals </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/assertions&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token function" style="color:#d73a49">describe</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Serenity/JS&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function" style="color:#d73a49">it</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;can initialise and discard abilities automatically&#x27;</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token function" style="color:#d73a49">actorCalled</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;Debbie&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">whoCan</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">QueryPostgresDB</span><span class="token punctuation" style="color:#393A34">(</span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">Client</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">attemptsTo</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Ensure</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">that</span><span class="token punctuation" style="color:#393A34">(</span><span class="token function" style="color:#d73a49">CurrentDBUser</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">equals</span><span class="token punctuation" style="color:#393A34">(</span><span class="token string" style="color:#e3116c">&#x27;jan&#x27;</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h2>Learn more</h2><ul><li><a href="/api/core/#AbilityType"><code>AbilityType</code></a></li><li><a href="/api/core/interface/Initialisable/"><code>Initialisable</code></a></li><li><a href="/api/core/interface/Discardable/"><code>Discardable</code></a></li><li><a href="/api/web/class/BrowseTheWeb/"><code>BrowseTheWeb</code></a></li><li><a href="/api/rest/class/CallAnApi/"><code>CallAnApi</code></a></li><li><a href="/api/core/class/TakeNotes/"><code>TakeNotes</code></a></li></ul></div></div></div><section class="tsd-panel"><h3 class="tsd-panel-header">Hierarchy</h3><div class="tsd-panel-content"><ul class="tsd-hierarchy"><li><em class="tsd-target">Ability</em><ul class="tsd-hierarchy"><li><a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/RaiseErrors/">RaiseErrors</a></li><li><a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/AnswerQuestions/">AnswerQuestions</a></li><li><a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/PerformActivities/">PerformActivities</a></li><li><a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/TakeNotes/">TakeNotes</a></li><li><a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/ScheduleWork/">ScheduleWork</a></li></ul></li></ul></div></section><section class="tsd-panel-group tsd-index-group"><h2>Index <a class="tsd-anchor" href="/api/core/class/Ability/#Index"><span class="tsd-anchor-id" id="Index"></span><i class="codicon codicon-symbol-numeric"></i></a></h2><section class="tsd-panel tsd-index-panel"><div class="tsd-index-content"><section class="tsd-index-section"><h3 class="tsd-panel-header">Constructors</h3><div class="tsd-panel-content"><ul class="tsd-index-list"><li><a class="tsd-kind-icon" href="/api/core/class/Ability/#constructor"><i class="codicon codicon-symbol-constructor" style="color:var(--ifm-color-info)"></i>constructor</a></li></ul></div></section><section class="tsd-index-section"><h3 class="tsd-panel-header">Methods</h3><div class="tsd-panel-content"><ul class="tsd-index-list"><li><a class="tsd-kind-icon" href="/api/core/class/Ability/#as"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>as</a></li><li><a class="tsd-kind-icon" href="/api/core/class/Ability/#abilityType"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>abilityType</a></li><li><a class="tsd-kind-icon" href="/api/core/class/Ability/#toJSON"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>toJSON</a></li><li><a class="tsd-kind-icon" href="/api/core/class/Ability/#abilityType"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>abilityType</a></li></ul></div></section></div></section></section><section class="tsd-panel-group tsd-member-group"><h2>Constructors<!-- --> <a class="tsd-anchor" href="/api/core/class/Ability/#Constructors"><span class="tsd-anchor-id" id="Constructors"></span><i class="codicon codicon-symbol-numeric"></i></a></h2><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="/api/core/class/Ability/#constructor"><span class="tsd-anchor-id" id="constructor"></span><i class="codicon codicon-symbol-numeric"></i></a><span class="tsd-flag tsd-flag-external">external</span>constructor</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>new Ability<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/Ability/">Ability</a></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><h4 class="tsd-returns-title">Returns <a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/Ability/">Ability</a></h4></li></ul></div></section></section><section class="tsd-panel-group tsd-member-group"><h2>Methods<!-- --> <a class="tsd-anchor" href="/api/core/class/Ability/#Methods"><span class="tsd-anchor-id" id="Methods"></span><i class="codicon codicon-symbol-numeric"></i></a></h2><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="/api/core/class/Ability/#as"><span class="tsd-anchor-id" id="as"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/serenity-js/serenity-js/blob/main/packages/core/src/screenplay/abilities/Ability.ts#L402" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a><span class="tsd-flag tsd-flag-static">static</span><span class="tsd-flag tsd-flag-external">external</span>as</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>as<span class="tsd-generics"><span class="tsd-signature-symbol">&lt;</span>A<span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">(</span><span>this<span class="tsd-signature-symbol">: </span><a class="tsd-signature-type" data-tsd-kind="2097152" href="/api/core/#AbilityType">AbilityType</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type tsd-signature-type-generic">A</span><span class="tsd-signature-symbol">&gt;</span></span><span class="tsd-signature-symbol">, </span><span>actor<span class="tsd-signature-symbol">: </span><a class="tsd-signature-type" data-tsd-kind="256" href="/api/core/interface/UsesAbilities/">UsesAbilities</a></span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><span class="tsd-signature-type tsd-signature-type-generic">A</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Used to access an <a href="/api/core/class/Actor/">actor&#x27;s</a> <a href="/api/core/class/Ability/">ability</a> of the given type
from within the <a href="/api/core/class/Interaction/"><code>Interaction</code></a> and <a href="/api/core/class/Question/"><code>Question</code></a> classes.</p>

<h4>Retrieving an ability in an interaction definition</h4><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Actor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Interaction </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> BrowseTheWeb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Page </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/web&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">export</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> </span><span class="token function-variable function" style="color:#d73a49">ClearLocalStorage</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  Interaction</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">where</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">#actor clears local storage</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">actor</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Actor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browseTheWeb</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> BrowseTheWeb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BrowseTheWeb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">as</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">actor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// retrieve an ability</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> page</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> browseTheWeb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">currentPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">executeScript</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">localStorage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">clear</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div>

<h4>Retrieving an ability in a question definition</h4><div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Actor</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Question </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> BrowseTheWeb</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> Page </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/web&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> CallAnApi </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/rest&#x27;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> LocalStorage </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token function-variable function" style="color:#d73a49">numberOfItems</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Question</span><span class="token punctuation" style="color:#393A34">.</span><span class="token generic-function function" style="color:#d73a49">about</span><span class="token generic-function generic class-name operator" style="color:#393A34">&lt;</span><span class="token generic-function generic class-name builtin">number</span><span class="token generic-function generic class-name operator" style="color:#393A34">&gt;</span><span class="token punctuation" style="color:#393A34">(</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token template-string string" style="color:#e3116c">number of items in local storage</span><span class="token template-string template-punctuation string" style="color:#e3116c">`</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">async</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">actor</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Actor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> browseTheWeb</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> BrowseTheWeb </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> BrowseTheWeb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">as</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">actor</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">    </span><span class="token comment" style="color:#999988;font-style:italic">// retrieve an ability</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">const</span><span class="token plain"> page</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> Page </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">await</span><span class="token plain"> browseTheWeb</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">currentPage</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token keyword" style="color:#00009f">return</span><span class="token plain"> page</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">executeScript</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=&gt;</span><span class="token plain"> window</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">localStorage</span><span class="token punctuation" style="color:#393A34">.</span><span class="token plain">length</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><hr class="tsd-divider"><h4 class="tsd-type-parameters-title">Type parameters</h4><ul class="tsd-type-parameters"><li><strong>A</strong><span class="tsd-signature-symbol">:</span> <a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/Ability/">Ability</a></li></ul><h4 class="tsd-parameters-title">Parameters</h4><ul class="tsd-parameters"><li><h5><span class="tsd-flag tsd-flag-external">external</span>this: <a class="tsd-signature-type" data-tsd-kind="2097152" href="/api/core/#AbilityType">AbilityType</a><span class="tsd-signature-symbol">&lt;</span><span class="tsd-signature-type tsd-signature-type-generic">A</span><span class="tsd-signature-symbol">&gt;</span></h5></li><li><h5><span class="tsd-flag tsd-flag-external">external</span>actor: <a class="tsd-signature-type" data-tsd-kind="256" href="/api/core/interface/UsesAbilities/">UsesAbilities</a></h5></li></ul><h4 class="tsd-returns-title">Returns <span class="tsd-signature-type tsd-signature-type-generic">A</span></h4></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="/api/core/class/Ability/#abilityType"><span class="tsd-anchor-id" id="abilityType"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/serenity-js/serenity-js/blob/main/packages/core/src/screenplay/abilities/Ability.ts#L443" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a><span class="tsd-flag tsd-flag-static">static</span><span class="tsd-flag tsd-flag-external">external</span>abilityType</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>abilityType<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type" data-tsd-kind="2097152" href="/api/core/#AbilityType">AbilityType</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/Ability/">Ability</a><span class="tsd-signature-symbol">&gt;</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Returns the most abstract type of this Ability class,
specifically the first class in the inheritance hierarchy that directly extends the <code>Ability</code> class.</p>

<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Ability </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyAbility</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Ability</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MySpecialisedAbility</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">MyAbility</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MyAbility</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">abilityType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// returns MyAbility</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">MySpecialisedAbility</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">abilityType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// returns MyAbility</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><hr class="tsd-divider"><h4 class="tsd-returns-title">Returns <a class="tsd-signature-type" data-tsd-kind="2097152" href="/api/core/#AbilityType">AbilityType</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/Ability/">Ability</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="/api/core/class/Ability/#toJSON"><span class="tsd-anchor-id" id="toJSON"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/serenity-js/serenity-js/blob/main/packages/core/src/screenplay/abilities/Ability.ts#L414" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a><span class="tsd-flag tsd-flag-external">external</span>toJSON</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>toJSON<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type" data-tsd-kind="256" href="/api/core/interface/SerialisedAbility/">SerialisedAbility</a></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Returns a JSON representation of the ability and its current state, if available.
The purpose of this method is to enable reporting the state of the ability in a human-readable format,
rather than to serialise and deserialise the ability itself.</p></div></div></div><hr class="tsd-divider"><h4 class="tsd-returns-title">Returns <a class="tsd-signature-type" data-tsd-kind="256" href="/api/core/interface/SerialisedAbility/">SerialisedAbility</a></h4></li></ul></div></section><section class="tsd-panel tsd-member"><h3 class="tsd-panel-header"><a class="tsd-anchor" href="/api/core/class/Ability/#abilityType"><span class="tsd-anchor-id" id="abilityType"></span><i class="codicon codicon-symbol-numeric"></i></a><a class="tsd-anchor" href="https://github.com/serenity-js/serenity-js/blob/main/packages/core/src/screenplay/abilities/Ability.ts#L461" rel="noreferrer" target="_blank"><i class="codicon codicon-file-code"></i></a><span class="tsd-flag tsd-flag-external">external</span>abilityType</h3><div class="tsd-panel-content"><ul class="tsd-signatures"><li class="tsd-signature tsd-kind-icon"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info)"></i>abilityType<span class="tsd-signature-symbol">(</span><span class="tsd-signature-symbol">)</span><span class="tsd-signature-symbol">: </span><a class="tsd-signature-type" data-tsd-kind="2097152" href="/api/core/#AbilityType">AbilityType</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/Ability/">Ability</a><span class="tsd-signature-symbol">&gt;</span></li></ul></div><div class="tsd-panel-content"><ul class="tsd-descriptions"><li class="tsd-description"><div class="tsd-comment tsd-typography"><div class="lead"><div class="tsd-markdown markdown"><p>Returns the most abstract type of this Ability instance,
specifically the first class in the inheritance hierarchy that directly extends the <code>Ability</code> class.</p>

<div class="language-ts codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-ts codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">import</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"> Ability </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">from</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">&#x27;@serenity-js/core&#x27;</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MyAbility</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">Ability</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">class</span><span class="token plain"> </span><span class="token class-name">MySpecialisedAbility</span><span class="token plain"> </span><span class="token keyword" style="color:#00009f">extends</span><span class="token plain"> </span><span class="token class-name">MyAbility</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">MyAbility</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">abilityType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain">            </span><span class="token comment" style="color:#999988;font-style:italic">// returns MyAbility</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token keyword" style="color:#00009f">new</span><span class="token plain"> </span><span class="token class-name">MySpecialisedAbility</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">.</span><span class="token function" style="color:#d73a49">abilityType</span><span class="token punctuation" style="color:#393A34">(</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// returns MyAbility</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg viewBox="0 0 24 24" class="copyButtonIcon_y97N"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg viewBox="0 0 24 24" class="copyButtonSuccessIcon_LjdS"><path fill="currentColor" d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></div></div></div><hr class="tsd-divider"><h4 class="tsd-returns-title">Returns <a class="tsd-signature-type" data-tsd-kind="2097152" href="/api/core/#AbilityType">AbilityType</a><span class="tsd-signature-symbol">&lt;</span><a class="tsd-signature-type" data-tsd-kind="128" href="/api/core/class/Ability/">Ability</a><span class="tsd-signature-symbol">&gt;</span></h4></li></ul></div></section></section></div><footer class="tsd-footer">Powered by<!-- --> <a href="https://github.com/milesj/docusaurus-plugin-typedoc-api">docusaurus-plugin-typedoc-api</a> <!-- -->and <a href="https://typedoc.org/">TypeDoc</a></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/api/core/class/Task/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Task</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/api/core/class/Serenity/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Serenity</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a class="table-of-contents__link toc-highlight" href="/api/core/class/Ability/#constructor"><i class="codicon codicon-symbol-constructor" style="color:var(--ifm-color-info);"></i> constructor</a></li><li><a class="table-of-contents__link toc-highlight" href="/api/core/class/Ability/#as"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> as</a></li><li><a class="table-of-contents__link toc-highlight" href="/api/core/class/Ability/#abilityType"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> abilityType</a></li><li><a class="table-of-contents__link toc-highlight" href="/api/core/class/Ability/#toJSON"><i class="codicon codicon-symbol-method" style="color:var(--ifm-color-info);"></i> toJSON</a></li></ul></div></div></div></div></main></div></div></div></div><footer class="footer"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Handbook</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/handbook/">Why Serenity/JS</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/getting-started/">Getting started</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/web-testing/">Web testing</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/api-testing/">API testing</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/mobile-testing/">Mobile testing</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/design/">Core Design Patterns</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/reporting/">Reporting</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/test-runners/">Test runners</a></li><li class="footer__item"><a class="footer__link-item" href="/handbook/integration/">Integration</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/community/">Serenity/JS Community</a></li><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog and announcements</a></li><li class="footer__item"><a href="https://github.com/orgs/serenity-js/discussions" target="_blank" rel="noopener noreferrer" class="footer__link-item">Forum and Q&#x27;n&#x27;A<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://matrix.to/#/#serenity-js:gitter.im" target="_blank" rel="noopener noreferrer" class="footer__link-item">Community Chat<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/serenity-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.linkedin.com/company/serenity-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">LinkedIn<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://www.youtube.com/@serenity-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">YouTube<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sponsors/serenity-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub Sponsors<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div><div class="col footer__col"><div class="footer__title">Developers</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/api/">API Docs</a></li><li class="footer__item"><a href="https://github.com/serenity-js/?q=template&amp;type=all&amp;language=&amp;sort=" target="_blank" rel="noopener noreferrer" class="footer__link-item">Project Templates</a></li><li class="footer__item"><a href="https://github.com/serenity-js" target="_blank" rel="noopener noreferrer" class="footer__link-item">Serenity/JS GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/community/contributing/reporting-issues/">Report an issue</a></li></ul></div><div class="col footer__col"><div class="footer__title">Legal</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/legal/license/">License</a></li><li class="footer__item"><a class="footer__link-item" href="/legal/privacy-policy/">Privacy policy</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Made with 💛 in London, UK. Copyright © 2016-2024 <a href="https://janmolak.com">Jan Molak</a>, smartcode ltd.</div></div></div></footer></div>
</body>
</html>